{
  "id" : 291,
  "expression" : "state8",
  "projectName" : "signalapp@Signal-Android",
  "commitID" : "7e91132e7ed62a58b5f347de252ab1eda3f43b90",
  "filePath" : "/app/src/test/java/org/thoughtcrime/securesms/groups/v2/processing/GroupStateMapperTest.java",
  "occurrences" : 2,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "state8",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 6,
      "startLineNumber" : 275,
      "startColumnNumber" : 63,
      "endLineNumber" : 275,
      "endColumnNumber" : 69
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.VariableDeclarationFragment,initializer]",
      "nodePosition" : {
        "charLength" : 473,
        "startLineNumber" : 275,
        "startColumnNumber" : 39,
        "endLineNumber" : 276,
        "endColumnNumber" : 441
      },
      "nodeContext" : "new ServerGroupLogEntry(state8,change(8))",
      "nodeType" : "ClassInstanceCreation",
      "astNodeNumber" : 7,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.VariableDeclarationStatement,fragments]",
      "nodePosition" : {
        "charLength" : 488,
        "startLineNumber" : 275,
        "startColumnNumber" : 24,
        "endLineNumber" : 276,
        "endColumnNumber" : 441
      },
      "nodeContext" : "log8=new ServerGroupLogEntry(state8,change(8))",
      "nodeType" : "VariableDeclarationFragment",
      "astNodeNumber" : 9,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 509,
        "startLineNumber" : 275,
        "startColumnNumber" : 4,
        "endLineNumber" : 276,
        "endColumnNumber" : 442
      },
      "nodeContext" : "ServerGroupLogEntry log8=new ServerGroupLogEntry(state8,change(8));\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 12,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 3707,
        "startLineNumber" : 260,
        "startColumnNumber" : 73,
        "endLineNumber" : 295,
        "endColumnNumber" : 3
      },
      "nodeContext" : "{\n  DecryptedGroup currentState=state(6);\n  ServerGroupLogEntry log7=serverLogEntry(7);\n  DecryptedMember newMember=DecryptedMember.newBuilder().setUuid(UuidUtil.toByteString(UUID.randomUUID())).build();\n  DecryptedGroup state7b=DecryptedGroup.newBuilder().setRevision(8).setTitle(\"Group Revision \" + 8).build();\n  DecryptedGroup state8=DecryptedGroup.newBuilder().setRevision(8).setTitle(\"Group Revision \" + 8).addMembers(newMember).build();\n  ServerGroupLogEntry log8=new ServerGroupLogEntry(state8,change(8));\n  ServerGroupLogEntry log9=new ServerGroupLogEntry(DecryptedGroup.newBuilder().setRevision(9).addMembers(newMember).setTitle(\"Group Revision \" + 9).build(),change(9));\n  AdvanceGroupStateResult advanceGroupStateResult=GroupStateMapper.partiallyAdvanceGroupState(new GlobalGroupState(currentState,asList(log7,log8,log9)),LATEST);\n  assertThat(advanceGroupStateResult.getProcessedLogEntries(),is(asList(asLocal(log7),new LocalGroupLogEntry(state7b,log8.getChange()),new LocalGroupLogEntry(state8,DecryptedGroupChange.newBuilder().setRevision(8).addNewMembers(newMember).build()),asLocal(log9))));\n  assertNewState(new GlobalGroupState(log9.getGroup(),emptyList()),advanceGroupStateResult.getNewGlobalGroupState());\n  assertEquals(log9.getGroup(),advanceGroupStateResult.getNewGlobalGroupState().getLocalState());\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 194,
      "astHeight" : 11
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 3786,
        "startLineNumber" : 259,
        "startColumnNumber" : 2,
        "endLineNumber" : 295,
        "endColumnNumber" : 3
      },
      "nodeContext" : "@Test public void updates_with_a_server_mismatch_inserts_additional_update(){\n  DecryptedGroup currentState=state(6);\n  ServerGroupLogEntry log7=serverLogEntry(7);\n  DecryptedMember newMember=DecryptedMember.newBuilder().setUuid(UuidUtil.toByteString(UUID.randomUUID())).build();\n  DecryptedGroup state7b=DecryptedGroup.newBuilder().setRevision(8).setTitle(\"Group Revision \" + 8).build();\n  DecryptedGroup state8=DecryptedGroup.newBuilder().setRevision(8).setTitle(\"Group Revision \" + 8).addMembers(newMember).build();\n  ServerGroupLogEntry log8=new ServerGroupLogEntry(state8,change(8));\n  ServerGroupLogEntry log9=new ServerGroupLogEntry(DecryptedGroup.newBuilder().setRevision(9).addMembers(newMember).setTitle(\"Group Revision \" + 9).build(),change(9));\n  AdvanceGroupStateResult advanceGroupStateResult=GroupStateMapper.partiallyAdvanceGroupState(new GlobalGroupState(currentState,asList(log7,log8,log9)),LATEST);\n  assertThat(advanceGroupStateResult.getProcessedLogEntries(),is(asList(asLocal(log7),new LocalGroupLogEntry(state7b,log8.getChange()),new LocalGroupLogEntry(state8,DecryptedGroupChange.newBuilder().setRevision(8).addNewMembers(newMember).build()),asLocal(log9))));\n  assertNewState(new GlobalGroupState(log9.getGroup(),emptyList()),advanceGroupStateResult.getNewGlobalGroupState());\n  assertEquals(log9.getGroup(),advanceGroupStateResult.getNewGlobalGroupState().getLocalState());\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 200,
      "astHeight" : 12
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.VariableDeclarationFragment,initializer]",
      "nodePosition" : {
        "charLength" : 473,
        "startLineNumber" : 275,
        "startColumnNumber" : 39,
        "endLineNumber" : 276,
        "endColumnNumber" : 441
      },
      "nodeContext" : "new ServerGroupLogEntry(state8,change(8))",
      "nodeType" : "ClassInstanceCreation",
      "astNodeNumber" : 7,
      "astHeight" : 3
    },
    "tokenLength" : 1,
    "type" : "org.thoughtcrime.securesms.groups.v2.processing.DecryptedGroup"
  }, {
    "nodeContext" : "state8",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 6,
      "startLineNumber" : 288,
      "startColumnNumber" : 98,
      "endLineNumber" : 288,
      "endColumnNumber" : 104
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 494,
        "startLineNumber" : 288,
        "startColumnNumber" : 75,
        "endLineNumber" : 291,
        "endColumnNumber" : 135
      },
      "nodeContext" : "new LocalGroupLogEntry(state8,DecryptedGroupChange.newBuilder().setRevision(8).addNewMembers(newMember).build())",
      "nodeType" : "ClassInstanceCreation",
      "astNodeNumber" : 15,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 808,
        "startLineNumber" : 286,
        "startColumnNumber" : 68,
        "endLineNumber" : 292,
        "endColumnNumber" : 89
      },
      "nodeContext" : "asList(asLocal(log7),new LocalGroupLogEntry(state7b,log8.getChange()),new LocalGroupLogEntry(state8,DecryptedGroupChange.newBuilder().setRevision(8).addNewMembers(newMember).build()),asLocal(log9))",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 30,
      "astHeight" : 7
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 812,
        "startLineNumber" : 286,
        "startColumnNumber" : 65,
        "endLineNumber" : 292,
        "endColumnNumber" : 90
      },
      "nodeContext" : "is(asList(asLocal(log7),new LocalGroupLogEntry(state7b,log8.getChange()),new LocalGroupLogEntry(state8,DecryptedGroupChange.newBuilder().setRevision(8).addNewMembers(newMember).build()),asLocal(log9)))",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 32,
      "astHeight" : 8
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 874,
        "startLineNumber" : 286,
        "startColumnNumber" : 4,
        "endLineNumber" : 292,
        "endColumnNumber" : 91
      },
      "nodeContext" : "assertThat(advanceGroupStateResult.getProcessedLogEntries(),is(asList(asLocal(log7),new LocalGroupLogEntry(state7b,log8.getChange()),new LocalGroupLogEntry(state8,DecryptedGroupChange.newBuilder().setRevision(8).addNewMembers(newMember).build()),asLocal(log9))))",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 37,
      "astHeight" : 9
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 875,
        "startLineNumber" : 286,
        "startColumnNumber" : 4,
        "endLineNumber" : 292,
        "endColumnNumber" : 92
      },
      "nodeContext" : "assertThat(advanceGroupStateResult.getProcessedLogEntries(),is(asList(asLocal(log7),new LocalGroupLogEntry(state7b,log8.getChange()),new LocalGroupLogEntry(state8,DecryptedGroupChange.newBuilder().setRevision(8).addNewMembers(newMember).build()),asLocal(log9))));\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 38,
      "astHeight" : 10
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 3707,
        "startLineNumber" : 260,
        "startColumnNumber" : 73,
        "endLineNumber" : 295,
        "endColumnNumber" : 3
      },
      "nodeContext" : "{\n  DecryptedGroup currentState=state(6);\n  ServerGroupLogEntry log7=serverLogEntry(7);\n  DecryptedMember newMember=DecryptedMember.newBuilder().setUuid(UuidUtil.toByteString(UUID.randomUUID())).build();\n  DecryptedGroup state7b=DecryptedGroup.newBuilder().setRevision(8).setTitle(\"Group Revision \" + 8).build();\n  DecryptedGroup state8=DecryptedGroup.newBuilder().setRevision(8).setTitle(\"Group Revision \" + 8).addMembers(newMember).build();\n  ServerGroupLogEntry log8=new ServerGroupLogEntry(state8,change(8));\n  ServerGroupLogEntry log9=new ServerGroupLogEntry(DecryptedGroup.newBuilder().setRevision(9).addMembers(newMember).setTitle(\"Group Revision \" + 9).build(),change(9));\n  AdvanceGroupStateResult advanceGroupStateResult=GroupStateMapper.partiallyAdvanceGroupState(new GlobalGroupState(currentState,asList(log7,log8,log9)),LATEST);\n  assertThat(advanceGroupStateResult.getProcessedLogEntries(),is(asList(asLocal(log7),new LocalGroupLogEntry(state7b,log8.getChange()),new LocalGroupLogEntry(state8,DecryptedGroupChange.newBuilder().setRevision(8).addNewMembers(newMember).build()),asLocal(log9))));\n  assertNewState(new GlobalGroupState(log9.getGroup(),emptyList()),advanceGroupStateResult.getNewGlobalGroupState());\n  assertEquals(log9.getGroup(),advanceGroupStateResult.getNewGlobalGroupState().getLocalState());\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 194,
      "astHeight" : 11
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 3786,
        "startLineNumber" : 259,
        "startColumnNumber" : 2,
        "endLineNumber" : 295,
        "endColumnNumber" : 3
      },
      "nodeContext" : "@Test public void updates_with_a_server_mismatch_inserts_additional_update(){\n  DecryptedGroup currentState=state(6);\n  ServerGroupLogEntry log7=serverLogEntry(7);\n  DecryptedMember newMember=DecryptedMember.newBuilder().setUuid(UuidUtil.toByteString(UUID.randomUUID())).build();\n  DecryptedGroup state7b=DecryptedGroup.newBuilder().setRevision(8).setTitle(\"Group Revision \" + 8).build();\n  DecryptedGroup state8=DecryptedGroup.newBuilder().setRevision(8).setTitle(\"Group Revision \" + 8).addMembers(newMember).build();\n  ServerGroupLogEntry log8=new ServerGroupLogEntry(state8,change(8));\n  ServerGroupLogEntry log9=new ServerGroupLogEntry(DecryptedGroup.newBuilder().setRevision(9).addMembers(newMember).setTitle(\"Group Revision \" + 9).build(),change(9));\n  AdvanceGroupStateResult advanceGroupStateResult=GroupStateMapper.partiallyAdvanceGroupState(new GlobalGroupState(currentState,asList(log7,log8,log9)),LATEST);\n  assertThat(advanceGroupStateResult.getProcessedLogEntries(),is(asList(asLocal(log7),new LocalGroupLogEntry(state7b,log8.getChange()),new LocalGroupLogEntry(state8,DecryptedGroupChange.newBuilder().setRevision(8).addNewMembers(newMember).build()),asLocal(log9))));\n  assertNewState(new GlobalGroupState(log9.getGroup(),emptyList()),advanceGroupStateResult.getNewGlobalGroupState());\n  assertEquals(log9.getGroup(),advanceGroupStateResult.getNewGlobalGroupState().getLocalState());\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 200,
      "astHeight" : 12
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 494,
        "startLineNumber" : 288,
        "startColumnNumber" : 75,
        "endLineNumber" : 291,
        "endColumnNumber" : 135
      },
      "nodeContext" : "new LocalGroupLogEntry(state8,DecryptedGroupChange.newBuilder().setRevision(8).addNewMembers(newMember).build())",
      "nodeType" : "ClassInstanceCreation",
      "astNodeNumber" : 15,
      "astHeight" : 6
    },
    "tokenLength" : 1,
    "type" : "org.thoughtcrime.securesms.groups.v2.processing.DecryptedGroup"
  } ],
  "positionList" : [ {
    "charLength" : 6,
    "startLineNumber" : 275,
    "startColumnNumber" : 63,
    "endLineNumber" : 275,
    "endColumnNumber" : 69
  }, {
    "charLength" : 6,
    "startLineNumber" : 288,
    "startColumnNumber" : 98,
    "endLineNumber" : 288,
    "endColumnNumber" : 104
  } ],
  "layoutRelationDataList" : [ {
    "firstKey" : 0,
    "secondKey" : 1,
    "layout" : 3
  }, {
    "firstKey" : 1,
    "secondKey" : 0,
    "layout" : 5
  } ]
}
{
  "id" : 280,
  "expression" : "repositoryRoot",
  "projectName" : "bazelbuild@bazel",
  "commitID" : "302971e1b3d803069ac949c0085c0d2a3916c8ab",
  "filePath" : "/src/main/java/com/google/devtools/build/lib/rules/cpp/proto/CcProtoAspect.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "repositoryRoot",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 14,
      "startLineNumber" : 346,
      "startColumnNumber" : 52,
      "endLineNumber" : 346,
      "endColumnNumber" : 66
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 30,
        "startLineNumber" : 346,
        "startColumnNumber" : 52,
        "endLineNumber" : 346,
        "endColumnNumber" : 82
      },
      "nodeContext" : "repositoryRoot.getPathString()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,rightOperand]",
      "nodePosition" : {
        "charLength" : 48,
        "startLineNumber" : 346,
        "startColumnNumber" : 35,
        "endLineNumber" : 346,
        "endColumnNumber" : 83
      },
      "nodeContext" : "protoRoot.equals(repositoryRoot.getPathString())",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 6,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 73,
        "startLineNumber" : 346,
        "startColumnNumber" : 10,
        "endLineNumber" : 346,
        "endColumnNumber" : 83
      },
      "nodeContext" : "protoRoot.equals(\".\") || protoRoot.equals(repositoryRoot.getPathString())",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 11,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 111,
        "startLineNumber" : 346,
        "startColumnNumber" : 6,
        "endLineNumber" : 348,
        "endColumnNumber" : 7
      },
      "nodeContext" : "if (protoRoot.equals(\".\") || protoRoot.equals(repositoryRoot.getPathString())) {\n  return helper;\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 15,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 2391,
        "startLineNumber" : 316,
        "startColumnNumber" : 34,
        "endLineNumber" : 369,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  CcCommon common=new CcCommon(ruleContext);\n  CcToolchainProvider toolchain=ccToolchain(ruleContext);\n  CcCompilationHelper helper=new CcCompilationHelper(ruleContext,ruleContext,ruleContext.getLabel(),CppHelper.getGrepIncludes(ruleContext),cppSemantics,featureConfiguration,toolchain,toolchain.getFdoContext(),TargetUtils.getExecutionInfo(ruleContext.getRule(),ruleContext.isAllowTagsPropagation()),true).addCcCompilationContexts(CppHelper.getCompilationContextsFromDeps(deps)).addCcCompilationContexts(ImmutableList.of(CcCompilationHelper.getStlCcCompilationContext(ruleContext))).setPurpose(common.getPurpose(cppSemantics)).setHeadersCheckingMode(HeadersCheckingMode.LOOSE);\n  helper.setCodeCoverageEnabled(false);\n  String protoRoot=protoInfo.getDirectProtoSourceRoot();\n  PathFragment repositoryRoot=ruleContext.getLabel().getRepository().getExecPath(ruleContext.getConfiguration().isSiblingRepositoryLayout());\n  if (protoRoot.equals(\".\") || protoRoot.equals(repositoryRoot.getPathString())) {\n    return helper;\n  }\n  PathFragment protoRootFragment=PathFragment.create(protoRoot);\n  PathFragment binOrGenfiles=ruleContext.getBinOrGenfilesDirectory().getExecPath();\n  if (protoRootFragment.startsWith(binOrGenfiles)) {\n    protoRootFragment=protoRootFragment.relativeTo(binOrGenfiles);\n  }\n  PathFragment repositoryPath=ruleContext.getLabel().getRepository().getExecPath(ruleContext.getConfiguration().isSiblingRepositoryLayout());\n  if (protoRootFragment.startsWith(repositoryPath)) {\n    protoRootFragment=protoRootFragment.relativeTo(repositoryPath);\n  }\n  String stripIncludePrefix=PathFragment.create(\"//\").getRelative(protoRootFragment).toString();\n  helper.setStripIncludePrefix(stripIncludePrefix);\n  return helper;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 205,
      "astHeight" : 11
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 2570,
        "startLineNumber" : 314,
        "startColumnNumber" : 4,
        "endLineNumber" : 369,
        "endColumnNumber" : 5
      },
      "nodeContext" : "private CcCompilationHelper initializeCompilationHelper(FeatureConfiguration featureConfiguration,List<TransitiveInfoCollection> deps) throws RuleErrorException {\n  CcCommon common=new CcCommon(ruleContext);\n  CcToolchainProvider toolchain=ccToolchain(ruleContext);\n  CcCompilationHelper helper=new CcCompilationHelper(ruleContext,ruleContext,ruleContext.getLabel(),CppHelper.getGrepIncludes(ruleContext),cppSemantics,featureConfiguration,toolchain,toolchain.getFdoContext(),TargetUtils.getExecutionInfo(ruleContext.getRule(),ruleContext.isAllowTagsPropagation()),true).addCcCompilationContexts(CppHelper.getCompilationContextsFromDeps(deps)).addCcCompilationContexts(ImmutableList.of(CcCompilationHelper.getStlCcCompilationContext(ruleContext))).setPurpose(common.getPurpose(cppSemantics)).setHeadersCheckingMode(HeadersCheckingMode.LOOSE);\n  helper.setCodeCoverageEnabled(false);\n  String protoRoot=protoInfo.getDirectProtoSourceRoot();\n  PathFragment repositoryRoot=ruleContext.getLabel().getRepository().getExecPath(ruleContext.getConfiguration().isSiblingRepositoryLayout());\n  if (protoRoot.equals(\".\") || protoRoot.equals(repositoryRoot.getPathString())) {\n    return helper;\n  }\n  PathFragment protoRootFragment=PathFragment.create(protoRoot);\n  PathFragment binOrGenfiles=ruleContext.getBinOrGenfilesDirectory().getExecPath();\n  if (protoRootFragment.startsWith(binOrGenfiles)) {\n    protoRootFragment=protoRootFragment.relativeTo(binOrGenfiles);\n  }\n  PathFragment repositoryPath=ruleContext.getLabel().getRepository().getExecPath(ruleContext.getConfiguration().isSiblingRepositoryLayout());\n  if (protoRootFragment.startsWith(repositoryPath)) {\n    protoRootFragment=protoRootFragment.relativeTo(repositoryPath);\n  }\n  String stripIncludePrefix=PathFragment.create(\"//\").getRelative(protoRootFragment).toString();\n  helper.setStripIncludePrefix(stripIncludePrefix);\n  return helper;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 223,
      "astHeight" : 12
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 73,
        "startLineNumber" : 346,
        "startColumnNumber" : 10,
        "endLineNumber" : 346,
        "endColumnNumber" : 83
      },
      "nodeContext" : "protoRoot.equals(\".\") || protoRoot.equals(repositoryRoot.getPathString())",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 11,
      "astHeight" : 4
    },
    "tokenLength" : 1,
    "type" : "com.google.devtools.build.lib.vfs.PathFragment"
  } ],
  "positionList" : [ {
    "charLength" : 14,
    "startLineNumber" : 346,
    "startColumnNumber" : 52,
    "endLineNumber" : 346,
    "endColumnNumber" : 66
  } ],
  "layoutRelationDataList" : [ ]
}
{
  "id" : 456,
  "expression" : "stats.throughputOut",
  "projectName" : "apache@pulsar",
  "commitID" : "ded806fd52f6e2f182fa02052cbd82c2a6755098",
  "filePath" : "/pulsar-broker/src/main/java/org/apache/pulsar/broker/stats/prometheus/NamespaceStatsAggregator.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "stats.throughputOut",
    "nodeType" : "QualifiedName",
    "nodePosition" : {
      "charLength" : 19,
      "startLineNumber" : 254,
      "startColumnNumber" : 68,
      "endLineNumber" : 254,
      "endColumnNumber" : 87
    },
    "astNodeNumber" : 3,
    "astHeight" : 2,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 80,
        "startLineNumber" : 254,
        "startColumnNumber" : 8,
        "endLineNumber" : 254,
        "endColumnNumber" : 88
      },
      "nodeContext" : "metric(stream,cluster,namespace,\"pulsar_throughput_out\",stats.throughputOut)",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 9,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 81,
        "startLineNumber" : 254,
        "startColumnNumber" : 8,
        "endLineNumber" : 254,
        "endColumnNumber" : 89
      },
      "nodeContext" : "metric(stream,cluster,namespace,\"pulsar_throughput_out\",stats.throughputOut);\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 10,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 8042,
        "startLineNumber" : 245,
        "startColumnNumber" : 76,
        "endLineNumber" : 345,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  metric(stream,cluster,namespace,\"pulsar_topics_count\",stats.topicsCount);\n  metric(stream,cluster,namespace,\"pulsar_subscriptions_count\",stats.subscriptionsCount);\n  metric(stream,cluster,namespace,\"pulsar_producers_count\",stats.producersCount);\n  metric(stream,cluster,namespace,\"pulsar_consumers_count\",stats.consumersCount);\n  metric(stream,cluster,namespace,\"pulsar_rate_in\",stats.rateIn);\n  metric(stream,cluster,namespace,\"pulsar_rate_out\",stats.rateOut);\n  metric(stream,cluster,namespace,\"pulsar_throughput_in\",stats.throughputIn);\n  metric(stream,cluster,namespace,\"pulsar_throughput_out\",stats.throughputOut);\n  metric(stream,cluster,namespace,\"pulsar_in_bytes_total\",stats.bytesInCounter);\n  metric(stream,cluster,namespace,\"pulsar_in_messages_total\",stats.msgInCounter);\n  metric(stream,cluster,namespace,\"pulsar_out_bytes_total\",stats.bytesOutCounter);\n  metric(stream,cluster,namespace,\"pulsar_out_messages_total\",stats.msgOutCounter);\n  metric(stream,cluster,namespace,\"pulsar_storage_size\",stats.managedLedgerStats.storageSize);\n  metric(stream,cluster,namespace,\"pulsar_storage_logical_size\",stats.managedLedgerStats.storageLogicalSize);\n  metric(stream,cluster,namespace,\"pulsar_storage_backlog_size\",stats.managedLedgerStats.backlogSize);\n  metric(stream,cluster,namespace,\"pulsar_storage_offloaded_size\",stats.managedLedgerStats.offloadedStorageUsed);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_rate\",stats.managedLedgerStats.storageWriteRate);\n  metric(stream,cluster,namespace,\"pulsar_storage_read_rate\",stats.managedLedgerStats.storageReadRate);\n  metric(stream,cluster,namespace,\"pulsar_subscription_delayed\",stats.msgDelayed);\n  metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_msg_backlog\",\"local\",stats.msgBacklog);\n  stats.managedLedgerStats.storageWriteLatencyBuckets.refresh();\n  long[] latencyBuckets=stats.managedLedgerStats.storageWriteLatencyBuckets.getBuckets();\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_0_5\",latencyBuckets[0]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_1\",latencyBuckets[1]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_5\",latencyBuckets[2]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_10\",latencyBuckets[3]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_20\",latencyBuckets[4]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_50\",latencyBuckets[5]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_100\",latencyBuckets[6]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_200\",latencyBuckets[7]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_1000\",latencyBuckets[8]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_overflow\",latencyBuckets[9]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_count\",stats.managedLedgerStats.storageWriteLatencyBuckets.getCount());\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_sum\",stats.managedLedgerStats.storageWriteLatencyBuckets.getSum());\n  stats.managedLedgerStats.storageLedgerWriteLatencyBuckets.refresh();\n  long[] ledgerWritelatencyBuckets=stats.managedLedgerStats.storageLedgerWriteLatencyBuckets.getBuckets();\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_0_5\",ledgerWritelatencyBuckets[0]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_1\",ledgerWritelatencyBuckets[1]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_5\",ledgerWritelatencyBuckets[2]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_10\",ledgerWritelatencyBuckets[3]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_20\",ledgerWritelatencyBuckets[4]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_50\",ledgerWritelatencyBuckets[5]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_100\",ledgerWritelatencyBuckets[6]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_200\",ledgerWritelatencyBuckets[7]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_1000\",ledgerWritelatencyBuckets[8]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_overflow\",ledgerWritelatencyBuckets[9]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_count\",stats.managedLedgerStats.storageLedgerWriteLatencyBuckets.getCount());\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_sum\",stats.managedLedgerStats.storageLedgerWriteLatencyBuckets.getSum());\n  stats.managedLedgerStats.entrySizeBuckets.refresh();\n  long[] entrySizeBuckets=stats.managedLedgerStats.entrySizeBuckets.getBuckets();\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_128\",entrySizeBuckets[0]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_512\",entrySizeBuckets[1]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_1_kb\",entrySizeBuckets[2]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_2_kb\",entrySizeBuckets[3]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_4_kb\",entrySizeBuckets[4]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_16_kb\",entrySizeBuckets[5]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_100_kb\",entrySizeBuckets[6]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_1_mb\",entrySizeBuckets[7]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_overflow\",entrySizeBuckets[8]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_count\",stats.managedLedgerStats.entrySizeBuckets.getCount());\n  metric(stream,cluster,namespace,\"pulsar_entry_size_sum\",stats.managedLedgerStats.entrySizeBuckets.getSum());\n  if (!stats.replicationStats.isEmpty()) {\n    stats.replicationStats.forEach((remoteCluster,replStats) -> {\n      metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_replication_rate_in\",remoteCluster,replStats.msgRateIn);\n      metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_replication_rate_out\",remoteCluster,replStats.msgRateOut);\n      metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_replication_throughput_in\",remoteCluster,replStats.msgThroughputIn);\n      metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_replication_throughput_out\",remoteCluster,replStats.msgThroughputOut);\n      metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_replication_backlog\",remoteCluster,replStats.replicationBacklog);\n      metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_replication_connected_count\",remoteCluster,replStats.connectedCount);\n      metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_replication_rate_expired\",remoteCluster,replStats.msgRateExpired);\n      metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_replication_delay_in_seconds\",remoteCluster,replStats.replicationDelayInSeconds);\n    }\n);\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 759,
      "astHeight" : 11
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 8223,
        "startLineNumber" : 244,
        "startColumnNumber" : 4,
        "endLineNumber" : 345,
        "endColumnNumber" : 5
      },
      "nodeContext" : "private static void printNamespaceStats(SimpleTextOutputStream stream,String cluster,String namespace,AggregatedNamespaceStats stats){\n  metric(stream,cluster,namespace,\"pulsar_topics_count\",stats.topicsCount);\n  metric(stream,cluster,namespace,\"pulsar_subscriptions_count\",stats.subscriptionsCount);\n  metric(stream,cluster,namespace,\"pulsar_producers_count\",stats.producersCount);\n  metric(stream,cluster,namespace,\"pulsar_consumers_count\",stats.consumersCount);\n  metric(stream,cluster,namespace,\"pulsar_rate_in\",stats.rateIn);\n  metric(stream,cluster,namespace,\"pulsar_rate_out\",stats.rateOut);\n  metric(stream,cluster,namespace,\"pulsar_throughput_in\",stats.throughputIn);\n  metric(stream,cluster,namespace,\"pulsar_throughput_out\",stats.throughputOut);\n  metric(stream,cluster,namespace,\"pulsar_in_bytes_total\",stats.bytesInCounter);\n  metric(stream,cluster,namespace,\"pulsar_in_messages_total\",stats.msgInCounter);\n  metric(stream,cluster,namespace,\"pulsar_out_bytes_total\",stats.bytesOutCounter);\n  metric(stream,cluster,namespace,\"pulsar_out_messages_total\",stats.msgOutCounter);\n  metric(stream,cluster,namespace,\"pulsar_storage_size\",stats.managedLedgerStats.storageSize);\n  metric(stream,cluster,namespace,\"pulsar_storage_logical_size\",stats.managedLedgerStats.storageLogicalSize);\n  metric(stream,cluster,namespace,\"pulsar_storage_backlog_size\",stats.managedLedgerStats.backlogSize);\n  metric(stream,cluster,namespace,\"pulsar_storage_offloaded_size\",stats.managedLedgerStats.offloadedStorageUsed);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_rate\",stats.managedLedgerStats.storageWriteRate);\n  metric(stream,cluster,namespace,\"pulsar_storage_read_rate\",stats.managedLedgerStats.storageReadRate);\n  metric(stream,cluster,namespace,\"pulsar_subscription_delayed\",stats.msgDelayed);\n  metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_msg_backlog\",\"local\",stats.msgBacklog);\n  stats.managedLedgerStats.storageWriteLatencyBuckets.refresh();\n  long[] latencyBuckets=stats.managedLedgerStats.storageWriteLatencyBuckets.getBuckets();\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_0_5\",latencyBuckets[0]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_1\",latencyBuckets[1]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_5\",latencyBuckets[2]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_10\",latencyBuckets[3]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_20\",latencyBuckets[4]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_50\",latencyBuckets[5]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_100\",latencyBuckets[6]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_200\",latencyBuckets[7]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_le_1000\",latencyBuckets[8]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_overflow\",latencyBuckets[9]);\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_count\",stats.managedLedgerStats.storageWriteLatencyBuckets.getCount());\n  metric(stream,cluster,namespace,\"pulsar_storage_write_latency_sum\",stats.managedLedgerStats.storageWriteLatencyBuckets.getSum());\n  stats.managedLedgerStats.storageLedgerWriteLatencyBuckets.refresh();\n  long[] ledgerWritelatencyBuckets=stats.managedLedgerStats.storageLedgerWriteLatencyBuckets.getBuckets();\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_0_5\",ledgerWritelatencyBuckets[0]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_1\",ledgerWritelatencyBuckets[1]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_5\",ledgerWritelatencyBuckets[2]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_10\",ledgerWritelatencyBuckets[3]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_20\",ledgerWritelatencyBuckets[4]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_50\",ledgerWritelatencyBuckets[5]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_100\",ledgerWritelatencyBuckets[6]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_200\",ledgerWritelatencyBuckets[7]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_le_1000\",ledgerWritelatencyBuckets[8]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_overflow\",ledgerWritelatencyBuckets[9]);\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_count\",stats.managedLedgerStats.storageLedgerWriteLatencyBuckets.getCount());\n  metric(stream,cluster,namespace,\"pulsar_storage_ledger_write_latency_sum\",stats.managedLedgerStats.storageLedgerWriteLatencyBuckets.getSum());\n  stats.managedLedgerStats.entrySizeBuckets.refresh();\n  long[] entrySizeBuckets=stats.managedLedgerStats.entrySizeBuckets.getBuckets();\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_128\",entrySizeBuckets[0]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_512\",entrySizeBuckets[1]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_1_kb\",entrySizeBuckets[2]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_2_kb\",entrySizeBuckets[3]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_4_kb\",entrySizeBuckets[4]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_16_kb\",entrySizeBuckets[5]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_100_kb\",entrySizeBuckets[6]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_1_mb\",entrySizeBuckets[7]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_le_overflow\",entrySizeBuckets[8]);\n  metric(stream,cluster,namespace,\"pulsar_entry_size_count\",stats.managedLedgerStats.entrySizeBuckets.getCount());\n  metric(stream,cluster,namespace,\"pulsar_entry_size_sum\",stats.managedLedgerStats.entrySizeBuckets.getSum());\n  if (!stats.replicationStats.isEmpty()) {\n    stats.replicationStats.forEach((remoteCluster,replStats) -> {\n      metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_replication_rate_in\",remoteCluster,replStats.msgRateIn);\n      metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_replication_rate_out\",remoteCluster,replStats.msgRateOut);\n      metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_replication_throughput_in\",remoteCluster,replStats.msgThroughputIn);\n      metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_replication_throughput_out\",remoteCluster,replStats.msgThroughputOut);\n      metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_replication_backlog\",remoteCluster,replStats.replicationBacklog);\n      metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_replication_connected_count\",remoteCluster,replStats.connectedCount);\n      metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_replication_rate_expired\",remoteCluster,replStats.msgRateExpired);\n      metricWithRemoteCluster(stream,cluster,namespace,\"pulsar_replication_delay_in_seconds\",remoteCluster,replStats.replicationDelayInSeconds);\n    }\n);\n  }\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 780,
      "astHeight" : 12
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 81,
        "startLineNumber" : 254,
        "startColumnNumber" : 8,
        "endLineNumber" : 254,
        "endColumnNumber" : 89
      },
      "nodeContext" : "metric(stream,cluster,namespace,\"pulsar_throughput_out\",stats.throughputOut);\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 10,
      "astHeight" : 4
    },
    "tokenLength" : 2,
    "type" : "double"
  } ],
  "positionList" : [ {
    "charLength" : 19,
    "startLineNumber" : 254,
    "startColumnNumber" : 68,
    "endLineNumber" : 254,
    "endColumnNumber" : 87
  } ],
  "layoutRelationDataList" : [ ]
}
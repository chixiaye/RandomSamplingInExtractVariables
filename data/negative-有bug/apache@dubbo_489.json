{
  "id" : 489,
  "expression" : "responseFuture.getExecutor()",
  "projectName" : "apache@dubbo",
  "commitID" : "4ea0a09846fa74b7b1a6a1a548f31859a2cddcc8",
  "filePath" : "/dubbo-remoting/dubbo-remoting-api/src/main/java/org/apache/dubbo/remoting/transport/dispatcher/WrappedChannelHandler.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "responseFuture.getExecutor()",
    "nodeType" : "MethodInvocation",
    "nodePosition" : {
      "charLength" : 28,
      "startLineNumber" : 117,
      "startColumnNumber" : 43,
      "endLineNumber" : 117,
      "endColumnNumber" : 71
    },
    "astNodeNumber" : 3,
    "astHeight" : 2,
    "parentDataList" : [ {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.VariableDeclarationStatement,fragments]",
      "nodePosition" : {
        "charLength" : 39,
        "startLineNumber" : 117,
        "startColumnNumber" : 32,
        "endLineNumber" : 117,
        "endColumnNumber" : 71
      },
      "nodeContext" : "executor=responseFuture.getExecutor()",
      "nodeType" : "VariableDeclarationFragment",
      "astNodeNumber" : 5,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 56,
        "startLineNumber" : 117,
        "startColumnNumber" : 16,
        "endLineNumber" : 117,
        "endColumnNumber" : 72
      },
      "nodeContext" : "ExecutorService executor=responseFuture.getExecutor();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 8,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 263,
        "startLineNumber" : 116,
        "startColumnNumber" : 19,
        "endLineNumber" : 122,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  ExecutorService executor=responseFuture.getExecutor();\n  if (executor == null || executor.isShutdown()) {\n    executor=getSharedExecutorService();\n  }\n  return executor;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 25,
      "astHeight" : 7
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 363,
        "startLineNumber" : 114,
        "startColumnNumber" : 12,
        "endLineNumber" : 122,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (responseFuture == null) {\n  return getSharedExecutorService();\n}\n else {\n  ExecutorService executor=responseFuture.getExecutor();\n  if (executor == null || executor.isShutdown()) {\n    executor=getSharedExecutorService();\n  }\n  return executor;\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 33,
      "astHeight" : 8
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 645,
        "startLineNumber" : 110,
        "startColumnNumber" : 37,
        "endLineNumber" : 123,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  Response response=(Response)msg;\n  DefaultFuture responseFuture=DefaultFuture.getFuture(response.getId());\n  if (responseFuture == null) {\n    return getSharedExecutorService();\n  }\n else {\n    ExecutorService executor=responseFuture.getExecutor();\n    if (executor == null || executor.isShutdown()) {\n      executor=getSharedExecutorService();\n    }\n    return executor;\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 54,
      "astHeight" : 9
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 738,
        "startLineNumber" : 110,
        "startColumnNumber" : 8,
        "endLineNumber" : 125,
        "endColumnNumber" : 9
      },
      "nodeContext" : "if (msg instanceof Response) {\n  Response response=(Response)msg;\n  DefaultFuture responseFuture=DefaultFuture.getFuture(response.getId());\n  if (responseFuture == null) {\n    return getSharedExecutorService();\n  }\n else {\n    ExecutorService executor=responseFuture.getExecutor();\n    if (executor == null || executor.isShutdown()) {\n      executor=getSharedExecutorService();\n    }\n    return executor;\n  }\n}\n else {\n  return getSharedExecutorService();\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 63,
      "astHeight" : 10
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 754,
        "startLineNumber" : 109,
        "startColumnNumber" : 67,
        "endLineNumber" : 126,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  if (msg instanceof Response) {\n    Response response=(Response)msg;\n    DefaultFuture responseFuture=DefaultFuture.getFuture(response.getId());\n    if (responseFuture == null) {\n      return getSharedExecutorService();\n    }\n else {\n      ExecutorService executor=responseFuture.getExecutor();\n      if (executor == null || executor.isShutdown()) {\n        executor=getSharedExecutorService();\n      }\n      return executor;\n    }\n  }\n else {\n    return getSharedExecutorService();\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 64,
      "astHeight" : 11
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 1130,
        "startLineNumber" : 101,
        "startColumnNumber" : 4,
        "endLineNumber" : 126,
        "endColumnNumber" : 5
      },
      "nodeContext" : "/** \n * Currently, this method is mainly customized to facilitate the thread model on consumer side. 1. Use ThreadlessExecutor, aka., delegate callback directly to the thread initiating the call. 2. Use shared executor to execute the callback.\n * @param msg\n * @return\n */\npublic ExecutorService getPreferredExecutorService(Object msg){\n  if (msg instanceof Response) {\n    Response response=(Response)msg;\n    DefaultFuture responseFuture=DefaultFuture.getFuture(response.getId());\n    if (responseFuture == null) {\n      return getSharedExecutorService();\n    }\n else {\n      ExecutorService executor=responseFuture.getExecutor();\n      if (executor == null || executor.isShutdown()) {\n        executor=getSharedExecutorService();\n      }\n      return executor;\n    }\n  }\n else {\n    return getSharedExecutorService();\n  }\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 74,
      "astHeight" : 12
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 56,
        "startLineNumber" : 117,
        "startColumnNumber" : 16,
        "endLineNumber" : 117,
        "endColumnNumber" : 72
      },
      "nodeContext" : "ExecutorService executor=responseFuture.getExecutor();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 8,
      "astHeight" : 4
    },
    "tokenLength" : 2,
    "type" : "java.util.concurrent.ExecutorService"
  } ],
  "positionList" : [ {
    "charLength" : 28,
    "startLineNumber" : 117,
    "startColumnNumber" : 43,
    "endLineNumber" : 117,
    "endColumnNumber" : 71
  } ],
  "layoutRelationDataList" : [ ]
}
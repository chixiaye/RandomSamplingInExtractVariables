{
  "id" : 453,
  "expression" : "state",
  "projectName" : "DrKLO@Telegram",
  "commitID" : "11fbfb1329df700b203e1852a71c4c11b5ab12f4",
  "filePath" : "/TMessagesProj/src/main/java/org/telegram/ui/Components/Crop/CropView.java",
  "occurrences" : 2,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "state",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 5,
      "startLineNumber" : 300,
      "startColumnNumber" : 16,
      "endLineNumber" : 300,
      "endColumnNumber" : 21
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,leftOperand]",
      "nodePosition" : {
        "charLength" : 13,
        "startLineNumber" : 300,
        "startColumnNumber" : 16,
        "endLineNumber" : 300,
        "endColumnNumber" : 29
      },
      "nodeContext" : "state == null",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 22,
        "startLineNumber" : 300,
        "startColumnNumber" : 16,
        "endLineNumber" : 300,
        "endColumnNumber" : 38
      },
      "nodeContext" : "state == null || !same",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 6,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 3496,
        "startLineNumber" : 300,
        "startColumnNumber" : 12,
        "endLineNumber" : 362,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (state == null || !same) {\n  state=new CropState(w,h,0);\n  areaView.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener(){\n    @Override public boolean onPreDraw(){\n      reset();\n      if (restoreState != null) {\n        if (restoreState.lockedAspectRatio > 0.0001f) {\n          areaView.setLockedAspectRatio(restoreState.lockedAspectRatio);\n          if (listener != null) {\n            listener.onAspectLock(true);\n          }\n        }\n        setFreeform(restoreState.freeform);\n        float aspect=areaView.getAspectRatio();\n        float stateWidth;\n        float stateHeight;\n        int rotatedW;\n        int rotatedH;\n        if (restoreState.transformRotation == 90 || restoreState.transformRotation == 270) {\n          aspect=1.0f / aspect;\n          stateWidth=state.height;\n          stateHeight=state.width;\n          rotatedW=h;\n          rotatedH=w;\n        }\n else {\n          stateWidth=state.width;\n          stateHeight=state.height;\n          rotatedW=w;\n          rotatedH=h;\n        }\n        int orientation=restoreState.transformRotation;\n        boolean fform=freeform;\n        if (freeform && areaView.getLockAspectRatio() > 0) {\n          areaView.setLockedAspectRatio(1.0f / areaView.getLockAspectRatio());\n          areaView.setActualRect(areaView.getLockAspectRatio());\n          fform=false;\n        }\n else {\n          areaView.setBitmap(getCurrentWidth(),getCurrentHeight(),(orientation + state.getBaseRotation()) % 180 != 0,freeform);\n        }\n        state.reset(areaView,orientation,fform);\n        areaView.setActualRect(aspect * restoreState.cropPw / restoreState.cropPh);\n        state.mirrored=restoreState.mirrored;\n        state.rotate(restoreState.cropRotate,0,0);\n        state.translate(restoreState.cropPx * rotatedW * state.minimumScale,restoreState.cropPy * rotatedH * state.minimumScale);\n        float ts=Math.max(areaView.getCropWidth() / stateWidth,areaView.getCropHeight() / stateHeight) / state.minimumScale;\n        state.scale(restoreState.cropScale * ts,0,0);\n        updateMatrix();\n        if (listener != null) {\n          listener.onChange(false);\n        }\n      }\n      areaView.getViewTreeObserver().removeOnPreDrawListener(this);\n      return false;\n    }\n  }\n);\n}\n else {\n  state.update(w,h,rotation);\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 337,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 3672,
        "startLineNumber" : 297,
        "startColumnNumber" : 15,
        "endLineNumber" : 364,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  int w=getCurrentWidth();\n  int h=getCurrentHeight();\n  if (state == null || !same) {\n    state=new CropState(w,h,0);\n    areaView.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener(){\n      @Override public boolean onPreDraw(){\n        reset();\n        if (restoreState != null) {\n          if (restoreState.lockedAspectRatio > 0.0001f) {\n            areaView.setLockedAspectRatio(restoreState.lockedAspectRatio);\n            if (listener != null) {\n              listener.onAspectLock(true);\n            }\n          }\n          setFreeform(restoreState.freeform);\n          float aspect=areaView.getAspectRatio();\n          float stateWidth;\n          float stateHeight;\n          int rotatedW;\n          int rotatedH;\n          if (restoreState.transformRotation == 90 || restoreState.transformRotation == 270) {\n            aspect=1.0f / aspect;\n            stateWidth=state.height;\n            stateHeight=state.width;\n            rotatedW=h;\n            rotatedH=w;\n          }\n else {\n            stateWidth=state.width;\n            stateHeight=state.height;\n            rotatedW=w;\n            rotatedH=h;\n          }\n          int orientation=restoreState.transformRotation;\n          boolean fform=freeform;\n          if (freeform && areaView.getLockAspectRatio() > 0) {\n            areaView.setLockedAspectRatio(1.0f / areaView.getLockAspectRatio());\n            areaView.setActualRect(areaView.getLockAspectRatio());\n            fform=false;\n          }\n else {\n            areaView.setBitmap(getCurrentWidth(),getCurrentHeight(),(orientation + state.getBaseRotation()) % 180 != 0,freeform);\n          }\n          state.reset(areaView,orientation,fform);\n          areaView.setActualRect(aspect * restoreState.cropPw / restoreState.cropPh);\n          state.mirrored=restoreState.mirrored;\n          state.rotate(restoreState.cropRotate,0,0);\n          state.translate(restoreState.cropPx * rotatedW * state.minimumScale,restoreState.cropPy * rotatedH * state.minimumScale);\n          float ts=Math.max(areaView.getCropWidth() / stateWidth,areaView.getCropHeight() / stateHeight) / state.minimumScale;\n          state.scale(restoreState.cropScale * ts,0,0);\n          updateMatrix();\n          if (listener != null) {\n            listener.onChange(false);\n          }\n        }\n        areaView.getViewTreeObserver().removeOnPreDrawListener(this);\n        return false;\n      }\n    }\n);\n  }\n else {\n    state.update(w,h,rotation);\n  }\n  imageView.setImageBitmap(videoView == null ? bitmap : null);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 360,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 3797,
        "startLineNumber" : 294,
        "startColumnNumber" : 8,
        "endLineNumber" : 364,
        "endColumnNumber" : 9
      },
      "nodeContext" : "if (b == null && videoView == null) {\n  state=null;\n  imageView.setImageDrawable(null);\n}\n else {\n  int w=getCurrentWidth();\n  int h=getCurrentHeight();\n  if (state == null || !same) {\n    state=new CropState(w,h,0);\n    areaView.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener(){\n      @Override public boolean onPreDraw(){\n        reset();\n        if (restoreState != null) {\n          if (restoreState.lockedAspectRatio > 0.0001f) {\n            areaView.setLockedAspectRatio(restoreState.lockedAspectRatio);\n            if (listener != null) {\n              listener.onAspectLock(true);\n            }\n          }\n          setFreeform(restoreState.freeform);\n          float aspect=areaView.getAspectRatio();\n          float stateWidth;\n          float stateHeight;\n          int rotatedW;\n          int rotatedH;\n          if (restoreState.transformRotation == 90 || restoreState.transformRotation == 270) {\n            aspect=1.0f / aspect;\n            stateWidth=state.height;\n            stateHeight=state.width;\n            rotatedW=h;\n            rotatedH=w;\n          }\n else {\n            stateWidth=state.width;\n            stateHeight=state.height;\n            rotatedW=w;\n            rotatedH=h;\n          }\n          int orientation=restoreState.transformRotation;\n          boolean fform=freeform;\n          if (freeform && areaView.getLockAspectRatio() > 0) {\n            areaView.setLockedAspectRatio(1.0f / areaView.getLockAspectRatio());\n            areaView.setActualRect(areaView.getLockAspectRatio());\n            fform=false;\n          }\n else {\n            areaView.setBitmap(getCurrentWidth(),getCurrentHeight(),(orientation + state.getBaseRotation()) % 180 != 0,freeform);\n          }\n          state.reset(areaView,orientation,fform);\n          areaView.setActualRect(aspect * restoreState.cropPw / restoreState.cropPh);\n          state.mirrored=restoreState.mirrored;\n          state.rotate(restoreState.cropRotate,0,0);\n          state.translate(restoreState.cropPx * rotatedW * state.minimumScale,restoreState.cropPy * rotatedH * state.minimumScale);\n          float ts=Math.max(areaView.getCropWidth() / stateWidth,areaView.getCropHeight() / stateHeight) / state.minimumScale;\n          state.scale(restoreState.cropScale * ts,0,0);\n          updateMatrix();\n          if (listener != null) {\n            listener.onChange(false);\n          }\n        }\n        areaView.getViewTreeObserver().removeOnPreDrawListener(this);\n        return false;\n      }\n    }\n);\n  }\n else {\n    state.update(w,h,rotation);\n  }\n  imageView.setImageBitmap(videoView == null ? bitmap : null);\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 378,
      "astHeight" : 22
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 4065,
        "startLineNumber" : 286,
        "startColumnNumber" : 201,
        "endLineNumber" : 365,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  freeform=fform;\n  paintingOverlay=overlay;\n  videoEditTextureView=videoView;\n  cropTransform=transform;\n  bitmapRotation=rotation;\n  bitmap=b;\n  areaView.setIsVideo(videoEditTextureView != null);\n  if (b == null && videoView == null) {\n    state=null;\n    imageView.setImageDrawable(null);\n  }\n else {\n    int w=getCurrentWidth();\n    int h=getCurrentHeight();\n    if (state == null || !same) {\n      state=new CropState(w,h,0);\n      areaView.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener(){\n        @Override public boolean onPreDraw(){\n          reset();\n          if (restoreState != null) {\n            if (restoreState.lockedAspectRatio > 0.0001f) {\n              areaView.setLockedAspectRatio(restoreState.lockedAspectRatio);\n              if (listener != null) {\n                listener.onAspectLock(true);\n              }\n            }\n            setFreeform(restoreState.freeform);\n            float aspect=areaView.getAspectRatio();\n            float stateWidth;\n            float stateHeight;\n            int rotatedW;\n            int rotatedH;\n            if (restoreState.transformRotation == 90 || restoreState.transformRotation == 270) {\n              aspect=1.0f / aspect;\n              stateWidth=state.height;\n              stateHeight=state.width;\n              rotatedW=h;\n              rotatedH=w;\n            }\n else {\n              stateWidth=state.width;\n              stateHeight=state.height;\n              rotatedW=w;\n              rotatedH=h;\n            }\n            int orientation=restoreState.transformRotation;\n            boolean fform=freeform;\n            if (freeform && areaView.getLockAspectRatio() > 0) {\n              areaView.setLockedAspectRatio(1.0f / areaView.getLockAspectRatio());\n              areaView.setActualRect(areaView.getLockAspectRatio());\n              fform=false;\n            }\n else {\n              areaView.setBitmap(getCurrentWidth(),getCurrentHeight(),(orientation + state.getBaseRotation()) % 180 != 0,freeform);\n            }\n            state.reset(areaView,orientation,fform);\n            areaView.setActualRect(aspect * restoreState.cropPw / restoreState.cropPh);\n            state.mirrored=restoreState.mirrored;\n            state.rotate(restoreState.cropRotate,0,0);\n            state.translate(restoreState.cropPx * rotatedW * state.minimumScale,restoreState.cropPy * rotatedH * state.minimumScale);\n            float ts=Math.max(areaView.getCropWidth() / stateWidth,areaView.getCropHeight() / stateHeight) / state.minimumScale;\n            state.scale(restoreState.cropScale * ts,0,0);\n            updateMatrix();\n            if (listener != null) {\n              listener.onChange(false);\n            }\n          }\n          areaView.getViewTreeObserver().removeOnPreDrawListener(this);\n          return false;\n        }\n      }\n);\n    }\n else {\n      state.update(w,h,rotation);\n    }\n    imageView.setImageBitmap(videoView == null ? bitmap : null);\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 410,
      "astHeight" : 23
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 4262,
        "startLineNumber" : 286,
        "startColumnNumber" : 4,
        "endLineNumber" : 365,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public void setBitmap(Bitmap b,int rotation,boolean fform,boolean same,PaintingOverlay overlay,CropTransform transform,VideoEditTextureView videoView,MediaController.CropState restoreState){\n  freeform=fform;\n  paintingOverlay=overlay;\n  videoEditTextureView=videoView;\n  cropTransform=transform;\n  bitmapRotation=rotation;\n  bitmap=b;\n  areaView.setIsVideo(videoEditTextureView != null);\n  if (b == null && videoView == null) {\n    state=null;\n    imageView.setImageDrawable(null);\n  }\n else {\n    int w=getCurrentWidth();\n    int h=getCurrentHeight();\n    if (state == null || !same) {\n      state=new CropState(w,h,0);\n      areaView.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener(){\n        @Override public boolean onPreDraw(){\n          reset();\n          if (restoreState != null) {\n            if (restoreState.lockedAspectRatio > 0.0001f) {\n              areaView.setLockedAspectRatio(restoreState.lockedAspectRatio);\n              if (listener != null) {\n                listener.onAspectLock(true);\n              }\n            }\n            setFreeform(restoreState.freeform);\n            float aspect=areaView.getAspectRatio();\n            float stateWidth;\n            float stateHeight;\n            int rotatedW;\n            int rotatedH;\n            if (restoreState.transformRotation == 90 || restoreState.transformRotation == 270) {\n              aspect=1.0f / aspect;\n              stateWidth=state.height;\n              stateHeight=state.width;\n              rotatedW=h;\n              rotatedH=w;\n            }\n else {\n              stateWidth=state.width;\n              stateHeight=state.height;\n              rotatedW=w;\n              rotatedH=h;\n            }\n            int orientation=restoreState.transformRotation;\n            boolean fform=freeform;\n            if (freeform && areaView.getLockAspectRatio() > 0) {\n              areaView.setLockedAspectRatio(1.0f / areaView.getLockAspectRatio());\n              areaView.setActualRect(areaView.getLockAspectRatio());\n              fform=false;\n            }\n else {\n              areaView.setBitmap(getCurrentWidth(),getCurrentHeight(),(orientation + state.getBaseRotation()) % 180 != 0,freeform);\n            }\n            state.reset(areaView,orientation,fform);\n            areaView.setActualRect(aspect * restoreState.cropPw / restoreState.cropPh);\n            state.mirrored=restoreState.mirrored;\n            state.rotate(restoreState.cropRotate,0,0);\n            state.translate(restoreState.cropPx * rotatedW * state.minimumScale,restoreState.cropPy * rotatedH * state.minimumScale);\n            float ts=Math.max(areaView.getCropWidth() / stateWidth,areaView.getCropHeight() / stateHeight) / state.minimumScale;\n            state.scale(restoreState.cropScale * ts,0,0);\n            updateMatrix();\n            if (listener != null) {\n              listener.onChange(false);\n            }\n          }\n          areaView.getViewTreeObserver().removeOnPreDrawListener(this);\n          return false;\n        }\n      }\n);\n    }\n else {\n      state.update(w,h,rotation);\n    }\n    imageView.setImageBitmap(videoView == null ? bitmap : null);\n  }\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 445,
      "astHeight" : 24
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 22,
        "startLineNumber" : 300,
        "startColumnNumber" : 16,
        "endLineNumber" : 300,
        "endColumnNumber" : 38
      },
      "nodeContext" : "state == null || !same",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 6,
      "astHeight" : 3
    },
    "tokenLength" : 1,
    "type" : "org.telegram.ui.Components.Crop.CropView.CropState"
  }, {
    "nodeContext" : "state",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 5,
      "startLineNumber" : 361,
      "startColumnNumber" : 16,
      "endLineNumber" : 361,
      "endColumnNumber" : 21
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 28,
        "startLineNumber" : 361,
        "startColumnNumber" : 16,
        "endLineNumber" : 361,
        "endColumnNumber" : 44
      },
      "nodeContext" : "state.update(w,h,rotation)",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 6,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 29,
        "startLineNumber" : 361,
        "startColumnNumber" : 16,
        "endLineNumber" : 361,
        "endColumnNumber" : 45
      },
      "nodeContext" : "state.update(w,h,rotation);\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 7,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 61,
        "startLineNumber" : 360,
        "startColumnNumber" : 19,
        "endLineNumber" : 362,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  state.update(w,h,rotation);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 8,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 3496,
        "startLineNumber" : 300,
        "startColumnNumber" : 12,
        "endLineNumber" : 362,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (state == null || !same) {\n  state=new CropState(w,h,0);\n  areaView.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener(){\n    @Override public boolean onPreDraw(){\n      reset();\n      if (restoreState != null) {\n        if (restoreState.lockedAspectRatio > 0.0001f) {\n          areaView.setLockedAspectRatio(restoreState.lockedAspectRatio);\n          if (listener != null) {\n            listener.onAspectLock(true);\n          }\n        }\n        setFreeform(restoreState.freeform);\n        float aspect=areaView.getAspectRatio();\n        float stateWidth;\n        float stateHeight;\n        int rotatedW;\n        int rotatedH;\n        if (restoreState.transformRotation == 90 || restoreState.transformRotation == 270) {\n          aspect=1.0f / aspect;\n          stateWidth=state.height;\n          stateHeight=state.width;\n          rotatedW=h;\n          rotatedH=w;\n        }\n else {\n          stateWidth=state.width;\n          stateHeight=state.height;\n          rotatedW=w;\n          rotatedH=h;\n        }\n        int orientation=restoreState.transformRotation;\n        boolean fform=freeform;\n        if (freeform && areaView.getLockAspectRatio() > 0) {\n          areaView.setLockedAspectRatio(1.0f / areaView.getLockAspectRatio());\n          areaView.setActualRect(areaView.getLockAspectRatio());\n          fform=false;\n        }\n else {\n          areaView.setBitmap(getCurrentWidth(),getCurrentHeight(),(orientation + state.getBaseRotation()) % 180 != 0,freeform);\n        }\n        state.reset(areaView,orientation,fform);\n        areaView.setActualRect(aspect * restoreState.cropPw / restoreState.cropPh);\n        state.mirrored=restoreState.mirrored;\n        state.rotate(restoreState.cropRotate,0,0);\n        state.translate(restoreState.cropPx * rotatedW * state.minimumScale,restoreState.cropPy * rotatedH * state.minimumScale);\n        float ts=Math.max(areaView.getCropWidth() / stateWidth,areaView.getCropHeight() / stateHeight) / state.minimumScale;\n        state.scale(restoreState.cropScale * ts,0,0);\n        updateMatrix();\n        if (listener != null) {\n          listener.onChange(false);\n        }\n      }\n      areaView.getViewTreeObserver().removeOnPreDrawListener(this);\n      return false;\n    }\n  }\n);\n}\n else {\n  state.update(w,h,rotation);\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 337,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 3672,
        "startLineNumber" : 297,
        "startColumnNumber" : 15,
        "endLineNumber" : 364,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  int w=getCurrentWidth();\n  int h=getCurrentHeight();\n  if (state == null || !same) {\n    state=new CropState(w,h,0);\n    areaView.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener(){\n      @Override public boolean onPreDraw(){\n        reset();\n        if (restoreState != null) {\n          if (restoreState.lockedAspectRatio > 0.0001f) {\n            areaView.setLockedAspectRatio(restoreState.lockedAspectRatio);\n            if (listener != null) {\n              listener.onAspectLock(true);\n            }\n          }\n          setFreeform(restoreState.freeform);\n          float aspect=areaView.getAspectRatio();\n          float stateWidth;\n          float stateHeight;\n          int rotatedW;\n          int rotatedH;\n          if (restoreState.transformRotation == 90 || restoreState.transformRotation == 270) {\n            aspect=1.0f / aspect;\n            stateWidth=state.height;\n            stateHeight=state.width;\n            rotatedW=h;\n            rotatedH=w;\n          }\n else {\n            stateWidth=state.width;\n            stateHeight=state.height;\n            rotatedW=w;\n            rotatedH=h;\n          }\n          int orientation=restoreState.transformRotation;\n          boolean fform=freeform;\n          if (freeform && areaView.getLockAspectRatio() > 0) {\n            areaView.setLockedAspectRatio(1.0f / areaView.getLockAspectRatio());\n            areaView.setActualRect(areaView.getLockAspectRatio());\n            fform=false;\n          }\n else {\n            areaView.setBitmap(getCurrentWidth(),getCurrentHeight(),(orientation + state.getBaseRotation()) % 180 != 0,freeform);\n          }\n          state.reset(areaView,orientation,fform);\n          areaView.setActualRect(aspect * restoreState.cropPw / restoreState.cropPh);\n          state.mirrored=restoreState.mirrored;\n          state.rotate(restoreState.cropRotate,0,0);\n          state.translate(restoreState.cropPx * rotatedW * state.minimumScale,restoreState.cropPy * rotatedH * state.minimumScale);\n          float ts=Math.max(areaView.getCropWidth() / stateWidth,areaView.getCropHeight() / stateHeight) / state.minimumScale;\n          state.scale(restoreState.cropScale * ts,0,0);\n          updateMatrix();\n          if (listener != null) {\n            listener.onChange(false);\n          }\n        }\n        areaView.getViewTreeObserver().removeOnPreDrawListener(this);\n        return false;\n      }\n    }\n);\n  }\n else {\n    state.update(w,h,rotation);\n  }\n  imageView.setImageBitmap(videoView == null ? bitmap : null);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 360,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 3797,
        "startLineNumber" : 294,
        "startColumnNumber" : 8,
        "endLineNumber" : 364,
        "endColumnNumber" : 9
      },
      "nodeContext" : "if (b == null && videoView == null) {\n  state=null;\n  imageView.setImageDrawable(null);\n}\n else {\n  int w=getCurrentWidth();\n  int h=getCurrentHeight();\n  if (state == null || !same) {\n    state=new CropState(w,h,0);\n    areaView.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener(){\n      @Override public boolean onPreDraw(){\n        reset();\n        if (restoreState != null) {\n          if (restoreState.lockedAspectRatio > 0.0001f) {\n            areaView.setLockedAspectRatio(restoreState.lockedAspectRatio);\n            if (listener != null) {\n              listener.onAspectLock(true);\n            }\n          }\n          setFreeform(restoreState.freeform);\n          float aspect=areaView.getAspectRatio();\n          float stateWidth;\n          float stateHeight;\n          int rotatedW;\n          int rotatedH;\n          if (restoreState.transformRotation == 90 || restoreState.transformRotation == 270) {\n            aspect=1.0f / aspect;\n            stateWidth=state.height;\n            stateHeight=state.width;\n            rotatedW=h;\n            rotatedH=w;\n          }\n else {\n            stateWidth=state.width;\n            stateHeight=state.height;\n            rotatedW=w;\n            rotatedH=h;\n          }\n          int orientation=restoreState.transformRotation;\n          boolean fform=freeform;\n          if (freeform && areaView.getLockAspectRatio() > 0) {\n            areaView.setLockedAspectRatio(1.0f / areaView.getLockAspectRatio());\n            areaView.setActualRect(areaView.getLockAspectRatio());\n            fform=false;\n          }\n else {\n            areaView.setBitmap(getCurrentWidth(),getCurrentHeight(),(orientation + state.getBaseRotation()) % 180 != 0,freeform);\n          }\n          state.reset(areaView,orientation,fform);\n          areaView.setActualRect(aspect * restoreState.cropPw / restoreState.cropPh);\n          state.mirrored=restoreState.mirrored;\n          state.rotate(restoreState.cropRotate,0,0);\n          state.translate(restoreState.cropPx * rotatedW * state.minimumScale,restoreState.cropPy * rotatedH * state.minimumScale);\n          float ts=Math.max(areaView.getCropWidth() / stateWidth,areaView.getCropHeight() / stateHeight) / state.minimumScale;\n          state.scale(restoreState.cropScale * ts,0,0);\n          updateMatrix();\n          if (listener != null) {\n            listener.onChange(false);\n          }\n        }\n        areaView.getViewTreeObserver().removeOnPreDrawListener(this);\n        return false;\n      }\n    }\n);\n  }\n else {\n    state.update(w,h,rotation);\n  }\n  imageView.setImageBitmap(videoView == null ? bitmap : null);\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 378,
      "astHeight" : 22
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 4065,
        "startLineNumber" : 286,
        "startColumnNumber" : 201,
        "endLineNumber" : 365,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  freeform=fform;\n  paintingOverlay=overlay;\n  videoEditTextureView=videoView;\n  cropTransform=transform;\n  bitmapRotation=rotation;\n  bitmap=b;\n  areaView.setIsVideo(videoEditTextureView != null);\n  if (b == null && videoView == null) {\n    state=null;\n    imageView.setImageDrawable(null);\n  }\n else {\n    int w=getCurrentWidth();\n    int h=getCurrentHeight();\n    if (state == null || !same) {\n      state=new CropState(w,h,0);\n      areaView.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener(){\n        @Override public boolean onPreDraw(){\n          reset();\n          if (restoreState != null) {\n            if (restoreState.lockedAspectRatio > 0.0001f) {\n              areaView.setLockedAspectRatio(restoreState.lockedAspectRatio);\n              if (listener != null) {\n                listener.onAspectLock(true);\n              }\n            }\n            setFreeform(restoreState.freeform);\n            float aspect=areaView.getAspectRatio();\n            float stateWidth;\n            float stateHeight;\n            int rotatedW;\n            int rotatedH;\n            if (restoreState.transformRotation == 90 || restoreState.transformRotation == 270) {\n              aspect=1.0f / aspect;\n              stateWidth=state.height;\n              stateHeight=state.width;\n              rotatedW=h;\n              rotatedH=w;\n            }\n else {\n              stateWidth=state.width;\n              stateHeight=state.height;\n              rotatedW=w;\n              rotatedH=h;\n            }\n            int orientation=restoreState.transformRotation;\n            boolean fform=freeform;\n            if (freeform && areaView.getLockAspectRatio() > 0) {\n              areaView.setLockedAspectRatio(1.0f / areaView.getLockAspectRatio());\n              areaView.setActualRect(areaView.getLockAspectRatio());\n              fform=false;\n            }\n else {\n              areaView.setBitmap(getCurrentWidth(),getCurrentHeight(),(orientation + state.getBaseRotation()) % 180 != 0,freeform);\n            }\n            state.reset(areaView,orientation,fform);\n            areaView.setActualRect(aspect * restoreState.cropPw / restoreState.cropPh);\n            state.mirrored=restoreState.mirrored;\n            state.rotate(restoreState.cropRotate,0,0);\n            state.translate(restoreState.cropPx * rotatedW * state.minimumScale,restoreState.cropPy * rotatedH * state.minimumScale);\n            float ts=Math.max(areaView.getCropWidth() / stateWidth,areaView.getCropHeight() / stateHeight) / state.minimumScale;\n            state.scale(restoreState.cropScale * ts,0,0);\n            updateMatrix();\n            if (listener != null) {\n              listener.onChange(false);\n            }\n          }\n          areaView.getViewTreeObserver().removeOnPreDrawListener(this);\n          return false;\n        }\n      }\n);\n    }\n else {\n      state.update(w,h,rotation);\n    }\n    imageView.setImageBitmap(videoView == null ? bitmap : null);\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 410,
      "astHeight" : 23
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 4262,
        "startLineNumber" : 286,
        "startColumnNumber" : 4,
        "endLineNumber" : 365,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public void setBitmap(Bitmap b,int rotation,boolean fform,boolean same,PaintingOverlay overlay,CropTransform transform,VideoEditTextureView videoView,MediaController.CropState restoreState){\n  freeform=fform;\n  paintingOverlay=overlay;\n  videoEditTextureView=videoView;\n  cropTransform=transform;\n  bitmapRotation=rotation;\n  bitmap=b;\n  areaView.setIsVideo(videoEditTextureView != null);\n  if (b == null && videoView == null) {\n    state=null;\n    imageView.setImageDrawable(null);\n  }\n else {\n    int w=getCurrentWidth();\n    int h=getCurrentHeight();\n    if (state == null || !same) {\n      state=new CropState(w,h,0);\n      areaView.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener(){\n        @Override public boolean onPreDraw(){\n          reset();\n          if (restoreState != null) {\n            if (restoreState.lockedAspectRatio > 0.0001f) {\n              areaView.setLockedAspectRatio(restoreState.lockedAspectRatio);\n              if (listener != null) {\n                listener.onAspectLock(true);\n              }\n            }\n            setFreeform(restoreState.freeform);\n            float aspect=areaView.getAspectRatio();\n            float stateWidth;\n            float stateHeight;\n            int rotatedW;\n            int rotatedH;\n            if (restoreState.transformRotation == 90 || restoreState.transformRotation == 270) {\n              aspect=1.0f / aspect;\n              stateWidth=state.height;\n              stateHeight=state.width;\n              rotatedW=h;\n              rotatedH=w;\n            }\n else {\n              stateWidth=state.width;\n              stateHeight=state.height;\n              rotatedW=w;\n              rotatedH=h;\n            }\n            int orientation=restoreState.transformRotation;\n            boolean fform=freeform;\n            if (freeform && areaView.getLockAspectRatio() > 0) {\n              areaView.setLockedAspectRatio(1.0f / areaView.getLockAspectRatio());\n              areaView.setActualRect(areaView.getLockAspectRatio());\n              fform=false;\n            }\n else {\n              areaView.setBitmap(getCurrentWidth(),getCurrentHeight(),(orientation + state.getBaseRotation()) % 180 != 0,freeform);\n            }\n            state.reset(areaView,orientation,fform);\n            areaView.setActualRect(aspect * restoreState.cropPw / restoreState.cropPh);\n            state.mirrored=restoreState.mirrored;\n            state.rotate(restoreState.cropRotate,0,0);\n            state.translate(restoreState.cropPx * rotatedW * state.minimumScale,restoreState.cropPy * rotatedH * state.minimumScale);\n            float ts=Math.max(areaView.getCropWidth() / stateWidth,areaView.getCropHeight() / stateHeight) / state.minimumScale;\n            state.scale(restoreState.cropScale * ts,0,0);\n            updateMatrix();\n            if (listener != null) {\n              listener.onChange(false);\n            }\n          }\n          areaView.getViewTreeObserver().removeOnPreDrawListener(this);\n          return false;\n        }\n      }\n);\n    }\n else {\n      state.update(w,h,rotation);\n    }\n    imageView.setImageBitmap(videoView == null ? bitmap : null);\n  }\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 445,
      "astHeight" : 24
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 29,
        "startLineNumber" : 361,
        "startColumnNumber" : 16,
        "endLineNumber" : 361,
        "endColumnNumber" : 45
      },
      "nodeContext" : "state.update(w,h,rotation);\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 7,
      "astHeight" : 3
    },
    "tokenLength" : 1,
    "type" : "org.telegram.ui.Components.Crop.CropView.CropState"
  } ],
  "positionList" : [ {
    "charLength" : 5,
    "startLineNumber" : 300,
    "startColumnNumber" : 16,
    "endLineNumber" : 300,
    "endColumnNumber" : 21
  }, {
    "charLength" : 5,
    "startLineNumber" : 361,
    "startColumnNumber" : 16,
    "endLineNumber" : 361,
    "endColumnNumber" : 21
  } ],
  "layoutRelationDataList" : [ {
    "firstKey" : 0,
    "secondKey" : 1,
    "layout" : 2
  }, {
    "firstKey" : 1,
    "secondKey" : 0,
    "layout" : 3
  } ]
}
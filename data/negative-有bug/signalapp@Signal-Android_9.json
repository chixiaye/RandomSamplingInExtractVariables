{
  "id" : 9,
  "expression" : "ViewModelProviders",
  "projectName" : "signalapp@Signal-Android",
  "commitID" : "7e91132e7ed62a58b5f347de252ab1eda3f43b90",
  "filePath" : "/app/src/main/java/org/thoughtcrime/securesms/groups/ui/invitesandrequests/joining/GroupJoinBottomSheetDialogFragment.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "ViewModelProviders",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 18,
      "startLineNumber" : 103,
      "startColumnNumber" : 35,
      "endLineNumber" : 103,
      "endColumnNumber" : 53
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodInvocation,expression]",
      "nodePosition" : {
        "charLength" : 36,
        "startLineNumber" : 103,
        "startColumnNumber" : 35,
        "endLineNumber" : 103,
        "endColumnNumber" : 71
      },
      "nodeContext" : "ViewModelProviders.of(this,factory)",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 5,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.VariableDeclarationFragment,initializer]",
      "nodePosition" : {
        "charLength" : 66,
        "startLineNumber" : 103,
        "startColumnNumber" : 35,
        "endLineNumber" : 103,
        "endColumnNumber" : 101
      },
      "nodeContext" : "ViewModelProviders.of(this,factory).get(GroupJoinViewModel.class)",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 10,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.VariableDeclarationStatement,fragments]",
      "nodePosition" : {
        "charLength" : 78,
        "startLineNumber" : 103,
        "startColumnNumber" : 23,
        "endLineNumber" : 103,
        "endColumnNumber" : 101
      },
      "nodeContext" : "viewModel=ViewModelProviders.of(this,factory).get(GroupJoinViewModel.class)",
      "nodeType" : "VariableDeclarationFragment",
      "astNodeNumber" : 12,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 98,
        "startLineNumber" : 103,
        "startColumnNumber" : 4,
        "endLineNumber" : 103,
        "endColumnNumber" : 102
      },
      "nodeContext" : "GroupJoinViewModel viewModel=ViewModelProviders.of(this,factory).get(GroupJoinViewModel.class);\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 15,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 3241,
        "startLineNumber" : 98,
        "startColumnNumber" : 85,
        "endLineNumber" : 158,
        "endColumnNumber" : 3
      },
      "nodeContext" : "{\n  super.onViewCreated(view,savedInstanceState);\n  GroupJoinViewModel.Factory factory=new GroupJoinViewModel.Factory(requireContext().getApplicationContext(),getGroupInviteLinkUrl());\n  GroupJoinViewModel viewModel=ViewModelProviders.of(this,factory).get(GroupJoinViewModel.class);\n  viewModel.getGroupDetails().observe(getViewLifecycleOwner(),details -> {\n    groupName.setText(details.getGroupName());\n    groupDetails.setText(requireContext().getResources().getQuantityString(R.plurals.GroupJoinBottomSheetDialogFragment_group_dot_d_members,details.getGroupMembershipCount(),details.getGroupMembershipCount()));\n    if (!TextUtils.isEmpty(details.getGroupDescription())) {\n      updateGroupDescription(details.getGroupName(),details.getGroupDescription());\n    }\nswitch (getGroupJoinStatus()) {\ncase UPDATE_LINKED_DEVICE_TO_JOIN:      groupJoinExplain.setText(R.string.GroupJoinUpdateRequiredBottomSheetDialogFragment_update_linked_device_message);\n    groupCancelButton.setText(android.R.string.ok);\n  groupJoinButton.setVisibility(View.GONE);\nApplicationDependencies.getJobManager().add(RetrieveProfileJob.forRecipient(Recipient.self().getId()));\nbreak;\ncase LOCAL_CAN_JOIN:groupJoinExplain.setText(details.joinRequiresAdminApproval() ? R.string.GroupJoinBottomSheetDialogFragment_admin_approval_needed : R.string.GroupJoinBottomSheetDialogFragment_direct_join);\ngroupJoinButton.setText(details.joinRequiresAdminApproval() ? R.string.GroupJoinBottomSheetDialogFragment_request_to_join : R.string.GroupJoinBottomSheetDialogFragment_join);\ngroupJoinButton.setOnClickListener(v -> {\nLog.i(TAG,details.joinRequiresAdminApproval() ? \"Attempting to direct join group\" : \"Attempting to request to join group\");\nviewModel.join(details);\n}\n);\ngroupJoinButton.setVisibility(View.VISIBLE);\nbreak;\n}\navatar.setImageBytesForGroup(details.getAvatarBytes(),new FallbackPhotoProvider(),AvatarColor.UNKNOWN);\ngroupCancelButton.setVisibility(View.VISIBLE);\n}\n);\nviewModel.isBusy().observe(getViewLifecycleOwner(),isBusy -> busy.setVisibility(isBusy ? View.VISIBLE : View.GONE));\nviewModel.getErrors().observe(getViewLifecycleOwner(),error -> {\nToast.makeText(requireContext(),errorToMessage(error),Toast.LENGTH_SHORT).show();\ndismiss();\n}\n);\nviewModel.getJoinErrors().observe(getViewLifecycleOwner(),error -> Toast.makeText(requireContext(),errorToMessage(error),Toast.LENGTH_SHORT).show());\nviewModel.getJoinSuccess().observe(getViewLifecycleOwner(),joinGroupSuccess -> {\nLog.i(TAG,\"Group joined, navigating to group\");\nIntent intent=ConversationIntents.createBuilder(requireContext(),joinGroupSuccess.getGroupRecipient().getId(),joinGroupSuccess.getGroupThreadId()).build();\nrequireActivity().startActivity(intent);\ndismiss();\n}\n);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 356,
      "astHeight" : 15
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 3336,
        "startLineNumber" : 97,
        "startColumnNumber" : 2,
        "endLineNumber" : 158,
        "endColumnNumber" : 3
      },
      "nodeContext" : "@Override public void onViewCreated(@NonNull View view,@Nullable Bundle savedInstanceState){\n  super.onViewCreated(view,savedInstanceState);\n  GroupJoinViewModel.Factory factory=new GroupJoinViewModel.Factory(requireContext().getApplicationContext(),getGroupInviteLinkUrl());\n  GroupJoinViewModel viewModel=ViewModelProviders.of(this,factory).get(GroupJoinViewModel.class);\n  viewModel.getGroupDetails().observe(getViewLifecycleOwner(),details -> {\n    groupName.setText(details.getGroupName());\n    groupDetails.setText(requireContext().getResources().getQuantityString(R.plurals.GroupJoinBottomSheetDialogFragment_group_dot_d_members,details.getGroupMembershipCount(),details.getGroupMembershipCount()));\n    if (!TextUtils.isEmpty(details.getGroupDescription())) {\n      updateGroupDescription(details.getGroupName(),details.getGroupDescription());\n    }\nswitch (getGroupJoinStatus()) {\ncase UPDATE_LINKED_DEVICE_TO_JOIN:      groupJoinExplain.setText(R.string.GroupJoinUpdateRequiredBottomSheetDialogFragment_update_linked_device_message);\n    groupCancelButton.setText(android.R.string.ok);\n  groupJoinButton.setVisibility(View.GONE);\nApplicationDependencies.getJobManager().add(RetrieveProfileJob.forRecipient(Recipient.self().getId()));\nbreak;\ncase LOCAL_CAN_JOIN:groupJoinExplain.setText(details.joinRequiresAdminApproval() ? R.string.GroupJoinBottomSheetDialogFragment_admin_approval_needed : R.string.GroupJoinBottomSheetDialogFragment_direct_join);\ngroupJoinButton.setText(details.joinRequiresAdminApproval() ? R.string.GroupJoinBottomSheetDialogFragment_request_to_join : R.string.GroupJoinBottomSheetDialogFragment_join);\ngroupJoinButton.setOnClickListener(v -> {\nLog.i(TAG,details.joinRequiresAdminApproval() ? \"Attempting to direct join group\" : \"Attempting to request to join group\");\nviewModel.join(details);\n}\n);\ngroupJoinButton.setVisibility(View.VISIBLE);\nbreak;\n}\navatar.setImageBytesForGroup(details.getAvatarBytes(),new FallbackPhotoProvider(),AvatarColor.UNKNOWN);\ngroupCancelButton.setVisibility(View.VISIBLE);\n}\n);\nviewModel.isBusy().observe(getViewLifecycleOwner(),isBusy -> busy.setVisibility(isBusy ? View.VISIBLE : View.GONE));\nviewModel.getErrors().observe(getViewLifecycleOwner(),error -> {\nToast.makeText(requireContext(),errorToMessage(error),Toast.LENGTH_SHORT).show();\ndismiss();\n}\n);\nviewModel.getJoinErrors().observe(getViewLifecycleOwner(),error -> Toast.makeText(requireContext(),errorToMessage(error),Toast.LENGTH_SHORT).show());\nviewModel.getJoinSuccess().observe(getViewLifecycleOwner(),joinGroupSuccess -> {\nLog.i(TAG,\"Group joined, navigating to group\");\nIntent intent=ConversationIntents.createBuilder(requireContext(),joinGroupSuccess.getGroupRecipient().getId(),joinGroupSuccess.getGroupThreadId()).build();\nrequireActivity().startActivity(intent);\ndismiss();\n}\n);\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 374,
      "astHeight" : 16
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 98,
        "startLineNumber" : 103,
        "startColumnNumber" : 4,
        "endLineNumber" : 103,
        "endColumnNumber" : 102
      },
      "nodeContext" : "GroupJoinViewModel viewModel=ViewModelProviders.of(this,factory).get(GroupJoinViewModel.class);\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 15,
      "astHeight" : 6
    },
    "tokenLength" : 1,
    "type" : null
  } ],
  "positionList" : [ {
    "charLength" : 18,
    "startLineNumber" : 103,
    "startColumnNumber" : 35,
    "endLineNumber" : 103,
    "endColumnNumber" : 53
  } ],
  "layoutRelationDataList" : [ ]
}
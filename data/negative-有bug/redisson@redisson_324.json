{
  "id" : 324,
  "expression" : "count.decrementAndGet()",
  "projectName" : "redisson@redisson",
  "commitID" : "62b5e68c05b7475e1e0f98b4161aacb35d376b97",
  "filePath" : "/redisson/src/main/java/org/redisson/connection/ReplicatedConnectionManager.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "count.decrementAndGet()",
    "nodeType" : "MethodInvocation",
    "nodePosition" : {
      "charLength" : 23,
      "startLineNumber" : 138,
      "startColumnNumber" : 32,
      "endLineNumber" : 138,
      "endColumnNumber" : 55
    },
    "astNodeNumber" : 3,
    "astHeight" : 2,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 28,
        "startLineNumber" : 138,
        "startColumnNumber" : 32,
        "endLineNumber" : 138,
        "endColumnNumber" : 60
      },
      "nodeContext" : "count.decrementAndGet() == 0",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 5,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 129,
        "startLineNumber" : 138,
        "startColumnNumber" : 28,
        "endLineNumber" : 140,
        "endColumnNumber" : 29
      },
      "nodeContext" : "if (count.decrementAndGet() == 0) {\n  scheduleMasterChangeCheck(cfg);\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 11,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 283,
        "startLineNumber" : 136,
        "startColumnNumber" : 41,
        "endLineNumber" : 142,
        "endColumnNumber" : 25
      },
      "nodeContext" : "{\n  log.error(exc.getMessage(),exc);\n  if (count.decrementAndGet() == 0) {\n    scheduleMasterChangeCheck(cfg);\n  }\n  return;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 21,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 300,
        "startLineNumber" : 136,
        "startColumnNumber" : 24,
        "endLineNumber" : 142,
        "endColumnNumber" : 25
      },
      "nodeContext" : "if (exc != null) {\n  log.error(exc.getMessage(),exc);\n  if (count.decrementAndGet() == 0) {\n    scheduleMasterChangeCheck(cfg);\n  }\n  return;\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 25,
      "astHeight" : 7
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.LambdaExpression,body]",
      "nodePosition" : {
        "charLength" : 2344,
        "startLineNumber" : 135,
        "startColumnNumber" : 69,
        "endLineNumber" : 179,
        "endColumnNumber" : 21
      },
      "nodeContext" : "{\n  if (exc != null) {\n    log.error(exc.getMessage(),exc);\n    if (count.decrementAndGet() == 0) {\n      scheduleMasterChangeCheck(cfg);\n    }\n    return;\n  }\n  if (isShuttingDown()) {\n    return;\n  }\n  RFuture<Map<String,String>> result=connection.async(RedisCommands.INFO_REPLICATION);\n  result.onComplete((r,ex) -> {\n    if (ex != null) {\n      log.error(ex.getMessage(),ex);\n      closeNodeConnection(connection);\n      if (count.decrementAndGet() == 0) {\n        scheduleMasterChangeCheck(cfg);\n      }\n      return;\n    }\n    Role role=Role.valueOf(r.get(ROLE_KEY));\n    if (Role.master.equals(role)) {\n      if (master.equals(addr)) {\n        log.debug(\"Current master {} unchanged\",master);\n      }\n else       if (currentMaster.compareAndSet(master,addr)) {\n        RFuture<RedisClient> changeFuture=changeMaster(singleSlotRange.getStartSlot(),addr);\n        changeFuture.onComplete((res,e) -> {\n          if (e != null) {\n            currentMaster.compareAndSet(addr,master);\n          }\n        }\n);\n      }\n    }\n else     if (!config.checkSkipSlavesInit()) {\n      slaveUp(addr,connection.getRedisClient().getAddr());\n    }\n    if (count.decrementAndGet() == 0) {\n      scheduleMasterChangeCheck(cfg);\n    }\n  }\n);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 189,
      "astHeight" : 19
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 2365,
        "startLineNumber" : 135,
        "startColumnNumber" : 48,
        "endLineNumber" : 179,
        "endColumnNumber" : 21
      },
      "nodeContext" : "(connection,exc) -> {\n  if (exc != null) {\n    log.error(exc.getMessage(),exc);\n    if (count.decrementAndGet() == 0) {\n      scheduleMasterChangeCheck(cfg);\n    }\n    return;\n  }\n  if (isShuttingDown()) {\n    return;\n  }\n  RFuture<Map<String,String>> result=connection.async(RedisCommands.INFO_REPLICATION);\n  result.onComplete((r,ex) -> {\n    if (ex != null) {\n      log.error(ex.getMessage(),ex);\n      closeNodeConnection(connection);\n      if (count.decrementAndGet() == 0) {\n        scheduleMasterChangeCheck(cfg);\n      }\n      return;\n    }\n    Role role=Role.valueOf(r.get(ROLE_KEY));\n    if (Role.master.equals(role)) {\n      if (master.equals(addr)) {\n        log.debug(\"Current master {} unchanged\",master);\n      }\n else       if (currentMaster.compareAndSet(master,addr)) {\n        RFuture<RedisClient> changeFuture=changeMaster(singleSlotRange.getStartSlot(),addr);\n        changeFuture.onComplete((res,e) -> {\n          if (e != null) {\n            currentMaster.compareAndSet(addr,master);\n          }\n        }\n);\n      }\n    }\n else     if (!config.checkSkipSlavesInit()) {\n      slaveUp(addr,connection.getRedisClient().getAddr());\n    }\n    if (count.decrementAndGet() == 0) {\n      scheduleMasterChangeCheck(cfg);\n    }\n  }\n);\n}\n",
      "nodeType" : "LambdaExpression",
      "astNodeNumber" : 194,
      "astHeight" : 20
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 28,
        "startLineNumber" : 138,
        "startColumnNumber" : 32,
        "endLineNumber" : 138,
        "endColumnNumber" : 60
      },
      "nodeContext" : "count.decrementAndGet() == 0",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 5,
      "astHeight" : 3
    },
    "tokenLength" : 2,
    "type" : "int"
  } ],
  "positionList" : [ {
    "charLength" : 23,
    "startLineNumber" : 138,
    "startColumnNumber" : 32,
    "endLineNumber" : 138,
    "endColumnNumber" : 55
  } ],
  "layoutRelationDataList" : [ ]
}
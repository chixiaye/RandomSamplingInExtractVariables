{
  "id" : 232,
  "expression" : "pictureSize.getHeight()",
  "projectName" : "DrKLO@Telegram",
  "commitID" : "11fbfb1329df700b203e1852a71c4c11b5ab12f4",
  "filePath" : "/TMessagesProj/src/main/java/org/telegram/messenger/camera/CameraView.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "pictureSize.getHeight()",
    "nodeType" : "MethodInvocation",
    "nodePosition" : {
      "charLength" : 23,
      "startLineNumber" : 181,
      "startColumnNumber" : 46,
      "endLineNumber" : 181,
      "endColumnNumber" : 69
    },
    "astNodeNumber" : 3,
    "astHeight" : 2,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,rightOperand]",
      "nodePosition" : {
        "charLength" : 31,
        "startLineNumber" : 181,
        "startColumnNumber" : 46,
        "endLineNumber" : 181,
        "endColumnNumber" : 77
      },
      "nodeContext" : "pictureSize.getHeight() >= 1280",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 5,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 65,
        "startLineNumber" : 181,
        "startColumnNumber" : 12,
        "endLineNumber" : 181,
        "endColumnNumber" : 77
      },
      "nodeContext" : "pictureSize.getWidth() >= 1280 && pictureSize.getHeight() >= 1280",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 11,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 573,
        "startLineNumber" : 181,
        "startColumnNumber" : 8,
        "endLineNumber" : 191,
        "endColumnNumber" : 9
      },
      "nodeContext" : "if (pictureSize.getWidth() >= 1280 && pictureSize.getHeight() >= 1280) {\n  if (Math.abs(screenSize - size4to3) < 0.1f) {\n    aspectRatio=new Size(3,4);\n  }\n else {\n    aspectRatio=new Size(9,16);\n  }\n  org.telegram.messenger.camera.Size pictureSize2=CameraController.chooseOptimalSize(info.getPictureSizes(),wantedHeight,wantedWidth,aspectRatio);\n  if (pictureSize2.getWidth() < 1280 || pictureSize2.getHeight() < 1280) {\n    pictureSize=pictureSize2;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 79,
      "astHeight" : 9
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 3599,
        "startLineNumber" : 133,
        "startColumnNumber" : 29,
        "endLineNumber" : 210,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  CameraInfo info=null;\n  ArrayList<CameraInfo> cameraInfos=CameraController.getInstance().getCameras();\n  if (cameraInfos == null) {\n    return;\n  }\n  for (int a=0; a < cameraInfos.size(); a++) {\n    CameraInfo cameraInfo=cameraInfos.get(a);\n    if (isFrontface && cameraInfo.frontCamera != 0 || !isFrontface && cameraInfo.frontCamera == 0) {\n      info=cameraInfo;\n      break;\n    }\n  }\n  if (info == null) {\n    return;\n  }\n  float size4to3=4.0f / 3.0f;\n  float size16to9=16.0f / 9.0f;\n  float screenSize=(float)Math.max(AndroidUtilities.displaySize.x,AndroidUtilities.displaySize.y) / Math.min(AndroidUtilities.displaySize.x,AndroidUtilities.displaySize.y);\n  org.telegram.messenger.camera.Size aspectRatio;\n  int wantedWidth;\n  int wantedHeight;\n  if (initialFrontface) {\n    aspectRatio=new Size(16,9);\n    wantedWidth=480;\n    wantedHeight=270;\n  }\n else {\n    if (Math.abs(screenSize - size4to3) < 0.1f) {\n      aspectRatio=new Size(4,3);\n      wantedWidth=1280;\n      wantedHeight=960;\n    }\n else {\n      aspectRatio=new Size(16,9);\n      wantedWidth=1280;\n      wantedHeight=720;\n    }\n  }\n  if (textureView.getWidth() > 0 && textureView.getHeight() > 0) {\n    int width;\n    if (useMaxPreview) {\n      width=Math.max(AndroidUtilities.displaySize.x,AndroidUtilities.displaySize.y);\n    }\n else {\n      width=Math.min(AndroidUtilities.displaySize.x,AndroidUtilities.displaySize.y);\n    }\n    int height=width * aspectRatio.getHeight() / aspectRatio.getWidth();\n    previewSize=CameraController.chooseOptimalSize(info.getPreviewSizes(),width,height,aspectRatio);\n  }\n  org.telegram.messenger.camera.Size pictureSize=CameraController.chooseOptimalSize(info.getPictureSizes(),wantedWidth,wantedHeight,aspectRatio);\n  if (pictureSize.getWidth() >= 1280 && pictureSize.getHeight() >= 1280) {\n    if (Math.abs(screenSize - size4to3) < 0.1f) {\n      aspectRatio=new Size(3,4);\n    }\n else {\n      aspectRatio=new Size(9,16);\n    }\n    org.telegram.messenger.camera.Size pictureSize2=CameraController.chooseOptimalSize(info.getPictureSizes(),wantedHeight,wantedWidth,aspectRatio);\n    if (pictureSize2.getWidth() < 1280 || pictureSize2.getHeight() < 1280) {\n      pictureSize=pictureSize2;\n    }\n  }\n  SurfaceTexture surfaceTexture=textureView.getSurfaceTexture();\n  if (previewSize != null && surfaceTexture != null) {\n    surfaceTexture.setDefaultBufferSize(previewSize.getWidth(),previewSize.getHeight());\n    cameraSession=new CameraSession(info,previewSize,pictureSize,ImageFormat.JPEG);\n    if (optimizeForBarcode) {\n      cameraSession.setOptimizeForBarcode(optimizeForBarcode);\n    }\n    CameraController.getInstance().open(cameraSession,surfaceTexture,() -> {\n      if (cameraSession != null) {\n        cameraSession.setInitied();\n      }\n      checkPreviewMatrix();\n    }\n,() -> {\n      if (delegate != null) {\n        delegate.onCameraCreated(cameraSession.cameraInfo.camera);\n      }\n    }\n);\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 473,
      "astHeight" : 14
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 3624,
        "startLineNumber" : 133,
        "startColumnNumber" : 4,
        "endLineNumber" : 210,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public void initCamera(){\n  CameraInfo info=null;\n  ArrayList<CameraInfo> cameraInfos=CameraController.getInstance().getCameras();\n  if (cameraInfos == null) {\n    return;\n  }\n  for (int a=0; a < cameraInfos.size(); a++) {\n    CameraInfo cameraInfo=cameraInfos.get(a);\n    if (isFrontface && cameraInfo.frontCamera != 0 || !isFrontface && cameraInfo.frontCamera == 0) {\n      info=cameraInfo;\n      break;\n    }\n  }\n  if (info == null) {\n    return;\n  }\n  float size4to3=4.0f / 3.0f;\n  float size16to9=16.0f / 9.0f;\n  float screenSize=(float)Math.max(AndroidUtilities.displaySize.x,AndroidUtilities.displaySize.y) / Math.min(AndroidUtilities.displaySize.x,AndroidUtilities.displaySize.y);\n  org.telegram.messenger.camera.Size aspectRatio;\n  int wantedWidth;\n  int wantedHeight;\n  if (initialFrontface) {\n    aspectRatio=new Size(16,9);\n    wantedWidth=480;\n    wantedHeight=270;\n  }\n else {\n    if (Math.abs(screenSize - size4to3) < 0.1f) {\n      aspectRatio=new Size(4,3);\n      wantedWidth=1280;\n      wantedHeight=960;\n    }\n else {\n      aspectRatio=new Size(16,9);\n      wantedWidth=1280;\n      wantedHeight=720;\n    }\n  }\n  if (textureView.getWidth() > 0 && textureView.getHeight() > 0) {\n    int width;\n    if (useMaxPreview) {\n      width=Math.max(AndroidUtilities.displaySize.x,AndroidUtilities.displaySize.y);\n    }\n else {\n      width=Math.min(AndroidUtilities.displaySize.x,AndroidUtilities.displaySize.y);\n    }\n    int height=width * aspectRatio.getHeight() / aspectRatio.getWidth();\n    previewSize=CameraController.chooseOptimalSize(info.getPreviewSizes(),width,height,aspectRatio);\n  }\n  org.telegram.messenger.camera.Size pictureSize=CameraController.chooseOptimalSize(info.getPictureSizes(),wantedWidth,wantedHeight,aspectRatio);\n  if (pictureSize.getWidth() >= 1280 && pictureSize.getHeight() >= 1280) {\n    if (Math.abs(screenSize - size4to3) < 0.1f) {\n      aspectRatio=new Size(3,4);\n    }\n else {\n      aspectRatio=new Size(9,16);\n    }\n    org.telegram.messenger.camera.Size pictureSize2=CameraController.chooseOptimalSize(info.getPictureSizes(),wantedHeight,wantedWidth,aspectRatio);\n    if (pictureSize2.getWidth() < 1280 || pictureSize2.getHeight() < 1280) {\n      pictureSize=pictureSize2;\n    }\n  }\n  SurfaceTexture surfaceTexture=textureView.getSurfaceTexture();\n  if (previewSize != null && surfaceTexture != null) {\n    surfaceTexture.setDefaultBufferSize(previewSize.getWidth(),previewSize.getHeight());\n    cameraSession=new CameraSession(info,previewSize,pictureSize,ImageFormat.JPEG);\n    if (optimizeForBarcode) {\n      cameraSession.setOptimizeForBarcode(optimizeForBarcode);\n    }\n    CameraController.getInstance().open(cameraSession,surfaceTexture,() -> {\n      if (cameraSession != null) {\n        cameraSession.setInitied();\n      }\n      checkPreviewMatrix();\n    }\n,() -> {\n      if (delegate != null) {\n        delegate.onCameraCreated(cameraSession.cameraInfo.camera);\n      }\n    }\n);\n  }\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 477,
      "astHeight" : 15
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 65,
        "startLineNumber" : 181,
        "startColumnNumber" : 12,
        "endLineNumber" : 181,
        "endColumnNumber" : 77
      },
      "nodeContext" : "pictureSize.getWidth() >= 1280 && pictureSize.getHeight() >= 1280",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 11,
      "astHeight" : 4
    },
    "tokenLength" : 2,
    "type" : "int"
  } ],
  "positionList" : [ {
    "charLength" : 23,
    "startLineNumber" : 181,
    "startColumnNumber" : 46,
    "endLineNumber" : 181,
    "endColumnNumber" : 69
  } ],
  "layoutRelationDataList" : [ ]
}
{
  "id" : 229,
  "expression" : "DBIcon",
  "projectName" : "dbeaver@dbeaver",
  "commitID" : "aecf0da5baef5ea4aa1675578670cf057248123d",
  "filePath" : "/plugins/org.jkiss.dbeaver.ui.editors.connection/src/org/jkiss/dbeaver/ui/dialogs/driver/DriverTabbedViewer.java",
  "occurrences" : 2,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "DBIcon",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 6,
      "startLineNumber" : 96,
      "startColumnNumber" : 30,
      "endLineNumber" : 96,
      "endColumnNumber" : 36
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.ClassInstanceCreation,arguments]",
      "nodePosition" : {
        "charLength" : 20,
        "startLineNumber" : 96,
        "startColumnNumber" : 30,
        "endLineNumber" : 96,
        "endColumnNumber" : 50
      },
      "nodeContext" : "DBIcon.TREE_DATABASE",
      "nodeType" : "QualifiedName",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 153,
        "startLineNumber" : 95,
        "startColumnNumber" : 12,
        "endLineNumber" : 97,
        "endColumnNumber" : 57
      },
      "nodeContext" : "new TabbedFolderInfo(\"all\",\"All\",DBIcon.TREE_DATABASE,\"All drivers\",false,new DriverListFolder(null,ratedDrivers))",
      "nodeType" : "ClassInstanceCreation",
      "astNodeNumber" : 15,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 179,
        "startLineNumber" : 94,
        "startColumnNumber" : 8,
        "endLineNumber" : 97,
        "endColumnNumber" : 58
      },
      "nodeContext" : "folders.add(new TabbedFolderInfo(\"all\",\"All\",DBIcon.TREE_DATABASE,\"All drivers\",false,new DriverListFolder(null,ratedDrivers)))",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 18,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 180,
        "startLineNumber" : 94,
        "startColumnNumber" : 8,
        "endLineNumber" : 97,
        "endColumnNumber" : 59
      },
      "nodeContext" : "folders.add(new TabbedFolderInfo(\"all\",\"All\",DBIcon.TREE_DATABASE,\"All drivers\",false,new DriverListFolder(null,ratedDrivers)));\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 19,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 3756,
        "startLineNumber" : 66,
        "startColumnNumber" : 141,
        "endLineNumber" : 147,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  this.dataSources=dataSources;\n  this.listComparator=driverComparator;\n  List<DBPDriver> allDrivers=DriverUtils.getAllDrivers();\n  List<DBPDriver> ratedDrivers=new ArrayList<>(allDrivers);\n  List<DBPDriver> recentDrivers=DriverUtils.getRecentDrivers(allDrivers,12);\n  folderComposite=new TabbedFolderComposite(parent,style){\n    @Override public boolean setFocus(){\n      ITabbedFolder activeFolder=getActiveFolder();\n      if (activeFolder != null) {\n        activeFolder.setFocus();\n        return true;\n      }\n else {\n        return super.setFocus();\n      }\n    }\n  }\n;\n  List<TabbedFolderInfo> folders=new ArrayList<>();\n  folders.add(new TabbedFolderInfo(\"all\",\"All\",DBIcon.TREE_DATABASE,\"All drivers\",false,new DriverListFolder(null,ratedDrivers)));\n  folders.add(new TabbedFolderInfo(\"popular\",\"Popular\",DBIcon.TREE_DATABASE,\"Popular and recently used drivers\",false,new DriverListFolder(null,recentDrivers)));\n  List<TabbedFolderInfo> extFolders=new ArrayList<>();\n  for (  DriverCategoryDescriptor category : DriverManagerRegistry.getInstance().getCategories()) {\n    if (category.isPromoted()) {\n      extFolders.add(new TabbedFolderInfo(category.getId(),category.getName(),category.getIcon(),category.getDescription(),false,new DriverListFolder(category,getCategoryDrivers(category,allDrivers))));\n    }\n  }\n  extFolders.sort((o1,o2) -> {\n    DriverCategoryDescriptor cat1=((DriverListFolder)o1.getContents()).category;\n    DriverCategoryDescriptor cat2=((DriverListFolder)o2.getContents()).category;\n    int cmp=cat1.getRank() - cat2.getRank();\n    if (cmp == 0) {\n      cmp=cat1.getName().compareTo(cat2.getName());\n    }\n    return cmp;\n  }\n);\n  folders.addAll(extFolders);\n  String folderId=UIUtils.getDialogSettings(DIALOG_ID).get(PARAM_LAST_FOLDER);\n  if (CommonUtils.isEmpty(folderId)) {\n    folderId=\"popular\";\n  }\n  folderComposite.setFolders(getClass().getSimpleName(),folders.toArray(new TabbedFolderInfo[0]));\n  folderComposite.switchFolder(folderId,false);\n  folderComposite.addFolderListener(folderId1 -> {\n    if (curFilters != null) {\n      ((DriverListFolder)folderComposite.getActiveFolder()).viewer.setFilters(curFilters);\n    }\n    UIUtils.getDialogSettings(DIALOG_ID).put(PARAM_LAST_FOLDER,folderId1);\n    StructuredViewer currentViewer=getCurrentViewer();\n    if (currentViewer != null) {\n      ISelection selection=currentViewer.getSelection();\n      if (selection.isEmpty()) {\n        DriverCategoryDescriptor category=DriverManagerRegistry.getInstance().getCategory(folderId1);\n        if (category != null) {\n        }\n      }\n else {\n        fireSelectionChanged(new SelectionChangedEvent(currentViewer,selection));\n      }\n    }\n  }\n);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 396,
      "astHeight" : 14
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 3893,
        "startLineNumber" : 66,
        "startColumnNumber" : 4,
        "endLineNumber" : 147,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public DriverTabbedViewer(Composite parent,int style,List<DBPDataSourceContainer> dataSources,Comparator<DBPDriver> driverComparator){\n  this.dataSources=dataSources;\n  this.listComparator=driverComparator;\n  List<DBPDriver> allDrivers=DriverUtils.getAllDrivers();\n  List<DBPDriver> ratedDrivers=new ArrayList<>(allDrivers);\n  List<DBPDriver> recentDrivers=DriverUtils.getRecentDrivers(allDrivers,12);\n  folderComposite=new TabbedFolderComposite(parent,style){\n    @Override public boolean setFocus(){\n      ITabbedFolder activeFolder=getActiveFolder();\n      if (activeFolder != null) {\n        activeFolder.setFocus();\n        return true;\n      }\n else {\n        return super.setFocus();\n      }\n    }\n  }\n;\n  List<TabbedFolderInfo> folders=new ArrayList<>();\n  folders.add(new TabbedFolderInfo(\"all\",\"All\",DBIcon.TREE_DATABASE,\"All drivers\",false,new DriverListFolder(null,ratedDrivers)));\n  folders.add(new TabbedFolderInfo(\"popular\",\"Popular\",DBIcon.TREE_DATABASE,\"Popular and recently used drivers\",false,new DriverListFolder(null,recentDrivers)));\n  List<TabbedFolderInfo> extFolders=new ArrayList<>();\n  for (  DriverCategoryDescriptor category : DriverManagerRegistry.getInstance().getCategories()) {\n    if (category.isPromoted()) {\n      extFolders.add(new TabbedFolderInfo(category.getId(),category.getName(),category.getIcon(),category.getDescription(),false,new DriverListFolder(category,getCategoryDrivers(category,allDrivers))));\n    }\n  }\n  extFolders.sort((o1,o2) -> {\n    DriverCategoryDescriptor cat1=((DriverListFolder)o1.getContents()).category;\n    DriverCategoryDescriptor cat2=((DriverListFolder)o2.getContents()).category;\n    int cmp=cat1.getRank() - cat2.getRank();\n    if (cmp == 0) {\n      cmp=cat1.getName().compareTo(cat2.getName());\n    }\n    return cmp;\n  }\n);\n  folders.addAll(extFolders);\n  String folderId=UIUtils.getDialogSettings(DIALOG_ID).get(PARAM_LAST_FOLDER);\n  if (CommonUtils.isEmpty(folderId)) {\n    folderId=\"popular\";\n  }\n  folderComposite.setFolders(getClass().getSimpleName(),folders.toArray(new TabbedFolderInfo[0]));\n  folderComposite.switchFolder(folderId,false);\n  folderComposite.addFolderListener(folderId1 -> {\n    if (curFilters != null) {\n      ((DriverListFolder)folderComposite.getActiveFolder()).viewer.setFilters(curFilters);\n    }\n    UIUtils.getDialogSettings(DIALOG_ID).put(PARAM_LAST_FOLDER,folderId1);\n    StructuredViewer currentViewer=getCurrentViewer();\n    if (currentViewer != null) {\n      ISelection selection=currentViewer.getSelection();\n      if (selection.isEmpty()) {\n        DriverCategoryDescriptor category=DriverManagerRegistry.getInstance().getCategory(folderId1);\n        if (category != null) {\n        }\n      }\n else {\n        fireSelectionChanged(new SelectionChangedEvent(currentViewer,selection));\n      }\n    }\n  }\n);\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 420,
      "astHeight" : 15
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.ClassInstanceCreation,arguments]",
      "nodePosition" : {
        "charLength" : 20,
        "startLineNumber" : 96,
        "startColumnNumber" : 30,
        "endLineNumber" : 96,
        "endColumnNumber" : 50
      },
      "nodeContext" : "DBIcon.TREE_DATABASE",
      "nodeType" : "QualifiedName",
      "astNodeNumber" : 3,
      "astHeight" : 2
    },
    "tokenLength" : 1,
    "type" : "org.jkiss.dbeaver.model.DBIcon"
  }, {
    "nodeContext" : "DBIcon",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 6,
      "startLineNumber" : 100,
      "startColumnNumber" : 38,
      "endLineNumber" : 100,
      "endColumnNumber" : 44
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.ClassInstanceCreation,arguments]",
      "nodePosition" : {
        "charLength" : 20,
        "startLineNumber" : 100,
        "startColumnNumber" : 38,
        "endLineNumber" : 100,
        "endColumnNumber" : 58
      },
      "nodeContext" : "DBIcon.TREE_DATABASE",
      "nodeType" : "QualifiedName",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 184,
        "startLineNumber" : 99,
        "startColumnNumber" : 12,
        "endLineNumber" : 101,
        "endColumnNumber" : 58
      },
      "nodeContext" : "new TabbedFolderInfo(\"popular\",\"Popular\",DBIcon.TREE_DATABASE,\"Popular and recently used drivers\",false,new DriverListFolder(null,recentDrivers))",
      "nodeType" : "ClassInstanceCreation",
      "astNodeNumber" : 15,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 210,
        "startLineNumber" : 98,
        "startColumnNumber" : 8,
        "endLineNumber" : 101,
        "endColumnNumber" : 59
      },
      "nodeContext" : "folders.add(new TabbedFolderInfo(\"popular\",\"Popular\",DBIcon.TREE_DATABASE,\"Popular and recently used drivers\",false,new DriverListFolder(null,recentDrivers)))",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 18,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 211,
        "startLineNumber" : 98,
        "startColumnNumber" : 8,
        "endLineNumber" : 101,
        "endColumnNumber" : 60
      },
      "nodeContext" : "folders.add(new TabbedFolderInfo(\"popular\",\"Popular\",DBIcon.TREE_DATABASE,\"Popular and recently used drivers\",false,new DriverListFolder(null,recentDrivers)));\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 19,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 3756,
        "startLineNumber" : 66,
        "startColumnNumber" : 141,
        "endLineNumber" : 147,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  this.dataSources=dataSources;\n  this.listComparator=driverComparator;\n  List<DBPDriver> allDrivers=DriverUtils.getAllDrivers();\n  List<DBPDriver> ratedDrivers=new ArrayList<>(allDrivers);\n  List<DBPDriver> recentDrivers=DriverUtils.getRecentDrivers(allDrivers,12);\n  folderComposite=new TabbedFolderComposite(parent,style){\n    @Override public boolean setFocus(){\n      ITabbedFolder activeFolder=getActiveFolder();\n      if (activeFolder != null) {\n        activeFolder.setFocus();\n        return true;\n      }\n else {\n        return super.setFocus();\n      }\n    }\n  }\n;\n  List<TabbedFolderInfo> folders=new ArrayList<>();\n  folders.add(new TabbedFolderInfo(\"all\",\"All\",DBIcon.TREE_DATABASE,\"All drivers\",false,new DriverListFolder(null,ratedDrivers)));\n  folders.add(new TabbedFolderInfo(\"popular\",\"Popular\",DBIcon.TREE_DATABASE,\"Popular and recently used drivers\",false,new DriverListFolder(null,recentDrivers)));\n  List<TabbedFolderInfo> extFolders=new ArrayList<>();\n  for (  DriverCategoryDescriptor category : DriverManagerRegistry.getInstance().getCategories()) {\n    if (category.isPromoted()) {\n      extFolders.add(new TabbedFolderInfo(category.getId(),category.getName(),category.getIcon(),category.getDescription(),false,new DriverListFolder(category,getCategoryDrivers(category,allDrivers))));\n    }\n  }\n  extFolders.sort((o1,o2) -> {\n    DriverCategoryDescriptor cat1=((DriverListFolder)o1.getContents()).category;\n    DriverCategoryDescriptor cat2=((DriverListFolder)o2.getContents()).category;\n    int cmp=cat1.getRank() - cat2.getRank();\n    if (cmp == 0) {\n      cmp=cat1.getName().compareTo(cat2.getName());\n    }\n    return cmp;\n  }\n);\n  folders.addAll(extFolders);\n  String folderId=UIUtils.getDialogSettings(DIALOG_ID).get(PARAM_LAST_FOLDER);\n  if (CommonUtils.isEmpty(folderId)) {\n    folderId=\"popular\";\n  }\n  folderComposite.setFolders(getClass().getSimpleName(),folders.toArray(new TabbedFolderInfo[0]));\n  folderComposite.switchFolder(folderId,false);\n  folderComposite.addFolderListener(folderId1 -> {\n    if (curFilters != null) {\n      ((DriverListFolder)folderComposite.getActiveFolder()).viewer.setFilters(curFilters);\n    }\n    UIUtils.getDialogSettings(DIALOG_ID).put(PARAM_LAST_FOLDER,folderId1);\n    StructuredViewer currentViewer=getCurrentViewer();\n    if (currentViewer != null) {\n      ISelection selection=currentViewer.getSelection();\n      if (selection.isEmpty()) {\n        DriverCategoryDescriptor category=DriverManagerRegistry.getInstance().getCategory(folderId1);\n        if (category != null) {\n        }\n      }\n else {\n        fireSelectionChanged(new SelectionChangedEvent(currentViewer,selection));\n      }\n    }\n  }\n);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 396,
      "astHeight" : 14
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 3893,
        "startLineNumber" : 66,
        "startColumnNumber" : 4,
        "endLineNumber" : 147,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public DriverTabbedViewer(Composite parent,int style,List<DBPDataSourceContainer> dataSources,Comparator<DBPDriver> driverComparator){\n  this.dataSources=dataSources;\n  this.listComparator=driverComparator;\n  List<DBPDriver> allDrivers=DriverUtils.getAllDrivers();\n  List<DBPDriver> ratedDrivers=new ArrayList<>(allDrivers);\n  List<DBPDriver> recentDrivers=DriverUtils.getRecentDrivers(allDrivers,12);\n  folderComposite=new TabbedFolderComposite(parent,style){\n    @Override public boolean setFocus(){\n      ITabbedFolder activeFolder=getActiveFolder();\n      if (activeFolder != null) {\n        activeFolder.setFocus();\n        return true;\n      }\n else {\n        return super.setFocus();\n      }\n    }\n  }\n;\n  List<TabbedFolderInfo> folders=new ArrayList<>();\n  folders.add(new TabbedFolderInfo(\"all\",\"All\",DBIcon.TREE_DATABASE,\"All drivers\",false,new DriverListFolder(null,ratedDrivers)));\n  folders.add(new TabbedFolderInfo(\"popular\",\"Popular\",DBIcon.TREE_DATABASE,\"Popular and recently used drivers\",false,new DriverListFolder(null,recentDrivers)));\n  List<TabbedFolderInfo> extFolders=new ArrayList<>();\n  for (  DriverCategoryDescriptor category : DriverManagerRegistry.getInstance().getCategories()) {\n    if (category.isPromoted()) {\n      extFolders.add(new TabbedFolderInfo(category.getId(),category.getName(),category.getIcon(),category.getDescription(),false,new DriverListFolder(category,getCategoryDrivers(category,allDrivers))));\n    }\n  }\n  extFolders.sort((o1,o2) -> {\n    DriverCategoryDescriptor cat1=((DriverListFolder)o1.getContents()).category;\n    DriverCategoryDescriptor cat2=((DriverListFolder)o2.getContents()).category;\n    int cmp=cat1.getRank() - cat2.getRank();\n    if (cmp == 0) {\n      cmp=cat1.getName().compareTo(cat2.getName());\n    }\n    return cmp;\n  }\n);\n  folders.addAll(extFolders);\n  String folderId=UIUtils.getDialogSettings(DIALOG_ID).get(PARAM_LAST_FOLDER);\n  if (CommonUtils.isEmpty(folderId)) {\n    folderId=\"popular\";\n  }\n  folderComposite.setFolders(getClass().getSimpleName(),folders.toArray(new TabbedFolderInfo[0]));\n  folderComposite.switchFolder(folderId,false);\n  folderComposite.addFolderListener(folderId1 -> {\n    if (curFilters != null) {\n      ((DriverListFolder)folderComposite.getActiveFolder()).viewer.setFilters(curFilters);\n    }\n    UIUtils.getDialogSettings(DIALOG_ID).put(PARAM_LAST_FOLDER,folderId1);\n    StructuredViewer currentViewer=getCurrentViewer();\n    if (currentViewer != null) {\n      ISelection selection=currentViewer.getSelection();\n      if (selection.isEmpty()) {\n        DriverCategoryDescriptor category=DriverManagerRegistry.getInstance().getCategory(folderId1);\n        if (category != null) {\n        }\n      }\n else {\n        fireSelectionChanged(new SelectionChangedEvent(currentViewer,selection));\n      }\n    }\n  }\n);\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 420,
      "astHeight" : 15
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.ClassInstanceCreation,arguments]",
      "nodePosition" : {
        "charLength" : 20,
        "startLineNumber" : 100,
        "startColumnNumber" : 38,
        "endLineNumber" : 100,
        "endColumnNumber" : 58
      },
      "nodeContext" : "DBIcon.TREE_DATABASE",
      "nodeType" : "QualifiedName",
      "astNodeNumber" : 3,
      "astHeight" : 2
    },
    "tokenLength" : 1,
    "type" : "org.jkiss.dbeaver.model.DBIcon"
  } ],
  "positionList" : [ {
    "charLength" : 6,
    "startLineNumber" : 96,
    "startColumnNumber" : 30,
    "endLineNumber" : 96,
    "endColumnNumber" : 36
  }, {
    "charLength" : 6,
    "startLineNumber" : 100,
    "startColumnNumber" : 38,
    "endLineNumber" : 100,
    "endColumnNumber" : 44
  } ],
  "layoutRelationDataList" : [ {
    "firstKey" : 0,
    "secondKey" : 1,
    "layout" : 4
  }, {
    "firstKey" : 1,
    "secondKey" : 0,
    "layout" : 4
  } ]
}
{
  "id" : 85,
  "expression" : "new Config()",
  "projectName" : "redisson@redisson",
  "commitID" : "62b5e68c05b7475e1e0f98b4161aacb35d376b97",
  "filePath" : "/redisson/src/test/java/org/redisson/connection/balancer/WeightedRoundRobinBalancerTest.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "new Config()",
    "nodeType" : "ClassInstanceCreation",
    "nodePosition" : {
      "charLength" : 12,
      "startLineNumber" : 33,
      "startColumnNumber" : 28,
      "endLineNumber" : 33,
      "endColumnNumber" : 40
    },
    "astNodeNumber" : 3,
    "astHeight" : 3,
    "parentDataList" : [ {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.VariableDeclarationStatement,fragments]",
      "nodePosition" : {
        "charLength" : 21,
        "startLineNumber" : 33,
        "startColumnNumber" : 19,
        "endLineNumber" : 33,
        "endColumnNumber" : 40
      },
      "nodeContext" : "config=new Config()",
      "nodeType" : "VariableDeclarationFragment",
      "astNodeNumber" : 5,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 29,
        "startLineNumber" : 33,
        "startColumnNumber" : 12,
        "endLineNumber" : 33,
        "endColumnNumber" : 41
      },
      "nodeContext" : "Config config=new Config();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 8,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.TryStatement,body]",
      "nodePosition" : {
        "charLength" : 1093,
        "startLineNumber" : 25,
        "startColumnNumber" : 12,
        "endLineNumber" : 49,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  master=redisTestInstance();\n  slave=redisTestInstance();\n  Map<String,Integer> weights=new HashMap<>();\n  weights.put(master.getRedisServerAddressAndPort(),1);\n  weights.put(slave.getRedisServerAddressAndPort(),2);\n  Config config=new Config();\n  config.useMasterSlaveServers().setReadMode(ReadMode.SLAVE).setMasterAddress(master.getRedisServerAddressAndPort()).addSlaveAddress(slave.getRedisServerAddressAndPort()).setLoadBalancer(new WeightedRoundRobinBalancer(weights,1));\n  client=Redisson.create(config);\n  slave.stop();\n  RedissonClient clientCopy=client;\n  assertThat(clientCopy.getBucket(\"key\").get()).isNull();\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 103,
      "astHeight" : 8
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1366,
        "startLineNumber" : 25,
        "startColumnNumber" : 8,
        "endLineNumber" : 59,
        "endColumnNumber" : 9
      },
      "nodeContext" : "try {\n  master=redisTestInstance();\n  slave=redisTestInstance();\n  Map<String,Integer> weights=new HashMap<>();\n  weights.put(master.getRedisServerAddressAndPort(),1);\n  weights.put(slave.getRedisServerAddressAndPort(),2);\n  Config config=new Config();\n  config.useMasterSlaveServers().setReadMode(ReadMode.SLAVE).setMasterAddress(master.getRedisServerAddressAndPort()).addSlaveAddress(slave.getRedisServerAddressAndPort()).setLoadBalancer(new WeightedRoundRobinBalancer(weights,1));\n  client=Redisson.create(config);\n  slave.stop();\n  RedissonClient clientCopy=client;\n  assertThat(clientCopy.getBucket(\"key\").get()).isNull();\n}\n  finally {\n  if (master != null) {\n    master.stop();\n  }\n  if (slave != null) {\n    slave.stop();\n  }\n  if (client != null) {\n    client.shutdown();\n  }\n}\n",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 132,
      "astHeight" : 9
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 1496,
        "startLineNumber" : 21,
        "startColumnNumber" : 104,
        "endLineNumber" : 60,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  RedisProcess master=null;\n  RedisProcess slave=null;\n  RedissonClient client=null;\n  try {\n    master=redisTestInstance();\n    slave=redisTestInstance();\n    Map<String,Integer> weights=new HashMap<>();\n    weights.put(master.getRedisServerAddressAndPort(),1);\n    weights.put(slave.getRedisServerAddressAndPort(),2);\n    Config config=new Config();\n    config.useMasterSlaveServers().setReadMode(ReadMode.SLAVE).setMasterAddress(master.getRedisServerAddressAndPort()).addSlaveAddress(slave.getRedisServerAddressAndPort()).setLoadBalancer(new WeightedRoundRobinBalancer(weights,1));\n    client=Redisson.create(config);\n    slave.stop();\n    RedissonClient clientCopy=client;\n    assertThat(clientCopy.getBucket(\"key\").get()).isNull();\n  }\n  finally {\n    if (master != null) {\n      master.stop();\n    }\n    if (slave != null) {\n      slave.stop();\n    }\n    if (client != null) {\n      client.shutdown();\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 151,
      "astHeight" : 10
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 1655,
        "startLineNumber" : 20,
        "startColumnNumber" : 4,
        "endLineNumber" : 60,
        "endColumnNumber" : 5
      },
      "nodeContext" : "@Test(expected=WriteRedisConnectionException.class) public void testUseMasterForReadsIfNoConnectionsToSlaves() throws IOException, InterruptedException {\n  RedisProcess master=null;\n  RedisProcess slave=null;\n  RedissonClient client=null;\n  try {\n    master=redisTestInstance();\n    slave=redisTestInstance();\n    Map<String,Integer> weights=new HashMap<>();\n    weights.put(master.getRedisServerAddressAndPort(),1);\n    weights.put(slave.getRedisServerAddressAndPort(),2);\n    Config config=new Config();\n    config.useMasterSlaveServers().setReadMode(ReadMode.SLAVE).setMasterAddress(master.getRedisServerAddressAndPort()).addSlaveAddress(slave.getRedisServerAddressAndPort()).setLoadBalancer(new WeightedRoundRobinBalancer(weights,1));\n    client=Redisson.create(config);\n    slave.stop();\n    RedissonClient clientCopy=client;\n    assertThat(clientCopy.getBucket(\"key\").get()).isNull();\n  }\n  finally {\n    if (master != null) {\n      master.stop();\n    }\n    if (slave != null) {\n      slave.stop();\n    }\n    if (client != null) {\n      client.shutdown();\n    }\n  }\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 166,
      "astHeight" : 11
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 29,
        "startLineNumber" : 33,
        "startColumnNumber" : 12,
        "endLineNumber" : 33,
        "endColumnNumber" : 41
      },
      "nodeContext" : "Config config=new Config();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 8,
      "astHeight" : 5
    },
    "tokenLength" : 1,
    "type" : "org.redisson.config.Config"
  } ],
  "positionList" : [ {
    "charLength" : 12,
    "startLineNumber" : 33,
    "startColumnNumber" : 28,
    "endLineNumber" : 33,
    "endColumnNumber" : 40
  } ],
  "layoutRelationDataList" : [ ]
}
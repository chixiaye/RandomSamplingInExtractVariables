{
  "id" : 378,
  "expression" : "new User(11L,\"updateBatchById-1\",1,1)",
  "projectName" : "baomidou@mybatis-plus",
  "commitID" : "7815611a659da4cc8d5443f5ef4c10ca0d937582",
  "filePath" : "/mybatis-plus-core/src/test/java/com/baomidou/mybatisplus/test/mysql/UserMapperTest.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "new User(11L,\"updateBatchById-1\",1,1)",
    "nodeType" : "ClassInstanceCreation",
    "nodePosition" : {
      "charLength" : 40,
      "startLineNumber" : 215,
      "startColumnNumber" : 21,
      "endLineNumber" : 215,
      "endColumnNumber" : 61
    },
    "astNodeNumber" : 7,
    "astHeight" : 3,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 54,
        "startLineNumber" : 215,
        "startColumnNumber" : 8,
        "endLineNumber" : 215,
        "endColumnNumber" : 62
      },
      "nodeContext" : "userList.add(new User(11L,\"updateBatchById-1\",1,1))",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 10,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 55,
        "startLineNumber" : 215,
        "startColumnNumber" : 8,
        "endLineNumber" : 215,
        "endColumnNumber" : 63
      },
      "nodeContext" : "userList.add(new User(11L,\"updateBatchById-1\",1,1));\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 11,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 8101,
        "startLineNumber" : 76,
        "startColumnNumber" : 27,
        "endLineNumber" : 309,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  SqlSession session=this.sqlSessionFactory().openSession();\n  UserMapper userMapper=session.getMapper(UserMapper.class);\n  System.err.println(\" debug run 查询执行 user 表数据变化！ \");\n  userMapper.deleteAll();\n  Role role=new Role();\n  role.setId(IdWorker.getId());\n  role.setName(\"admin\");\n  User userA=new User();\n  userA.setId(IdWorker.getId());\n  userA.setName(\"junyu_shi\");\n  userA.setAge(1);\n  userA.setDesc(\"测试一把\");\n  userA.setTestType(1);\n  userA.setRole(role);\n  int rlt=userMapper.insert(userA);\n  User whereUser=userMapper.selectOne(userA);\n  print(whereUser);\n  userA.setAge(18);\n  userMapper.updateById(userA);\n  userMapper.delete(new EntityWrapper<>(userA));\n  System.err.println(\"--------- @TableField el() --------- \" + rlt);\n  rlt=userMapper.insertInjector(new User(1L,\"1\",1,1));\n  System.err.println(\"--------- insertInjector --------- \" + rlt);\n  User cacheUser=userMapper.selectOne(new User(1L,1));\n  print(cacheUser);\n  cacheUser=userMapper.selectOne(new User(1L,1));\n  print(cacheUser);\n  long id=IdWorker.getId();\n  rlt=userMapper.insert(new User(id,\"abc\",18,1));\n  System.err.println(\"\\n--------------insert-------\" + rlt);\n  sleep();\n  rlt=userMapper.insert(new User(18));\n  System.err.println(\"\\n----------测试 name 字段忽略验证----insert-------\" + rlt);\n  sleep();\n  List<User> ul=new ArrayList<>();\n  ul.add(new User(11L,\"1\",1,0));\n  ul.add(new User(12L,\"2\",2,1));\n  ul.add(new User(13L,\"3\",3,1));\n  ul.add(new User(14L,\"delname\",4,0));\n  ul.add(new User(15L,\"5\",5,1));\n  ul.add(new User(16L,\"6\",6,0));\n  ul.add(new User(17L,7));\n  ul.add(new User(18L,8));\n  ul.add(new User(19L,9));\n  ul.add(new User(7));\n  ul.add(new User(20L,\"deleteByMap\",7,0));\n  ul.add(new User(\"8\",8,1));\n  ul.add(new User(\"9\",9,1));\n  for (  User u : ul) {\n    rlt=userMapper.insert(u);\n  }\n  System.err.println(\"\\n--------------insertBatch----------------\" + rlt + \"\\n\\n\");\n  System.err.println(\"\\n 自定义填充 testType=3 填充成功！\" + userMapper.selectById(18L).toString());\n  session.commit();\n  rlt=userMapper.deleteById(id);\n  System.err.println(\"---------deleteById------- delete id=\" + id + \" ,result=\"+ rlt+ \"\\n\\n\");\n  sleep();\n  Map<String,Object> columnMap=new HashMap<>();\n  columnMap.put(\"name\",\"deleteByMap\");\n  columnMap.put(\"age\",null);\n  rlt=userMapper.deleteByMap(columnMap);\n  System.err.println(\"---------deleteByMap------- result=\" + rlt + \"\\n\\n\");\n  sleep();\n  List<Long> il=new ArrayList<>();\n  il.add(16L);\n  il.add(17L);\n  rlt=userMapper.deleteBatchIds(il);\n  System.err.println(\"---------deleteBatchIds------- delete id=\" + id + \" ,result=\"+ rlt+ \"\\n\\n\");\n  sleep();\n  rlt=userMapper.delete(new EntityWrapper<>(new User(14L,\"delname\")));\n  System.err.println(\"--------------delete------------------ result=\" + rlt + \"\\n\\n\");\n  sleep();\n  rlt=userMapper.updateById(new User(12L,\"MybatisPlus\"));\n  System.err.println(\"------------------updateById---------------------- result=\" + rlt + \"\\n\\n\");\n  sleep();\n  rlt=userMapper.updateById(new User(12L,\"update all column\",12,12));\n  System.err.println(\"------------------updateById---------------------- result=\" + rlt + \"\\n\\n\");\n  sleep();\n  rlt=userMapper.update(new User(\"55\",55,5),new EntityWrapper<>(new User(15L,\"5\")));\n  System.err.println(\"------------------update---------------------- result=\" + rlt + \"\\n\\n\");\n  sleep();\n  EntityWrapper<User> ew1=new EntityWrapper<>();\n  ew1.addFilter(\"test_id={0} AND name={1}\",15L,\"55\");\n  rlt=userMapper.update(new User(\"00\"),ew1);\n  System.err.println(\"------------------update---------------------- result=\" + rlt + \"\\n\\n\");\n  sleep();\n  List<User> userList=new ArrayList<>();\n  userList.add(new User(11L,\"updateBatchById-1\",1,1));\n  userList.add(new User(12L,\"updateBatchById-2\",2,1));\n  userList.add(new User(13L,\"updateBatchById-3\",3,1));\n  for (  User u : userList) {\n    rlt=userMapper.updateById(u);\n  }\n  System.err.println(\"------------------updateBatchById---------------------- result=\" + rlt + \"\\n\\n\");\n  sleep();\n  System.err.println(\"\\n------------------selectById----------------------\");\n  User user=userMapper.selectById(12L);\n  print(user);\n  System.err.println(\"\\n------------------selectBatchIds----------------------\");\n  List<Long> idList=new ArrayList<>();\n  idList.add(11L);\n  idList.add(12L);\n  List<User> ul0=userMapper.selectBatchIds(idList);\n  for (  User anUl0 : ul0) {\n    print(anUl0);\n  }\n  System.err.println(\"\\n------------------selectByMap-----满足 map 条件的数据----\");\n  Map<String,Object> cm=new HashMap<>();\n  cm.put(\"test_type\",1);\n  cm.put(\"1\",1);\n  List<User> ul1=userMapper.selectByMap(cm);\n  for (  User anUl1 : ul1) {\n    print(anUl1);\n  }\n  System.err.println(\"\\n------------------selectOne----------------------\");\n  User userOne=userMapper.selectOne(new User(\"abc\"));\n  print(userOne);\n  System.err.println(\"\\n------------------selectCount----------------------\");\n  System.err.println(\"查询 type=1 总记录数：\" + userMapper.selectCount(new EntityWrapper<>(new User(1))));\n  System.err.println(\"总记录数：\" + userMapper.selectCount(null));\n  System.err.println(\"\\n------------------selectList-----所有数据----id--DESC--排序----\");\n  List<User> ul2=userMapper.selectList(new EntityWrapper<User>(null,\"age,name\"));\n  for (  User anUl2 : ul2) {\n    print(anUl2);\n  }\n  System.err.println(\"\\n------------------list 分页查询 ----查询 testType = 1 的所有数据--id--DESC--排序--------\");\n  Page<User> page=new Page<>(1,2);\n  EntityWrapper<User> ew=new EntityWrapper<>(new User(1));\n  ew.setSqlSelect(\"age,name\");\n  ew.where(\"name like {0}\",\"'%dateBatch%'\").and(\"age={0}\",3).orderBy(\"age,name\",true);\n  List<User> paginList=userMapper.selectPage(page,ew);\n  page.setRecords(paginList);\n  for (int i=0; i < page.getRecords().size(); i++) {\n    print(page.getRecords().get(i));\n  }\n  System.err.println(\" 翻页：\" + page.toString());\n  System.err.println(\"\\n---------------xml---selectListRow 分页查询，不查询总数（此时可自定义 count 查询）----无查询条件--------------\");\n  List<User> rowList=userMapper.selectListRow(new Pagination(0,2,false));\n  for (  User aRowList : rowList) {\n    print(aRowList);\n  }\n  System.err.println(\" selectList EntityWrapper == null \\n\");\n  paginList=userMapper.selectList(null);\n  for (  User aPaginList : paginList) {\n    print(aPaginList);\n  }\n  rlt=userMapper.deleteAll();\n  System.err.println(\"清空测试数据！ rlt=\" + rlt);\n  session.commit();\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 1190,
      "astHeight" : 9
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 8394,
        "startLineNumber" : 63,
        "startColumnNumber" : 4,
        "endLineNumber" : 309,
        "endColumnNumber" : 5
      },
      "nodeContext" : "/** \n * RUN 测试 <p> <p> MybatisPlus 加载 SQL 顺序： </p> 1、加载XML中的SQL<br> 2、加载sqlProvider中的SQL<br> 3、xmlSql 与 sqlProvider不能包含相同的SQL<br> <br> 调整后的SQL优先级：xmlSql > sqlProvider > crudSql <br>\n */\n@Test public void crudTest(){\n  SqlSession session=this.sqlSessionFactory().openSession();\n  UserMapper userMapper=session.getMapper(UserMapper.class);\n  System.err.println(\" debug run 查询执行 user 表数据变化！ \");\n  userMapper.deleteAll();\n  Role role=new Role();\n  role.setId(IdWorker.getId());\n  role.setName(\"admin\");\n  User userA=new User();\n  userA.setId(IdWorker.getId());\n  userA.setName(\"junyu_shi\");\n  userA.setAge(1);\n  userA.setDesc(\"测试一把\");\n  userA.setTestType(1);\n  userA.setRole(role);\n  int rlt=userMapper.insert(userA);\n  User whereUser=userMapper.selectOne(userA);\n  print(whereUser);\n  userA.setAge(18);\n  userMapper.updateById(userA);\n  userMapper.delete(new EntityWrapper<>(userA));\n  System.err.println(\"--------- @TableField el() --------- \" + rlt);\n  rlt=userMapper.insertInjector(new User(1L,\"1\",1,1));\n  System.err.println(\"--------- insertInjector --------- \" + rlt);\n  User cacheUser=userMapper.selectOne(new User(1L,1));\n  print(cacheUser);\n  cacheUser=userMapper.selectOne(new User(1L,1));\n  print(cacheUser);\n  long id=IdWorker.getId();\n  rlt=userMapper.insert(new User(id,\"abc\",18,1));\n  System.err.println(\"\\n--------------insert-------\" + rlt);\n  sleep();\n  rlt=userMapper.insert(new User(18));\n  System.err.println(\"\\n----------测试 name 字段忽略验证----insert-------\" + rlt);\n  sleep();\n  List<User> ul=new ArrayList<>();\n  ul.add(new User(11L,\"1\",1,0));\n  ul.add(new User(12L,\"2\",2,1));\n  ul.add(new User(13L,\"3\",3,1));\n  ul.add(new User(14L,\"delname\",4,0));\n  ul.add(new User(15L,\"5\",5,1));\n  ul.add(new User(16L,\"6\",6,0));\n  ul.add(new User(17L,7));\n  ul.add(new User(18L,8));\n  ul.add(new User(19L,9));\n  ul.add(new User(7));\n  ul.add(new User(20L,\"deleteByMap\",7,0));\n  ul.add(new User(\"8\",8,1));\n  ul.add(new User(\"9\",9,1));\n  for (  User u : ul) {\n    rlt=userMapper.insert(u);\n  }\n  System.err.println(\"\\n--------------insertBatch----------------\" + rlt + \"\\n\\n\");\n  System.err.println(\"\\n 自定义填充 testType=3 填充成功！\" + userMapper.selectById(18L).toString());\n  session.commit();\n  rlt=userMapper.deleteById(id);\n  System.err.println(\"---------deleteById------- delete id=\" + id + \" ,result=\"+ rlt+ \"\\n\\n\");\n  sleep();\n  Map<String,Object> columnMap=new HashMap<>();\n  columnMap.put(\"name\",\"deleteByMap\");\n  columnMap.put(\"age\",null);\n  rlt=userMapper.deleteByMap(columnMap);\n  System.err.println(\"---------deleteByMap------- result=\" + rlt + \"\\n\\n\");\n  sleep();\n  List<Long> il=new ArrayList<>();\n  il.add(16L);\n  il.add(17L);\n  rlt=userMapper.deleteBatchIds(il);\n  System.err.println(\"---------deleteBatchIds------- delete id=\" + id + \" ,result=\"+ rlt+ \"\\n\\n\");\n  sleep();\n  rlt=userMapper.delete(new EntityWrapper<>(new User(14L,\"delname\")));\n  System.err.println(\"--------------delete------------------ result=\" + rlt + \"\\n\\n\");\n  sleep();\n  rlt=userMapper.updateById(new User(12L,\"MybatisPlus\"));\n  System.err.println(\"------------------updateById---------------------- result=\" + rlt + \"\\n\\n\");\n  sleep();\n  rlt=userMapper.updateById(new User(12L,\"update all column\",12,12));\n  System.err.println(\"------------------updateById---------------------- result=\" + rlt + \"\\n\\n\");\n  sleep();\n  rlt=userMapper.update(new User(\"55\",55,5),new EntityWrapper<>(new User(15L,\"5\")));\n  System.err.println(\"------------------update---------------------- result=\" + rlt + \"\\n\\n\");\n  sleep();\n  EntityWrapper<User> ew1=new EntityWrapper<>();\n  ew1.addFilter(\"test_id={0} AND name={1}\",15L,\"55\");\n  rlt=userMapper.update(new User(\"00\"),ew1);\n  System.err.println(\"------------------update---------------------- result=\" + rlt + \"\\n\\n\");\n  sleep();\n  List<User> userList=new ArrayList<>();\n  userList.add(new User(11L,\"updateBatchById-1\",1,1));\n  userList.add(new User(12L,\"updateBatchById-2\",2,1));\n  userList.add(new User(13L,\"updateBatchById-3\",3,1));\n  for (  User u : userList) {\n    rlt=userMapper.updateById(u);\n  }\n  System.err.println(\"------------------updateBatchById---------------------- result=\" + rlt + \"\\n\\n\");\n  sleep();\n  System.err.println(\"\\n------------------selectById----------------------\");\n  User user=userMapper.selectById(12L);\n  print(user);\n  System.err.println(\"\\n------------------selectBatchIds----------------------\");\n  List<Long> idList=new ArrayList<>();\n  idList.add(11L);\n  idList.add(12L);\n  List<User> ul0=userMapper.selectBatchIds(idList);\n  for (  User anUl0 : ul0) {\n    print(anUl0);\n  }\n  System.err.println(\"\\n------------------selectByMap-----满足 map 条件的数据----\");\n  Map<String,Object> cm=new HashMap<>();\n  cm.put(\"test_type\",1);\n  cm.put(\"1\",1);\n  List<User> ul1=userMapper.selectByMap(cm);\n  for (  User anUl1 : ul1) {\n    print(anUl1);\n  }\n  System.err.println(\"\\n------------------selectOne----------------------\");\n  User userOne=userMapper.selectOne(new User(\"abc\"));\n  print(userOne);\n  System.err.println(\"\\n------------------selectCount----------------------\");\n  System.err.println(\"查询 type=1 总记录数：\" + userMapper.selectCount(new EntityWrapper<>(new User(1))));\n  System.err.println(\"总记录数：\" + userMapper.selectCount(null));\n  System.err.println(\"\\n------------------selectList-----所有数据----id--DESC--排序----\");\n  List<User> ul2=userMapper.selectList(new EntityWrapper<User>(null,\"age,name\"));\n  for (  User anUl2 : ul2) {\n    print(anUl2);\n  }\n  System.err.println(\"\\n------------------list 分页查询 ----查询 testType = 1 的所有数据--id--DESC--排序--------\");\n  Page<User> page=new Page<>(1,2);\n  EntityWrapper<User> ew=new EntityWrapper<>(new User(1));\n  ew.setSqlSelect(\"age,name\");\n  ew.where(\"name like {0}\",\"'%dateBatch%'\").and(\"age={0}\",3).orderBy(\"age,name\",true);\n  List<User> paginList=userMapper.selectPage(page,ew);\n  page.setRecords(paginList);\n  for (int i=0; i < page.getRecords().size(); i++) {\n    print(page.getRecords().get(i));\n  }\n  System.err.println(\" 翻页：\" + page.toString());\n  System.err.println(\"\\n---------------xml---selectListRow 分页查询，不查询总数（此时可自定义 count 查询）----无查询条件--------------\");\n  List<User> rowList=userMapper.selectListRow(new Pagination(0,2,false));\n  for (  User aRowList : rowList) {\n    print(aRowList);\n  }\n  System.err.println(\" selectList EntityWrapper == null \\n\");\n  paginList=userMapper.selectList(null);\n  for (  User aPaginList : paginList) {\n    print(aPaginList);\n  }\n  rlt=userMapper.deleteAll();\n  System.err.println(\"清空测试数据！ rlt=\" + rlt);\n  session.commit();\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 1197,
      "astHeight" : 10
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 55,
        "startLineNumber" : 215,
        "startColumnNumber" : 8,
        "endLineNumber" : 215,
        "endColumnNumber" : 63
      },
      "nodeContext" : "userList.add(new User(11L,\"updateBatchById-1\",1,1));\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 11,
      "astHeight" : 5
    },
    "tokenLength" : 5,
    "type" : "com.baomidou.mybatisplus.test.mysql.entity.User"
  } ],
  "positionList" : [ {
    "charLength" : 40,
    "startLineNumber" : 215,
    "startColumnNumber" : 21,
    "endLineNumber" : 215,
    "endColumnNumber" : 61
  } ],
  "layoutRelationDataList" : [ ]
}
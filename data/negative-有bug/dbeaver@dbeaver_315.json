{
  "id" : 315,
  "expression" : "\"-- set schema %s;%n\"",
  "projectName" : "dbeaver@dbeaver",
  "commitID" : "aecf0da5baef5ea4aa1675578670cf057248123d",
  "filePath" : "/plugins/org.jkiss.dbeaver.ext.kognitio/src/org/jkiss/dbeaver/ext/kognitio/model/KognitioMetaModel.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "\"-- set schema %s;%n\"",
    "nodeType" : "StringLiteral",
    "nodePosition" : {
      "charLength" : 21,
      "startLineNumber" : 99,
      "startColumnNumber" : 54,
      "endLineNumber" : 99,
      "endColumnNumber" : 75
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.Assignment,rightHandSide]",
      "nodePosition" : {
        "charLength" : 79,
        "startLineNumber" : 99,
        "startColumnNumber" : 40,
        "endLineNumber" : 99,
        "endColumnNumber" : 119
      },
      "nodeContext" : "String.format(\"-- set schema %s;%n\",defaultSchemaQuotedIdentifier,createText)",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 6,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 91,
        "startLineNumber" : 99,
        "startColumnNumber" : 28,
        "endLineNumber" : 99,
        "endColumnNumber" : 119
      },
      "nodeContext" : "preamble+=String.format(\"-- set schema %s;%n\",defaultSchemaQuotedIdentifier,createText)",
      "nodeType" : "Assignment",
      "astNodeNumber" : 8,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 92,
        "startLineNumber" : 99,
        "startColumnNumber" : 28,
        "endLineNumber" : 99,
        "endColumnNumber" : 120
      },
      "nodeContext" : "preamble+=String.format(\"-- set schema %s;%n\",defaultSchemaQuotedIdentifier,createText);\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 9,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 1152,
        "startLineNumber" : 83,
        "startColumnNumber" : 96,
        "endLineNumber" : 100,
        "endColumnNumber" : 25
      },
      "nodeContext" : "{\n  defaultSchemaQuotedIdentifier=DBUtils.getQuotedIdentifier(dataSource,defaultSchemaName);\n  if (!defaultSchemaName.equals(schemaName)) {\n    preamble=String.format(\"-- View %s is in the %s schema, but is created from the %s schema.%n\",tableName,schemaName,defaultSchemaName);\n  }\n else {\n    preamble=\"\";\n  }\n  preamble+=String.format(\"-- set schema %s;%n\",defaultSchemaQuotedIdentifier,createText);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 40,
      "astHeight" : 7
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1224,
        "startLineNumber" : 83,
        "startColumnNumber" : 24,
        "endLineNumber" : 100,
        "endColumnNumber" : 25
      },
      "nodeContext" : "if (defaultSchemaName != null && defaultSchemaQuotedIdentifier == null) {\n  defaultSchemaQuotedIdentifier=DBUtils.getQuotedIdentifier(dataSource,defaultSchemaName);\n  if (!defaultSchemaName.equals(schemaName)) {\n    preamble=String.format(\"-- View %s is in the %s schema, but is created from the %s schema.%n\",tableName,schemaName,defaultSchemaName);\n  }\n else {\n    preamble=\"\";\n  }\n  preamble+=String.format(\"-- set schema %s;%n\",defaultSchemaQuotedIdentifier,createText);\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 48,
      "astHeight" : 8
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.WhileStatement,body]",
      "nodePosition" : {
        "charLength" : 1754,
        "startLineNumber" : 78,
        "startColumnNumber" : 48,
        "endLineNumber" : 107,
        "endColumnNumber" : 21
      },
      "nodeContext" : "{\n  String createTextFragment1=resultSet.getString(1);\n  String createTextFragment2=resultSet.getString(2);\n  String defaultSchemaName=resultSet.getString(3);\n  if (defaultSchemaName != null && defaultSchemaQuotedIdentifier == null) {\n    defaultSchemaQuotedIdentifier=DBUtils.getQuotedIdentifier(dataSource,defaultSchemaName);\n    if (!defaultSchemaName.equals(schemaName)) {\n      preamble=String.format(\"-- View %s is in the %s schema, but is created from the %s schema.%n\",tableName,schemaName,defaultSchemaName);\n    }\n else {\n      preamble=\"\";\n    }\n    preamble+=String.format(\"-- set schema %s;%n\",defaultSchemaQuotedIdentifier,createText);\n  }\n  if (createTextFragment1 != null)   createText.append(createTextFragment1);\n  if (createTextFragment2 != null)   createText.append(createTextFragment2);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 94,
      "astHeight" : 9
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1782,
        "startLineNumber" : 78,
        "startColumnNumber" : 20,
        "endLineNumber" : 107,
        "endColumnNumber" : 21
      },
      "nodeContext" : "while (resultSet.nextRow()) {\n  String createTextFragment1=resultSet.getString(1);\n  String createTextFragment2=resultSet.getString(2);\n  String defaultSchemaName=resultSet.getString(3);\n  if (defaultSchemaName != null && defaultSchemaQuotedIdentifier == null) {\n    defaultSchemaQuotedIdentifier=DBUtils.getQuotedIdentifier(dataSource,defaultSchemaName);\n    if (!defaultSchemaName.equals(schemaName)) {\n      preamble=String.format(\"-- View %s is in the %s schema, but is created from the %s schema.%n\",tableName,schemaName,defaultSchemaName);\n    }\n else {\n      preamble=\"\";\n    }\n    preamble+=String.format(\"-- set schema %s;%n\",defaultSchemaQuotedIdentifier,createText);\n  }\n  if (createTextFragment1 != null)   createText.append(createTextFragment1);\n  if (createTextFragment2 != null)   createText.append(createTextFragment2);\n}\n",
      "nodeType" : "WhileStatement",
      "astNodeNumber" : 98,
      "astHeight" : 10
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.TryStatement,body]",
      "nodePosition" : {
        "charLength" : 2245,
        "startLineNumber" : 74,
        "startColumnNumber" : 68,
        "endLineNumber" : 115,
        "endColumnNumber" : 17
      },
      "nodeContext" : "{\n  StringBuilder createText=new StringBuilder();\n  String preamble=\"\";\n  String defaultSchemaQuotedIdentifier=null;\n  while (resultSet.nextRow()) {\n    String createTextFragment1=resultSet.getString(1);\n    String createTextFragment2=resultSet.getString(2);\n    String defaultSchemaName=resultSet.getString(3);\n    if (defaultSchemaName != null && defaultSchemaQuotedIdentifier == null) {\n      defaultSchemaQuotedIdentifier=DBUtils.getQuotedIdentifier(dataSource,defaultSchemaName);\n      if (!defaultSchemaName.equals(schemaName)) {\n        preamble=String.format(\"-- View %s is in the %s schema, but is created from the %s schema.%n\",tableName,schemaName,defaultSchemaName);\n      }\n else {\n        preamble=\"\";\n      }\n      preamble+=String.format(\"-- set schema %s;%n\",defaultSchemaQuotedIdentifier,createText);\n    }\n    if (createTextFragment1 != null)     createText.append(createTextFragment1);\n    if (createTextFragment2 != null)     createText.append(createTextFragment2);\n  }\n  if (createText.length() == 0) {\n    return \"-- Create text not found\";\n  }\n else {\n    return preamble + createText.toString();\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 135,
      "astHeight" : 11
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 2297,
        "startLineNumber" : 74,
        "startColumnNumber" : 16,
        "endLineNumber" : 115,
        "endColumnNumber" : 17
      },
      "nodeContext" : "try (JDBCResultSet resultSet=stmt.executeQuery()){\n  StringBuilder createText=new StringBuilder();\n  String preamble=\"\";\n  String defaultSchemaQuotedIdentifier=null;\n  while (resultSet.nextRow()) {\n    String createTextFragment1=resultSet.getString(1);\n    String createTextFragment2=resultSet.getString(2);\n    String defaultSchemaName=resultSet.getString(3);\n    if (defaultSchemaName != null && defaultSchemaQuotedIdentifier == null) {\n      defaultSchemaQuotedIdentifier=DBUtils.getQuotedIdentifier(dataSource,defaultSchemaName);\n      if (!defaultSchemaName.equals(schemaName)) {\n        preamble=String.format(\"-- View %s is in the %s schema, but is created from the %s schema.%n\",tableName,schemaName,defaultSchemaName);\n      }\n else {\n        preamble=\"\";\n      }\n      preamble+=String.format(\"-- set schema %s;%n\",defaultSchemaQuotedIdentifier,createText);\n    }\n    if (createTextFragment1 != null)     createText.append(createTextFragment1);\n    if (createTextFragment2 != null)     createText.append(createTextFragment2);\n  }\n  if (createText.length() == 0) {\n    return \"-- Create text not found\";\n  }\n else {\n    return preamble + createText.toString();\n  }\n}\n ",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 144,
      "astHeight" : 12
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.TryStatement,body]",
      "nodePosition" : {
        "charLength" : 2423,
        "startLineNumber" : 70,
        "startColumnNumber" : 77,
        "endLineNumber" : 116,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  stmt.setString(1,schemaName);\n  stmt.setString(2,tableName);\n  try (JDBCResultSet resultSet=stmt.executeQuery()){\n    StringBuilder createText=new StringBuilder();\n    String preamble=\"\";\n    String defaultSchemaQuotedIdentifier=null;\n    while (resultSet.nextRow()) {\n      String createTextFragment1=resultSet.getString(1);\n      String createTextFragment2=resultSet.getString(2);\n      String defaultSchemaName=resultSet.getString(3);\n      if (defaultSchemaName != null && defaultSchemaQuotedIdentifier == null) {\n        defaultSchemaQuotedIdentifier=DBUtils.getQuotedIdentifier(dataSource,defaultSchemaName);\n        if (!defaultSchemaName.equals(schemaName)) {\n          preamble=String.format(\"-- View %s is in the %s schema, but is created from the %s schema.%n\",tableName,schemaName,defaultSchemaName);\n        }\n else {\n          preamble=\"\";\n        }\n        preamble+=String.format(\"-- set schema %s;%n\",defaultSchemaQuotedIdentifier,createText);\n      }\n      if (createTextFragment1 != null)       createText.append(createTextFragment1);\n      if (createTextFragment2 != null)       createText.append(createTextFragment2);\n    }\n    if (createText.length() == 0) {\n      return \"-- Create text not found\";\n    }\n else {\n      return preamble + createText.toString();\n    }\n  }\n }\n",
      "nodeType" : "Block",
      "astNodeNumber" : 157,
      "astHeight" : 13
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 2488,
        "startLineNumber" : 70,
        "startColumnNumber" : 12,
        "endLineNumber" : 116,
        "endColumnNumber" : 13
      },
      "nodeContext" : "try (JDBCPreparedStatement stmt=session.prepareStatement(sql)){\n  stmt.setString(1,schemaName);\n  stmt.setString(2,tableName);\n  try (JDBCResultSet resultSet=stmt.executeQuery()){\n    StringBuilder createText=new StringBuilder();\n    String preamble=\"\";\n    String defaultSchemaQuotedIdentifier=null;\n    while (resultSet.nextRow()) {\n      String createTextFragment1=resultSet.getString(1);\n      String createTextFragment2=resultSet.getString(2);\n      String defaultSchemaName=resultSet.getString(3);\n      if (defaultSchemaName != null && defaultSchemaQuotedIdentifier == null) {\n        defaultSchemaQuotedIdentifier=DBUtils.getQuotedIdentifier(dataSource,defaultSchemaName);\n        if (!defaultSchemaName.equals(schemaName)) {\n          preamble=String.format(\"-- View %s is in the %s schema, but is created from the %s schema.%n\",tableName,schemaName,defaultSchemaName);\n        }\n else {\n          preamble=\"\";\n        }\n        preamble+=String.format(\"-- set schema %s;%n\",defaultSchemaQuotedIdentifier,createText);\n      }\n      if (createTextFragment1 != null)       createText.append(createTextFragment1);\n      if (createTextFragment2 != null)       createText.append(createTextFragment2);\n    }\n    if (createText.length() == 0) {\n      return \"-- Create text not found\";\n    }\n else {\n      return preamble + createText.toString();\n    }\n  }\n }\n ",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 167,
      "astHeight" : 14
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.TryStatement,body]",
      "nodePosition" : {
        "charLength" : 2512,
        "startLineNumber" : 69,
        "startColumnNumber" : 96,
        "endLineNumber" : 117,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  try (JDBCPreparedStatement stmt=session.prepareStatement(sql)){\n    stmt.setString(1,schemaName);\n    stmt.setString(2,tableName);\n    try (JDBCResultSet resultSet=stmt.executeQuery()){\n      StringBuilder createText=new StringBuilder();\n      String preamble=\"\";\n      String defaultSchemaQuotedIdentifier=null;\n      while (resultSet.nextRow()) {\n        String createTextFragment1=resultSet.getString(1);\n        String createTextFragment2=resultSet.getString(2);\n        String defaultSchemaName=resultSet.getString(3);\n        if (defaultSchemaName != null && defaultSchemaQuotedIdentifier == null) {\n          defaultSchemaQuotedIdentifier=DBUtils.getQuotedIdentifier(dataSource,defaultSchemaName);\n          if (!defaultSchemaName.equals(schemaName)) {\n            preamble=String.format(\"-- View %s is in the %s schema, but is created from the %s schema.%n\",tableName,schemaName,defaultSchemaName);\n          }\n else {\n            preamble=\"\";\n          }\n          preamble+=String.format(\"-- set schema %s;%n\",defaultSchemaQuotedIdentifier,createText);\n        }\n        if (createTextFragment1 != null)         createText.append(createTextFragment1);\n        if (createTextFragment2 != null)         createText.append(createTextFragment2);\n      }\n      if (createText.length() == 0) {\n        return \"-- Create text not found\";\n      }\n else {\n        return preamble + createText.toString();\n      }\n    }\n   }\n }\n",
      "nodeType" : "Block",
      "astNodeNumber" : 168,
      "astHeight" : 15
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 2693,
        "startLineNumber" : 69,
        "startColumnNumber" : 8,
        "endLineNumber" : 120,
        "endColumnNumber" : 9
      },
      "nodeContext" : "try (JDBCSession session=DBUtils.openMetaSession(monitor,sourceObject,description)){\n  try (JDBCPreparedStatement stmt=session.prepareStatement(sql)){\n    stmt.setString(1,schemaName);\n    stmt.setString(2,tableName);\n    try (JDBCResultSet resultSet=stmt.executeQuery()){\n      StringBuilder createText=new StringBuilder();\n      String preamble=\"\";\n      String defaultSchemaQuotedIdentifier=null;\n      while (resultSet.nextRow()) {\n        String createTextFragment1=resultSet.getString(1);\n        String createTextFragment2=resultSet.getString(2);\n        String defaultSchemaName=resultSet.getString(3);\n        if (defaultSchemaName != null && defaultSchemaQuotedIdentifier == null) {\n          defaultSchemaQuotedIdentifier=DBUtils.getQuotedIdentifier(dataSource,defaultSchemaName);\n          if (!defaultSchemaName.equals(schemaName)) {\n            preamble=String.format(\"-- View %s is in the %s schema, but is created from the %s schema.%n\",tableName,schemaName,defaultSchemaName);\n          }\n else {\n            preamble=\"\";\n          }\n          preamble+=String.format(\"-- set schema %s;%n\",defaultSchemaQuotedIdentifier,createText);\n        }\n        if (createTextFragment1 != null)         createText.append(createTextFragment1);\n        if (createTextFragment2 != null)         createText.append(createTextFragment2);\n      }\n      if (createText.length() == 0) {\n        return \"-- Create text not found\";\n      }\n else {\n        return preamble + createText.toString();\n      }\n    }\n   }\n }\n catch (SQLException e) {\n  throw new DBException(e,dataSource);\n}\n",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 192,
      "astHeight" : 16
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 2897,
        "startLineNumber" : 64,
        "startColumnNumber" : 63,
        "endLineNumber" : 121,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  GenericDataSource dataSource=sourceObject.getDataSource();\n  String schemaName=sourceObject.getContainer().getName();\n  String tableName=sourceObject.getName();\n  try (JDBCSession session=DBUtils.openMetaSession(monitor,sourceObject,description)){\n    try (JDBCPreparedStatement stmt=session.prepareStatement(sql)){\n      stmt.setString(1,schemaName);\n      stmt.setString(2,tableName);\n      try (JDBCResultSet resultSet=stmt.executeQuery()){\n        StringBuilder createText=new StringBuilder();\n        String preamble=\"\";\n        String defaultSchemaQuotedIdentifier=null;\n        while (resultSet.nextRow()) {\n          String createTextFragment1=resultSet.getString(1);\n          String createTextFragment2=resultSet.getString(2);\n          String defaultSchemaName=resultSet.getString(3);\n          if (defaultSchemaName != null && defaultSchemaQuotedIdentifier == null) {\n            defaultSchemaQuotedIdentifier=DBUtils.getQuotedIdentifier(dataSource,defaultSchemaName);\n            if (!defaultSchemaName.equals(schemaName)) {\n              preamble=String.format(\"-- View %s is in the %s schema, but is created from the %s schema.%n\",tableName,schemaName,defaultSchemaName);\n            }\n else {\n              preamble=\"\";\n            }\n            preamble+=String.format(\"-- set schema %s;%n\",defaultSchemaQuotedIdentifier,createText);\n          }\n          if (createTextFragment1 != null)           createText.append(createTextFragment1);\n          if (createTextFragment2 != null)           createText.append(createTextFragment2);\n        }\n        if (createText.length() == 0) {\n          return \"-- Create text not found\";\n        }\n else {\n          return preamble + createText.toString();\n        }\n      }\n     }\n   }\n catch (  SQLException e) {\n    throw new DBException(e,dataSource);\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 219,
      "astHeight" : 17
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 3090,
        "startLineNumber" : 62,
        "startColumnNumber" : 4,
        "endLineNumber" : 121,
        "endColumnNumber" : 5
      },
      "nodeContext" : "protected String getObjectDDL(DBRProgressMonitor monitor,GenericTableBase sourceObject,Map<String,Object> options,String sql,String description) throws DBException {\n  GenericDataSource dataSource=sourceObject.getDataSource();\n  String schemaName=sourceObject.getContainer().getName();\n  String tableName=sourceObject.getName();\n  try (JDBCSession session=DBUtils.openMetaSession(monitor,sourceObject,description)){\n    try (JDBCPreparedStatement stmt=session.prepareStatement(sql)){\n      stmt.setString(1,schemaName);\n      stmt.setString(2,tableName);\n      try (JDBCResultSet resultSet=stmt.executeQuery()){\n        StringBuilder createText=new StringBuilder();\n        String preamble=\"\";\n        String defaultSchemaQuotedIdentifier=null;\n        while (resultSet.nextRow()) {\n          String createTextFragment1=resultSet.getString(1);\n          String createTextFragment2=resultSet.getString(2);\n          String defaultSchemaName=resultSet.getString(3);\n          if (defaultSchemaName != null && defaultSchemaQuotedIdentifier == null) {\n            defaultSchemaQuotedIdentifier=DBUtils.getQuotedIdentifier(dataSource,defaultSchemaName);\n            if (!defaultSchemaName.equals(schemaName)) {\n              preamble=String.format(\"-- View %s is in the %s schema, but is created from the %s schema.%n\",tableName,schemaName,defaultSchemaName);\n            }\n else {\n              preamble=\"\";\n            }\n            preamble+=String.format(\"-- set schema %s;%n\",defaultSchemaQuotedIdentifier,createText);\n          }\n          if (createTextFragment1 != null)           createText.append(createTextFragment1);\n          if (createTextFragment2 != null)           createText.append(createTextFragment2);\n        }\n        if (createText.length() == 0) {\n          return \"-- Create text not found\";\n        }\n else {\n          return preamble + createText.toString();\n        }\n      }\n     }\n   }\n catch (  SQLException e) {\n    throw new DBException(e,dataSource);\n  }\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 251,
      "astHeight" : 18
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 92,
        "startLineNumber" : 99,
        "startColumnNumber" : 28,
        "endLineNumber" : 99,
        "endColumnNumber" : 120
      },
      "nodeContext" : "preamble+=String.format(\"-- set schema %s;%n\",defaultSchemaQuotedIdentifier,createText);\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 9,
      "astHeight" : 4
    },
    "tokenLength" : 5,
    "type" : "java.lang.String"
  } ],
  "positionList" : [ {
    "charLength" : 21,
    "startLineNumber" : 99,
    "startColumnNumber" : 54,
    "endLineNumber" : 99,
    "endColumnNumber" : 75
  } ],
  "layoutRelationDataList" : [ ]
}
{
  "id" : 374,
  "expression" : "OtaPackageType.valueOf(otaPackageType)",
  "projectName" : "thingsboard@thingsboard",
  "commitID" : "7c2b3a9fbf84cc58aa7546029c5c7c10a662c55a",
  "filePath" : "/application/src/main/java/org/thingsboard/server/controller/DeviceController.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "OtaPackageType.valueOf(otaPackageType)",
    "nodeType" : "MethodInvocation",
    "nodePosition" : {
      "charLength" : 38,
      "startLineNumber" : 1008,
      "startColumnNumber" : 20,
      "endLineNumber" : 1008,
      "endColumnNumber" : 58
    },
    "astNodeNumber" : 4,
    "astHeight" : 2,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ReturnStatement,expression]",
      "nodePosition" : {
        "charLength" : 243,
        "startLineNumber" : 1005,
        "startColumnNumber" : 19,
        "endLineNumber" : 1008,
        "endColumnNumber" : 59
      },
      "nodeContext" : "deviceService.countDevicesByTenantIdAndDeviceProfileIdAndEmptyOtaPackage(getTenantId(),new DeviceProfileId(UUID.fromString(deviceProfileId)),OtaPackageType.valueOf(otaPackageType))",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 16,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 251,
        "startLineNumber" : 1005,
        "startColumnNumber" : 12,
        "endLineNumber" : 1008,
        "endColumnNumber" : 60
      },
      "nodeContext" : "return deviceService.countDevicesByTenantIdAndDeviceProfileIdAndEmptyOtaPackage(getTenantId(),new DeviceProfileId(UUID.fromString(deviceProfileId)),OtaPackageType.valueOf(otaPackageType));\n",
      "nodeType" : "ReturnStatement",
      "astNodeNumber" : 17,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.TryStatement,body]",
      "nodePosition" : {
        "charLength" : 275,
        "startLineNumber" : 1004,
        "startColumnNumber" : 12,
        "endLineNumber" : 1009,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  return deviceService.countDevicesByTenantIdAndDeviceProfileIdAndEmptyOtaPackage(getTenantId(),new DeviceProfileId(UUID.fromString(deviceProfileId)),OtaPackageType.valueOf(otaPackageType));\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 18,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 349,
        "startLineNumber" : 1004,
        "startColumnNumber" : 8,
        "endLineNumber" : 1011,
        "endColumnNumber" : 9
      },
      "nodeContext" : "try {\n  return deviceService.countDevicesByTenantIdAndDeviceProfileIdAndEmptyOtaPackage(getTenantId(),new DeviceProfileId(UUID.fromString(deviceProfileId)),OtaPackageType.valueOf(otaPackageType));\n}\n catch (Exception e) {\n  throw handleException(e);\n}\n",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 29,
      "astHeight" : 7
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 483,
        "startLineNumber" : 1001,
        "startColumnNumber" : 140,
        "endLineNumber" : 1012,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  checkParameter(\"OtaPackageType\",otaPackageType);\n  checkParameter(\"DeviceProfileId\",deviceProfileId);\n  try {\n    return deviceService.countDevicesByTenantIdAndDeviceProfileIdAndEmptyOtaPackage(getTenantId(),new DeviceProfileId(UUID.fromString(deviceProfileId)),OtaPackageType.valueOf(otaPackageType));\n  }\n catch (  Exception e) {\n    throw handleException(e);\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 40,
      "astHeight" : 8
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 1838,
        "startLineNumber" : 990,
        "startColumnNumber" : 4,
        "endLineNumber" : 1012,
        "endColumnNumber" : 5
      },
      "nodeContext" : "@ApiOperation(value=\"Count devices by device profile  (countByDeviceProfileAndEmptyOtaPackage)\",notes=\"The platform gives an ability to load OTA (over-the-air) packages to devices. \" + \"It can be done in two different ways: device scope or device profile scope.\" + \"In the response you will find the number of devices with specified device profile, but without previously defined device scope OTA package. \"+ \"It can be useful when you want to define number of devices that will be affected with future OTA package\"+ TENANT_OR_CUSTOMER_AUTHORITY_PARAGRAPH) @PreAuthorize(\"hasAnyAuthority('TENANT_ADMIN', 'CUSTOMER_USER')\") @RequestMapping(value=\"/devices/count/{otaPackageType}/{deviceProfileId}\",method=RequestMethod.GET) @ResponseBody public Long countByDeviceProfileAndEmptyOtaPackage(@ApiParam(value=\"OTA package type\",allowableValues=\"FIRMWARE, SOFTWARE\") @PathVariable(\"otaPackageType\") String otaPackageType,@ApiParam(value=\"Device Profile Id. I.g. '784f394c-42b6-435a-983c-b7beff2784f9'\") @PathVariable(\"deviceProfileId\") String deviceProfileId) throws ThingsboardException {\n  checkParameter(\"OtaPackageType\",otaPackageType);\n  checkParameter(\"DeviceProfileId\",deviceProfileId);\n  try {\n    return deviceService.countDevicesByTenantIdAndDeviceProfileIdAndEmptyOtaPackage(getTenantId(),new DeviceProfileId(UUID.fromString(deviceProfileId)),OtaPackageType.valueOf(otaPackageType));\n  }\n catch (  Exception e) {\n    throw handleException(e);\n  }\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 102,
      "astHeight" : 9
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ReturnStatement,expression]",
      "nodePosition" : {
        "charLength" : 243,
        "startLineNumber" : 1005,
        "startColumnNumber" : 19,
        "endLineNumber" : 1008,
        "endColumnNumber" : 59
      },
      "nodeContext" : "deviceService.countDevicesByTenantIdAndDeviceProfileIdAndEmptyOtaPackage(getTenantId(),new DeviceProfileId(UUID.fromString(deviceProfileId)),OtaPackageType.valueOf(otaPackageType))",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 16,
      "astHeight" : 4
    },
    "tokenLength" : 3,
    "type" : "org.thingsboard.server.common.data.ota.OtaPackageType"
  } ],
  "positionList" : [ {
    "charLength" : 38,
    "startLineNumber" : 1008,
    "startColumnNumber" : 20,
    "endLineNumber" : 1008,
    "endColumnNumber" : 58
  } ],
  "layoutRelationDataList" : [ ]
}
{
  "id" : 217,
  "expression" : "download.state",
  "projectName" : "google@ExoPlayer",
  "commitID" : "4803ab3bd12b71fc32150e96475c0e16aaf6ddc5",
  "filePath" : "/library/core/src/main/java/com/google/android/exoplayer2/ui/DownloadNotificationHelper.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "download.state",
    "nodeType" : "QualifiedName",
    "nodePosition" : {
      "charLength" : 14,
      "startLineNumber" : 89,
      "startColumnNumber" : 14,
      "endLineNumber" : 89,
      "endColumnNumber" : 28
    },
    "astNodeNumber" : 3,
    "astHeight" : 2,
    "parentDataList" : [ {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 921,
        "startLineNumber" : 89,
        "startColumnNumber" : 6,
        "endLineNumber" : 113,
        "endColumnNumber" : 7
      },
      "nodeContext" : "switch (download.state) {\ncase Download.STATE_REMOVING:  haveRemovingTasks=true;\nbreak;\ncase Download.STATE_QUEUED:haveQueuedTasks=true;\nbreak;\ncase Download.STATE_RESTARTING:case Download.STATE_DOWNLOADING:haveDownloadingTasks=true;\nfloat downloadPercentage=download.getPercentDownloaded();\nif (downloadPercentage != C.PERCENTAGE_UNSET) {\nallDownloadPercentagesUnknown=false;\ntotalPercentage+=downloadPercentage;\n}\nhaveDownloadedBytes|=download.getBytesDownloaded() > 0;\ndownloadTaskCount++;\nbreak;\ncase Download.STATE_STOPPED:case Download.STATE_COMPLETED:case Download.STATE_FAILED:default:break;\n}\n",
      "nodeType" : "SwitchStatement",
      "astNodeNumber" : 82,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ForStatement,body]",
      "nodePosition" : {
        "charLength" : 979,
        "startLineNumber" : 87,
        "startColumnNumber" : 47,
        "endLineNumber" : 114,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  Download download=downloads.get(i);\nswitch (download.state) {\ncase Download.STATE_REMOVING:    haveRemovingTasks=true;\n  break;\ncase Download.STATE_QUEUED:haveQueuedTasks=true;\nbreak;\ncase Download.STATE_RESTARTING:case Download.STATE_DOWNLOADING:haveDownloadingTasks=true;\nfloat downloadPercentage=download.getPercentDownloaded();\nif (downloadPercentage != C.PERCENTAGE_UNSET) {\nallDownloadPercentagesUnknown=false;\ntotalPercentage+=downloadPercentage;\n}\nhaveDownloadedBytes|=download.getBytesDownloaded() > 0;\ndownloadTaskCount++;\nbreak;\ncase Download.STATE_STOPPED:case Download.STATE_COMPLETED:case Download.STATE_FAILED:default:break;\n}\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 92,
      "astHeight" : 7
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1022,
        "startLineNumber" : 87,
        "startColumnNumber" : 4,
        "endLineNumber" : 114,
        "endColumnNumber" : 5
      },
      "nodeContext" : "for (int i=0; i < downloads.size(); i++) {\n  Download download=downloads.get(i);\nswitch (download.state) {\ncase Download.STATE_REMOVING:    haveRemovingTasks=true;\n  break;\ncase Download.STATE_QUEUED:haveQueuedTasks=true;\nbreak;\ncase Download.STATE_RESTARTING:case Download.STATE_DOWNLOADING:haveDownloadingTasks=true;\nfloat downloadPercentage=download.getPercentDownloaded();\nif (downloadPercentage != C.PERCENTAGE_UNSET) {\nallDownloadPercentagesUnknown=false;\ntotalPercentage+=downloadPercentage;\n}\nhaveDownloadedBytes|=download.getBytesDownloaded() > 0;\ndownloadTaskCount++;\nbreak;\ncase Download.STATE_STOPPED:case Download.STATE_COMPLETED:case Download.STATE_FAILED:default:break;\n}\n}\n",
      "nodeType" : "ForStatement",
      "astNodeNumber" : 105,
      "astHeight" : 8
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 2932,
        "startLineNumber" : 79,
        "startColumnNumber" : 61,
        "endLineNumber" : 162,
        "endColumnNumber" : 3
      },
      "nodeContext" : "{\n  float totalPercentage=0;\n  int downloadTaskCount=0;\n  boolean allDownloadPercentagesUnknown=true;\n  boolean haveDownloadedBytes=false;\n  boolean haveDownloadingTasks=false;\n  boolean haveQueuedTasks=false;\n  boolean haveRemovingTasks=false;\n  for (int i=0; i < downloads.size(); i++) {\n    Download download=downloads.get(i);\nswitch (download.state) {\ncase Download.STATE_REMOVING:      haveRemovingTasks=true;\n    break;\ncase Download.STATE_QUEUED:  haveQueuedTasks=true;\nbreak;\ncase Download.STATE_RESTARTING:case Download.STATE_DOWNLOADING:haveDownloadingTasks=true;\nfloat downloadPercentage=download.getPercentDownloaded();\nif (downloadPercentage != C.PERCENTAGE_UNSET) {\nallDownloadPercentagesUnknown=false;\ntotalPercentage+=downloadPercentage;\n}\nhaveDownloadedBytes|=download.getBytesDownloaded() > 0;\ndownloadTaskCount++;\nbreak;\ncase Download.STATE_STOPPED:case Download.STATE_COMPLETED:case Download.STATE_FAILED:default:break;\n}\n}\nint titleStringId;\nboolean showProgress=true;\nif (haveDownloadingTasks) {\ntitleStringId=R.string.exo_download_downloading;\n}\n else if (haveQueuedTasks && notMetRequirements != 0) {\nshowProgress=false;\nif ((notMetRequirements & Requirements.NETWORK_UNMETERED) != 0) {\ntitleStringId=R.string.exo_download_paused_for_wifi;\n}\n else if ((notMetRequirements & Requirements.NETWORK) != 0) {\ntitleStringId=R.string.exo_download_paused_for_network;\n}\n else {\ntitleStringId=R.string.exo_download_paused;\n}\n}\n else if (haveRemovingTasks) {\ntitleStringId=R.string.exo_download_removing;\n}\n else {\ntitleStringId=NULL_STRING_ID;\n}\nint maxProgress=0;\nint currentProgress=0;\nboolean indeterminateProgress=false;\nif (showProgress) {\nmaxProgress=100;\nif (haveDownloadingTasks) {\ncurrentProgress=(int)(totalPercentage / downloadTaskCount);\nindeterminateProgress=allDownloadPercentagesUnknown && haveDownloadedBytes;\n}\n else {\nindeterminateProgress=true;\n}\n}\nreturn buildNotification(context,smallIcon,contentIntent,message,titleStringId,maxProgress,currentProgress,indeterminateProgress,true,false);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 291,
      "astHeight" : 12
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 3698,
        "startLineNumber" : 62,
        "startColumnNumber" : 2,
        "endLineNumber" : 162,
        "endColumnNumber" : 3
      },
      "nodeContext" : "/** \n * Returns a progress notification for the given downloads.\n * @param context A context.\n * @param smallIcon A small icon for the notification.\n * @param contentIntent An optional content intent to send when the notification is clicked.\n * @param message An optional message to display on the notification.\n * @param downloads The downloads.\n * @param notMetRequirements Any requirements for downloads that are not currently met.\n * @return The notification.\n */\npublic Notification buildProgressNotification(Context context,@DrawableRes int smallIcon,@Nullable PendingIntent contentIntent,@Nullable String message,List<Download> downloads,@Requirements.RequirementFlags int notMetRequirements){\n  float totalPercentage=0;\n  int downloadTaskCount=0;\n  boolean allDownloadPercentagesUnknown=true;\n  boolean haveDownloadedBytes=false;\n  boolean haveDownloadingTasks=false;\n  boolean haveQueuedTasks=false;\n  boolean haveRemovingTasks=false;\n  for (int i=0; i < downloads.size(); i++) {\n    Download download=downloads.get(i);\nswitch (download.state) {\ncase Download.STATE_REMOVING:      haveRemovingTasks=true;\n    break;\ncase Download.STATE_QUEUED:  haveQueuedTasks=true;\nbreak;\ncase Download.STATE_RESTARTING:case Download.STATE_DOWNLOADING:haveDownloadingTasks=true;\nfloat downloadPercentage=download.getPercentDownloaded();\nif (downloadPercentage != C.PERCENTAGE_UNSET) {\nallDownloadPercentagesUnknown=false;\ntotalPercentage+=downloadPercentage;\n}\nhaveDownloadedBytes|=download.getBytesDownloaded() > 0;\ndownloadTaskCount++;\nbreak;\ncase Download.STATE_STOPPED:case Download.STATE_COMPLETED:case Download.STATE_FAILED:default:break;\n}\n}\nint titleStringId;\nboolean showProgress=true;\nif (haveDownloadingTasks) {\ntitleStringId=R.string.exo_download_downloading;\n}\n else if (haveQueuedTasks && notMetRequirements != 0) {\nshowProgress=false;\nif ((notMetRequirements & Requirements.NETWORK_UNMETERED) != 0) {\ntitleStringId=R.string.exo_download_paused_for_wifi;\n}\n else if ((notMetRequirements & Requirements.NETWORK) != 0) {\ntitleStringId=R.string.exo_download_paused_for_network;\n}\n else {\ntitleStringId=R.string.exo_download_paused;\n}\n}\n else if (haveRemovingTasks) {\ntitleStringId=R.string.exo_download_removing;\n}\n else {\ntitleStringId=NULL_STRING_ID;\n}\nint maxProgress=0;\nint currentProgress=0;\nboolean indeterminateProgress=false;\nif (showProgress) {\nmaxProgress=100;\nif (haveDownloadingTasks) {\ncurrentProgress=(int)(totalPercentage / downloadTaskCount);\nindeterminateProgress=allDownloadPercentagesUnknown && haveDownloadedBytes;\n}\n else {\nindeterminateProgress=true;\n}\n}\nreturn buildNotification(context,smallIcon,contentIntent,message,titleStringId,maxProgress,currentProgress,indeterminateProgress,true,false);\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 332,
      "astHeight" : 13
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 921,
        "startLineNumber" : 89,
        "startColumnNumber" : 6,
        "endLineNumber" : 113,
        "endColumnNumber" : 7
      },
      "nodeContext" : "switch (download.state) {\ncase Download.STATE_REMOVING:  haveRemovingTasks=true;\nbreak;\ncase Download.STATE_QUEUED:haveQueuedTasks=true;\nbreak;\ncase Download.STATE_RESTARTING:case Download.STATE_DOWNLOADING:haveDownloadingTasks=true;\nfloat downloadPercentage=download.getPercentDownloaded();\nif (downloadPercentage != C.PERCENTAGE_UNSET) {\nallDownloadPercentagesUnknown=false;\ntotalPercentage+=downloadPercentage;\n}\nhaveDownloadedBytes|=download.getBytesDownloaded() > 0;\ndownloadTaskCount++;\nbreak;\ncase Download.STATE_STOPPED:case Download.STATE_COMPLETED:case Download.STATE_FAILED:default:break;\n}\n",
      "nodeType" : "SwitchStatement",
      "astNodeNumber" : 82,
      "astHeight" : 6
    },
    "tokenLength" : 2,
    "type" : "int"
  } ],
  "positionList" : [ {
    "charLength" : 14,
    "startLineNumber" : 89,
    "startColumnNumber" : 14,
    "endLineNumber" : 89,
    "endColumnNumber" : 28
  } ],
  "layoutRelationDataList" : [ ]
}
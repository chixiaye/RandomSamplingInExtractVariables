{
  "id" : 436,
  "expression" : "desiredHeight",
  "projectName" : "facebook@fresco",
  "commitID" : "22468d5b520df9b51572a6388a34e7f6bd5a22c1",
  "filePath" : "/drawee/src/main/java/com/facebook/drawee/view/AspectRatioMeasure.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "desiredHeight",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 13,
      "startLineNumber" : 58,
      "startColumnNumber" : 44,
      "endLineNumber" : 58,
      "endColumnNumber" : 57
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.VariableDeclarationFragment,initializer]",
      "nodePosition" : {
        "charLength" : 44,
        "startLineNumber" : 58,
        "startColumnNumber" : 27,
        "endLineNumber" : 58,
        "endColumnNumber" : 71
      },
      "nodeContext" : "View.resolveSize(desiredHeight,spec.height)",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 7,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.VariableDeclarationStatement,fragments]",
      "nodePosition" : {
        "charLength" : 61,
        "startLineNumber" : 58,
        "startColumnNumber" : 10,
        "endLineNumber" : 58,
        "endColumnNumber" : 71
      },
      "nodeContext" : "resolvedHeight=View.resolveSize(desiredHeight,spec.height)",
      "nodeType" : "VariableDeclarationFragment",
      "astNodeNumber" : 9,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 66,
        "startLineNumber" : 58,
        "startColumnNumber" : 6,
        "endLineNumber" : 58,
        "endColumnNumber" : 72
      },
      "nodeContext" : "int resolvedHeight=View.resolveSize(desiredHeight,spec.height);\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 11,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 336,
        "startLineNumber" : 55,
        "startColumnNumber" : 43,
        "endLineNumber" : 60,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  int widthSpecSize=View.MeasureSpec.getSize(spec.width);\n  int desiredHeight=(int)((widthSpecSize - widthPadding) / aspectRatio + heightPadding);\n  int resolvedHeight=View.resolveSize(desiredHeight,spec.height);\n  spec.height=View.MeasureSpec.makeMeasureSpec(resolvedHeight,View.MeasureSpec.EXACTLY);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 55,
      "astHeight" : 10
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 752,
        "startLineNumber" : 55,
        "startColumnNumber" : 4,
        "endLineNumber" : 65,
        "endColumnNumber" : 5
      },
      "nodeContext" : "if (shouldAdjust(layoutParams.height)) {\n  int widthSpecSize=View.MeasureSpec.getSize(spec.width);\n  int desiredHeight=(int)((widthSpecSize - widthPadding) / aspectRatio + heightPadding);\n  int resolvedHeight=View.resolveSize(desiredHeight,spec.height);\n  spec.height=View.MeasureSpec.makeMeasureSpec(resolvedHeight,View.MeasureSpec.EXACTLY);\n}\n else if (shouldAdjust(layoutParams.width)) {\n  int heightSpecSize=View.MeasureSpec.getSize(spec.height);\n  int desiredWidth=(int)((heightSpecSize - heightPadding) * aspectRatio + widthPadding);\n  int resolvedWidth=View.resolveSize(desiredWidth,spec.width);\n  spec.width=View.MeasureSpec.makeMeasureSpec(resolvedWidth,View.MeasureSpec.EXACTLY);\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 122,
      "astHeight" : 12
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 834,
        "startLineNumber" : 51,
        "startColumnNumber" : 25,
        "endLineNumber" : 66,
        "endColumnNumber" : 3
      },
      "nodeContext" : "{\n  if (aspectRatio <= 0 || layoutParams == null) {\n    return;\n  }\n  if (shouldAdjust(layoutParams.height)) {\n    int widthSpecSize=View.MeasureSpec.getSize(spec.width);\n    int desiredHeight=(int)((widthSpecSize - widthPadding) / aspectRatio + heightPadding);\n    int resolvedHeight=View.resolveSize(desiredHeight,spec.height);\n    spec.height=View.MeasureSpec.makeMeasureSpec(resolvedHeight,View.MeasureSpec.EXACTLY);\n  }\n else   if (shouldAdjust(layoutParams.width)) {\n    int heightSpecSize=View.MeasureSpec.getSize(spec.height);\n    int desiredWidth=(int)((heightSpecSize - heightPadding) * aspectRatio + widthPadding);\n    int resolvedWidth=View.resolveSize(desiredWidth,spec.width);\n    spec.width=View.MeasureSpec.makeMeasureSpec(resolvedWidth,View.MeasureSpec.EXACTLY);\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 133,
      "astHeight" : 13
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 2159,
        "startLineNumber" : 23,
        "startColumnNumber" : 2,
        "endLineNumber" : 66,
        "endColumnNumber" : 3
      },
      "nodeContext" : "/** \n * Updates the given measure spec with respect to the aspect ratio. <p>Note: Measure spec is not changed if the aspect ratio is not greater than zero or if layoutParams is null. <p>Measure spec of the layout dimension (width or height) specified as \"0dp\" is updated to match the measure spec of the other dimension adjusted by the aspect ratio. Exactly one layout dimension should be specified as \"0dp\". <p>Padding is taken into account so that the aspect ratio refers to the content without padding:  {@code aspectRatio == (viewWidth - widthPadding) / (viewHeight - heightPadding)}<p>Updated measure spec respects the parent's constraints. I.e. measure spec is not changed if the parent has specified mode  {@code EXACTLY}, and it doesn't exceed measure size if parent has specified mode  {@code AT_MOST}.\n * @param spec in/out measure spec to be updated\n * @param aspectRatio desired aspect ratio\n * @param layoutParams view's layout params\n * @param widthPadding view's left + right padding\n * @param heightPadding view's top + bottom padding\n */\npublic static void updateMeasureSpec(Spec spec,float aspectRatio,@Nullable ViewGroup.LayoutParams layoutParams,int widthPadding,int heightPadding){\n  if (aspectRatio <= 0 || layoutParams == null) {\n    return;\n  }\n  if (shouldAdjust(layoutParams.height)) {\n    int widthSpecSize=View.MeasureSpec.getSize(spec.width);\n    int desiredHeight=(int)((widthSpecSize - widthPadding) / aspectRatio + heightPadding);\n    int resolvedHeight=View.resolveSize(desiredHeight,spec.height);\n    spec.height=View.MeasureSpec.makeMeasureSpec(resolvedHeight,View.MeasureSpec.EXACTLY);\n  }\n else   if (shouldAdjust(layoutParams.width)) {\n    int heightSpecSize=View.MeasureSpec.getSize(spec.height);\n    int desiredWidth=(int)((heightSpecSize - heightPadding) * aspectRatio + widthPadding);\n    int resolvedWidth=View.resolveSize(desiredWidth,spec.width);\n    spec.width=View.MeasureSpec.makeMeasureSpec(resolvedWidth,View.MeasureSpec.EXACTLY);\n  }\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 160,
      "astHeight" : 14
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 66,
        "startLineNumber" : 58,
        "startColumnNumber" : 6,
        "endLineNumber" : 58,
        "endColumnNumber" : 72
      },
      "nodeContext" : "int resolvedHeight=View.resolveSize(desiredHeight,spec.height);\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 11,
      "astHeight" : 5
    },
    "tokenLength" : 1,
    "type" : "int"
  } ],
  "positionList" : [ {
    "charLength" : 13,
    "startLineNumber" : 58,
    "startColumnNumber" : 44,
    "endLineNumber" : 58,
    "endColumnNumber" : 57
  } ],
  "layoutRelationDataList" : [ ]
}
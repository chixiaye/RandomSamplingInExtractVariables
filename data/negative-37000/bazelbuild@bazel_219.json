{
  "id" : 219,
  "expression" : "\"          '-Wl,-rpath,$EXEC_ORIGIN/%{runtime_library_search_directories}'\"",
  "projectName" : "bazelbuild@bazel",
  "commitID" : "302971e1b3d803069ac949c0085c0d2a3916c8ab",
  "filePath" : "/src/main/java/com/google/devtools/build/lib/rules/cpp/CppActionConfigs.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "\"          '-Wl,-rpath,$EXEC_ORIGIN/%{runtime_library_search_directories}'\"",
    "nodeType" : "StringLiteral",
    "nodePosition" : {
      "charLength" : 75,
      "startLineNumber" : 549,
      "startColumnNumber" : 24,
      "endLineNumber" : 549,
      "endColumnNumber" : 99
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 3228,
        "startLineNumber" : 531,
        "startColumnNumber" : 16,
        "endLineNumber" : 586,
        "endColumnNumber" : 28
      },
      "nodeContext" : "Joiner.on(\"\\n\").join(\"  name: 'runtime_library_search_directories',\",\"  flag_set {\",\"    with_feature { feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",\"        expand_if_true: 'is_cc_test'\",\"        flag: \",\"          '-Wl,-rpath,$EXEC_ORIGIN/%{runtime_library_search_directories}'\",\"      }\",\"      flag_group {\",\"        expand_if_false: 'is_cc_test'\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"      }\",\"    }\",\"  }\",\"  flag_set {\",\"    with_feature { not_feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"    }\",\"  }\",\"}\")",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 67,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 3257,
        "startLineNumber" : 530,
        "startColumnNumber" : 12,
        "endLineNumber" : 586,
        "endColumnNumber" : 29
      },
      "nodeContext" : "getFeature(Joiner.on(\"\\n\").join(\"  name: 'runtime_library_search_directories',\",\"  flag_set {\",\"    with_feature { feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",\"        expand_if_true: 'is_cc_test'\",\"        flag: \",\"          '-Wl,-rpath,$EXEC_ORIGIN/%{runtime_library_search_directories}'\",\"      }\",\"      flag_group {\",\"        expand_if_false: 'is_cc_test'\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"      }\",\"    }\",\"  }\",\"  flag_set {\",\"    with_feature { not_feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"    }\",\"  }\",\"}\"))",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 69,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 3290,
        "startLineNumber" : 529,
        "startColumnNumber" : 8,
        "endLineNumber" : 586,
        "endColumnNumber" : 30
      },
      "nodeContext" : "featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'runtime_library_search_directories',\",\"  flag_set {\",\"    with_feature { feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",\"        expand_if_true: 'is_cc_test'\",\"        flag: \",\"          '-Wl,-rpath,$EXEC_ORIGIN/%{runtime_library_search_directories}'\",\"      }\",\"      flag_group {\",\"        expand_if_false: 'is_cc_test'\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"      }\",\"    }\",\"  }\",\"  flag_set {\",\"    with_feature { not_feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"    }\",\"  }\",\"}\")))",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 72,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 3291,
        "startLineNumber" : 529,
        "startColumnNumber" : 8,
        "endLineNumber" : 586,
        "endColumnNumber" : 31
      },
      "nodeContext" : "featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'runtime_library_search_directories',\",\"  flag_set {\",\"    with_feature { feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",\"        expand_if_true: 'is_cc_test'\",\"        flag: \",\"          '-Wl,-rpath,$EXEC_ORIGIN/%{runtime_library_search_directories}'\",\"      }\",\"      flag_group {\",\"        expand_if_false: 'is_cc_test'\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"      }\",\"    }\",\"  }\",\"  flag_set {\",\"    with_feature { not_feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"    }\",\"  }\",\"}\")));\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 73,
      "astHeight" : 7
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 3309,
        "startLineNumber" : 528,
        "startColumnNumber" : 80,
        "endLineNumber" : 587,
        "endColumnNumber" : 7
      },
      "nodeContext" : "{\n  featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'runtime_library_search_directories',\",\"  flag_set {\",\"    with_feature { feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",\"        expand_if_true: 'is_cc_test'\",\"        flag: \",\"          '-Wl,-rpath,$EXEC_ORIGIN/%{runtime_library_search_directories}'\",\"      }\",\"      flag_group {\",\"        expand_if_false: 'is_cc_test'\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"      }\",\"    }\",\"  }\",\"  flag_set {\",\"    with_feature { not_feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"    }\",\"  }\",\"}\")));\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 74,
      "astHeight" : 8
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 3383,
        "startLineNumber" : 528,
        "startColumnNumber" : 6,
        "endLineNumber" : 587,
        "endColumnNumber" : 7
      },
      "nodeContext" : "if (!existingFeatureNames.contains(\"runtime_library_search_directories\")) {\n  featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'runtime_library_search_directories',\",\"  flag_set {\",\"    with_feature { feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",\"        expand_if_true: 'is_cc_test'\",\"        flag: \",\"          '-Wl,-rpath,$EXEC_ORIGIN/%{runtime_library_search_directories}'\",\"      }\",\"      flag_group {\",\"        expand_if_false: 'is_cc_test'\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"      }\",\"    }\",\"  }\",\"  flag_set {\",\"    with_feature { not_feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"    }\",\"  }\",\"}\")));\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 80,
      "astHeight" : 9
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.TryStatement,body]",
      "nodePosition" : {
        "charLength" : 48220,
        "startLineNumber" : 50,
        "startColumnNumber" : 8,
        "endLineNumber" : 1005,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  if (!existingFeatureNames.contains(CppRuleClasses.STATIC_LINK_CPP_RUNTIMES) && supportsEmbeddedRuntimes) {\n    featureBuilder.add(getFeature(\"name: 'static_link_cpp_runtimes' enabled: true\"));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.SUPPORTS_INTERFACE_SHARED_LIBRARIES) && supportsInterfaceSharedLibraries) {\n    featureBuilder.add(getFeature(\"name: 'supports_interface_shared_libraries' enabled: true\"));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.LEGACY_COMPILE_FLAGS)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'legacy_compile_flags'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'assemble'\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'c++-module-compile'\",\"    action: 'c++-module-codegen'\",\"    action: 'lto-backend'\",\"    action: 'clif-match'\",\"    flag_group {\",\"      expand_if_all_available: 'legacy_compile_flags'\",\"      iterate_over: 'legacy_compile_flags'\",\"      flag: '%{legacy_compile_flags}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.DEPENDENCY_FILE)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'dependency_file'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'assemble'\",\"    action: 'preprocess-assemble'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-compile'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'clif-match'\",\"    flag_group {\",\"      expand_if_all_available: 'dependency_file'\",\"      flag: '-MD'\",\"      flag: '-MF'\",\"      flag: '%{dependency_file}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.RANDOM_SEED)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'random_seed'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-codegen'\",\"    action: 'c++-module-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'output_file'\",\"      flag: '-frandom-seed=%{output_file}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.PIC)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'pic'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'assemble'\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-codegen'\",\"    action: 'c++-module-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'pic'\",\"      flag: '-fPIC'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.PER_OBJECT_DEBUG_INFO)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'per_object_debug_info'\",\"  flag_set {\",\"    action: 'assemble'\",\"    action: 'preprocess-assemble'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-codegen'\",\"    flag_group {\",\"      expand_if_all_available: 'per_object_debug_info_file'\",\"      flag: '-gsplit-dwarf'\",\"      flag: '-g'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.PREPROCESSOR_DEFINES)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'preprocessor_defines'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'c++-module-compile'\",\"    action: 'clif-match'\",\"    flag_group {\",\"      iterate_over: 'preprocessor_defines'\",\"      flag: '-D%{preprocessor_defines}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"includes\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'includes'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'c++-module-compile'\",\"    action: 'clif-match'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'includes'\",\"      iterate_over: 'includes'\",\"      flag: '-include'\",\"      flag: '%{includes}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.INCLUDE_PATHS)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'include_paths'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'c++-module-compile'\",\"    action: 'clif-match'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    flag_group {\",\"      iterate_over: 'quote_include_paths'\",\"      flag: '-iquote'\",\"      flag: '%{quote_include_paths}'\",\"    }\",\"    flag_group {\",\"      iterate_over: 'include_paths'\",\"      flag: '-I%{include_paths}'\",\"    }\",\"    flag_group {\",\"      iterate_over: 'system_include_paths'\",\"      flag: '-isystem'\",\"      flag: '%{system_include_paths}'\",\"    }\",\"    flag_group {\",\"      iterate_over: 'framework_include_paths'\",\"      flag: '-F%{framework_include_paths}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.FDO_INSTRUMENT)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'fdo_instrument'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_instrument_path'\",\"      flag: '-fprofile-generate=%{fdo_instrument_path}'\",\"      flag: '-fno-data-sections'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.FDO_OPTIMIZE)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'fdo_optimize'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_profile_path'\",\"      flag: '-fprofile-use=%{fdo_profile_path}'\",\"      flag: '-Wno-profile-instr-unprofiled'\",\"      flag: '-Wno-profile-instr-out-of-date'\",\"      flag: '-fprofile-correction'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.CS_FDO_INSTRUMENT)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'cs_fdo_instrument'\",\"  provides: 'csprofile'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'lto-backend'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'cs_fdo_instrument_path'\",\"      flag: '-fcs-profile-generate=%{cs_fdo_instrument_path}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.CS_FDO_OPTIMIZE)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'cs_fdo_optimize'\",\"  provides: 'csprofile'\",\"  flag_set {\",\"    action: 'lto-backend'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_profile_path'\",\"      flag: '-fprofile-use=%{fdo_profile_path}'\",\"      flag: '-Wno-profile-instr-unprofiled'\",\"      flag: '-Wno-profile-instr-out-of-date'\",\"      flag: '-fprofile-correction'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.FDO_PREFETCH_HINTS)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'fdo_prefetch_hints'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'lto-backend'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_prefetch_hints_path'\",\"      flag: '-mllvm'\",\"      flag: '-prefetch-hints-file=\" + \"%{fdo_prefetch_hints_path}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.AUTOFDO)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'autofdo'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_profile_path'\",\"      flag: '-fauto-profile=%{fdo_profile_path}'\",\"      flag: '-fprofile-correction'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.PROPELLER_OPTIMIZE)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'propeller_optimize'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'lto-backend'\",\"    flag_group {\",\"      expand_if_all_available: 'propeller_optimize_cc_path'\",\"      flag: '-fbasic-block-sections=list=%{propeller_optimize_cc_path}'\",\"      flag: '-DBUILD_PROPELLER_TYPE=\\\"full\\\"'\",\"    }\",\"  }\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    flag_group {\",\"      expand_if_true: 'propeller_optimize_ld_path'\",\"      flag: '-Wl,--symbol-ordering-file=%{propeller_optimize_ld_path}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.BUILD_INTERFACE_LIBRARIES)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'build_interface_libraries'\",\"  flag_set {\",\"    with_feature { feature: 'supports_interface_shared_libraries' }\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    flag_group {\",\"      expand_if_all_available: 'generate_interface_library'\",\"      flag: '%{generate_interface_library}'\",\"      flag: '%{interface_library_builder_path}'\",\"      flag: '%{interface_library_input_path}'\",\"      flag: '%{interface_library_output_path}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"dynamic_library_linker_tool\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'dynamic_library_linker_tool'\",\"  flag_set {\",\"    with_feature { feature: 'supports_interface_shared_libraries' }\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    flag_group {\",\"      expand_if_all_available: 'generate_interface_library'\",\"      flag: '\" + cppLinkDynamicLibraryToolPath + \"'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"symbol_counts\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'symbol_counts'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'symbol_counts_output'\",\"      flag: '-Wl,--print-symbol-counts=%{symbol_counts_output}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"shared_flag\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'shared_flag'\",\"  flag_set {\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    flag_group {\",\"      flag: '-shared'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"linkstamps\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'linkstamps'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'linkstamp_paths'\",\"      iterate_over: 'linkstamp_paths'\",\"      flag: '%{linkstamp_paths}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"output_execpath_flags\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'output_execpath_flags'\",\"  flag_set {\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'output_execpath'\",\"      flag: '-o'\",\"      flag: '%{output_execpath}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"runtime_library_search_directories\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'runtime_library_search_directories',\",\"  flag_set {\",\"    with_feature { feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",\"        expand_if_true: 'is_cc_test'\",\"        flag: \",\"          '-Wl,-rpath,$EXEC_ORIGIN/%{runtime_library_search_directories}'\",\"      }\",\"      flag_group {\",\"        expand_if_false: 'is_cc_test'\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"      }\",\"    }\",\"  }\",\"  flag_set {\",\"    with_feature { not_feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"    }\",\"  }\",\"}\")));\n  }\n  if (!existingFeatureNames.contains(\"library_search_directories\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'library_search_directories'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'library_search_directories'\",\"      iterate_over: 'library_search_directories'\",\"      flag: '-L%{library_search_directories}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"archiver_flags\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'archiver_flags'\",\"  flag_set {\",\"    action: 'c++-link-static-library'\",\"    flag_group {\",ifLinux(platform,\"flag: 'rcsD'\"),ifMac(platform,\"flag: '-static'\",\"flag: '-s'\"),\"    }\",\"    flag_group {\",\"      expand_if_all_available: 'output_execpath'\",ifLinux(platform,\"flag: '%{output_execpath}'\"),ifMac(platform,\"flag: '-o'\",\"flag: '%{output_execpath}'\"),\"    }\",\"  }\",\"  flag_set { \",\"    action: 'c++-link-static-library'\",\"    flag_group {\",\"      expand_if_all_available: 'libraries_to_link'\",\"      iterate_over: 'libraries_to_link'\",\"      flag_group {\",\"        expand_if_equal {\",\"          variable: 'libraries_to_link.type'\",\"          value: 'object_file'\",\"        }\",\"        flag: '%{libraries_to_link.name}'\",\"      }\",\"      flag_group {\",\"        expand_if_equal {\",\"          variable: 'libraries_to_link.type'\",\"          value: 'object_file_group'\",\"        }\",\"        iterate_over: 'libraries_to_link.object_files'\",\"        flag: '%{libraries_to_link.object_files}'\",\"      }\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"libraries_to_link\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'libraries_to_link'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_true: 'thinlto_param_file'\",\"      flag: '-Wl,@%{thinlto_param_file}'\",\"    }\",\"    flag_group {\",\"      expand_if_all_available: 'libraries_to_link'\",\"      iterate_over: 'libraries_to_link'\",\"      flag_group {\",\"        expand_if_equal: {\",\"          variable: 'libraries_to_link.type'\",\"          value: 'object_file_group'\",\"        }\",\"        expand_if_false: 'libraries_to_link.is_whole_archive'\",\"        flag: '-Wl,--start-lib'\",\"      }\",ifLinux(platform,\"  flag_group {\",\"    expand_if_true: 'libraries_to_link.is_whole_archive'\",\"    expand_if_equal: {\",\"        variable: 'libraries_to_link.type'\",\"        value: 'static_library'\",\"    }\",\"    flag: '-Wl,-whole-archive'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"        variable: 'libraries_to_link.type'\",\"        value: 'object_file_group'\",\"    }\",\"    iterate_over: 'libraries_to_link.object_files'\",\"    flag: '%{libraries_to_link.object_files}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'object_file'\",\"    }\",\"    flag: '%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'interface_library'\",\"    }\",\"    flag: '%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'static_library'\",\"    }\",\"    flag: '%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'dynamic_library'\",\"    }\",\"    flag: '-l%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'versioned_dynamic_library'\",\"    }\",\"    flag: '-l:%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_true: 'libraries_to_link.is_whole_archive'\",\"    expand_if_equal: {\",\"        variable: 'libraries_to_link.type'\",\"        value: 'static_library'\",\"    }\",\"    flag: '-Wl,-no-whole-archive'\",\"  }\"),ifMac(platform,\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'object_file_group'\",\"    }\",\"    iterate_over: 'libraries_to_link.object_files'\",\"    flag_group {\",\"      expand_if_false: 'libraries_to_link.is_whole_archive'\",\"      flag: '%{libraries_to_link.object_files}'\",\"    }\",\"    flag_group {\",\"      expand_if_true: 'libraries_to_link.is_whole_archive'\",\"      flag: '-Wl,-force_load,%{libraries_to_link.object_files}'\",\"    }\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'object_file'\",\"    }\",\"    flag_group {\",\"      expand_if_false: 'libraries_to_link.is_whole_archive'\",\"      flag: '%{libraries_to_link.name}'\",\"    }\",\"    flag_group {\",\"      expand_if_true: 'libraries_to_link.is_whole_archive'\",\"      flag: '-Wl,-force_load,%{libraries_to_link.name}'\",\"    }\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'interface_library'\",\"    }\",\"    flag_group {\",\"      expand_if_false: 'libraries_to_link.is_whole_archive'\",\"      flag: '%{libraries_to_link.name}'\",\"    }\",\"    flag_group {\",\"      expand_if_true: 'libraries_to_link.is_whole_archive'\",\"      flag: '-Wl,-force_load,%{libraries_to_link.name}'\",\"    }\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'static_library'\",\"    }\",\"    flag_group {\",\"      expand_if_false: 'libraries_to_link.is_whole_archive'\",\"      flag: '%{libraries_to_link.name}'\",\"    }\",\"    flag_group {\",\"      expand_if_true: 'libraries_to_link.is_whole_archive'\",\"      flag: '-Wl,-force_load,%{libraries_to_link.name}'\",\"    }\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'dynamic_library'\",\"    }\",\"    flag: '-l%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'versioned_dynamic_library'\",\"    }\",\"    flag: '-l:%{libraries_to_link.name}'\",\"  }\"),\"      flag_group {\",\"        expand_if_equal: {\",\"          variable: 'libraries_to_link.type'\",\"          value: 'object_file_group'\",\"        }\",\"        expand_if_false: 'libraries_to_link.is_whole_archive'\",\"        flag: '-Wl,--end-lib'\",\"      }\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"force_pic_flags\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'force_pic_flags'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'force_pic'\",ifLinux(platform,\"flag: '-pie'\"),ifMac(platform,\"flag: '-Wl,-pie'\"),\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"user_link_flags\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'user_link_flags'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'user_link_flags'\",\"      iterate_over: 'user_link_flags'\",\"      flag: '%{user_link_flags}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"legacy_link_flags\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'legacy_link_flags'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'legacy_link_flags'\",\"      iterate_over: 'legacy_link_flags'\",\"      flag: '%{legacy_link_flags}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"static_libgcc\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'static_libgcc'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    with_feature { feature: 'static_link_cpp_runtimes' }\",\"    flag_group {\",\"      flag: '-static-libgcc'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"fission_support\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'fission_support'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'is_using_fission'\",\"      flag: '-Wl,--gdb-index'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"strip_debug_symbols\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'strip_debug_symbols'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'strip_debug_symbols'\",\"      flag: '-Wl,-S'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.COVERAGE)) {\n    featureBuilder.add(getFeature(\"  name: 'coverage'\"),getFeature(Joiner.on(\"\\n\").join(\"  name: 'llvm_coverage_map_format'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-compile'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    flag_group {\",\"      flag: '-fprofile-instr-generate'\",\"      flag: '-fcoverage-mapping'\",\"    }\",\"  }\",\"  flag_set {\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    action: 'objc-executable'\",\"    action: 'objc++-executable'\",\"    flag_group {\",\"      flag: '-fprofile-instr-generate'\",\"    }\",\"  }\",\"  requires {\",\"    feature: 'coverage'\",\"  }\")),getFeature(Joiner.on(\"\\n\").join(\"  name: 'gcc_coverage_map_format'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-compile'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    action: 'objc-executable'\",\"    action: 'objc++-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'gcov_gcno_file'\",\"      flag: '-fprofile-arcs'\",\"      flag: '-ftest-coverage'\",\"    }\",\"  }\",\"  flag_set {\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      flag: '--coverage'\",\"    }\",\"  }\",\"  requires {\",\"    feature: 'coverage'\",\"  }\")));\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 1449,
      "astHeight" : 10
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 48409,
        "startLineNumber" : 50,
        "startColumnNumber" : 4,
        "endLineNumber" : 1009,
        "endColumnNumber" : 5
      },
      "nodeContext" : "try {\n  if (!existingFeatureNames.contains(CppRuleClasses.STATIC_LINK_CPP_RUNTIMES) && supportsEmbeddedRuntimes) {\n    featureBuilder.add(getFeature(\"name: 'static_link_cpp_runtimes' enabled: true\"));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.SUPPORTS_INTERFACE_SHARED_LIBRARIES) && supportsInterfaceSharedLibraries) {\n    featureBuilder.add(getFeature(\"name: 'supports_interface_shared_libraries' enabled: true\"));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.LEGACY_COMPILE_FLAGS)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'legacy_compile_flags'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'assemble'\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'c++-module-compile'\",\"    action: 'c++-module-codegen'\",\"    action: 'lto-backend'\",\"    action: 'clif-match'\",\"    flag_group {\",\"      expand_if_all_available: 'legacy_compile_flags'\",\"      iterate_over: 'legacy_compile_flags'\",\"      flag: '%{legacy_compile_flags}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.DEPENDENCY_FILE)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'dependency_file'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'assemble'\",\"    action: 'preprocess-assemble'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-compile'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'clif-match'\",\"    flag_group {\",\"      expand_if_all_available: 'dependency_file'\",\"      flag: '-MD'\",\"      flag: '-MF'\",\"      flag: '%{dependency_file}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.RANDOM_SEED)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'random_seed'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-codegen'\",\"    action: 'c++-module-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'output_file'\",\"      flag: '-frandom-seed=%{output_file}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.PIC)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'pic'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'assemble'\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-codegen'\",\"    action: 'c++-module-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'pic'\",\"      flag: '-fPIC'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.PER_OBJECT_DEBUG_INFO)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'per_object_debug_info'\",\"  flag_set {\",\"    action: 'assemble'\",\"    action: 'preprocess-assemble'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-codegen'\",\"    flag_group {\",\"      expand_if_all_available: 'per_object_debug_info_file'\",\"      flag: '-gsplit-dwarf'\",\"      flag: '-g'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.PREPROCESSOR_DEFINES)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'preprocessor_defines'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'c++-module-compile'\",\"    action: 'clif-match'\",\"    flag_group {\",\"      iterate_over: 'preprocessor_defines'\",\"      flag: '-D%{preprocessor_defines}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"includes\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'includes'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'c++-module-compile'\",\"    action: 'clif-match'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'includes'\",\"      iterate_over: 'includes'\",\"      flag: '-include'\",\"      flag: '%{includes}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.INCLUDE_PATHS)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'include_paths'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'c++-module-compile'\",\"    action: 'clif-match'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    flag_group {\",\"      iterate_over: 'quote_include_paths'\",\"      flag: '-iquote'\",\"      flag: '%{quote_include_paths}'\",\"    }\",\"    flag_group {\",\"      iterate_over: 'include_paths'\",\"      flag: '-I%{include_paths}'\",\"    }\",\"    flag_group {\",\"      iterate_over: 'system_include_paths'\",\"      flag: '-isystem'\",\"      flag: '%{system_include_paths}'\",\"    }\",\"    flag_group {\",\"      iterate_over: 'framework_include_paths'\",\"      flag: '-F%{framework_include_paths}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.FDO_INSTRUMENT)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'fdo_instrument'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_instrument_path'\",\"      flag: '-fprofile-generate=%{fdo_instrument_path}'\",\"      flag: '-fno-data-sections'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.FDO_OPTIMIZE)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'fdo_optimize'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_profile_path'\",\"      flag: '-fprofile-use=%{fdo_profile_path}'\",\"      flag: '-Wno-profile-instr-unprofiled'\",\"      flag: '-Wno-profile-instr-out-of-date'\",\"      flag: '-fprofile-correction'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.CS_FDO_INSTRUMENT)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'cs_fdo_instrument'\",\"  provides: 'csprofile'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'lto-backend'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'cs_fdo_instrument_path'\",\"      flag: '-fcs-profile-generate=%{cs_fdo_instrument_path}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.CS_FDO_OPTIMIZE)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'cs_fdo_optimize'\",\"  provides: 'csprofile'\",\"  flag_set {\",\"    action: 'lto-backend'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_profile_path'\",\"      flag: '-fprofile-use=%{fdo_profile_path}'\",\"      flag: '-Wno-profile-instr-unprofiled'\",\"      flag: '-Wno-profile-instr-out-of-date'\",\"      flag: '-fprofile-correction'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.FDO_PREFETCH_HINTS)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'fdo_prefetch_hints'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'lto-backend'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_prefetch_hints_path'\",\"      flag: '-mllvm'\",\"      flag: '-prefetch-hints-file=\" + \"%{fdo_prefetch_hints_path}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.AUTOFDO)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'autofdo'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_profile_path'\",\"      flag: '-fauto-profile=%{fdo_profile_path}'\",\"      flag: '-fprofile-correction'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.PROPELLER_OPTIMIZE)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'propeller_optimize'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'lto-backend'\",\"    flag_group {\",\"      expand_if_all_available: 'propeller_optimize_cc_path'\",\"      flag: '-fbasic-block-sections=list=%{propeller_optimize_cc_path}'\",\"      flag: '-DBUILD_PROPELLER_TYPE=\\\"full\\\"'\",\"    }\",\"  }\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    flag_group {\",\"      expand_if_true: 'propeller_optimize_ld_path'\",\"      flag: '-Wl,--symbol-ordering-file=%{propeller_optimize_ld_path}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.BUILD_INTERFACE_LIBRARIES)) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'build_interface_libraries'\",\"  flag_set {\",\"    with_feature { feature: 'supports_interface_shared_libraries' }\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    flag_group {\",\"      expand_if_all_available: 'generate_interface_library'\",\"      flag: '%{generate_interface_library}'\",\"      flag: '%{interface_library_builder_path}'\",\"      flag: '%{interface_library_input_path}'\",\"      flag: '%{interface_library_output_path}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"dynamic_library_linker_tool\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'dynamic_library_linker_tool'\",\"  flag_set {\",\"    with_feature { feature: 'supports_interface_shared_libraries' }\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    flag_group {\",\"      expand_if_all_available: 'generate_interface_library'\",\"      flag: '\" + cppLinkDynamicLibraryToolPath + \"'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"symbol_counts\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'symbol_counts'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'symbol_counts_output'\",\"      flag: '-Wl,--print-symbol-counts=%{symbol_counts_output}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"shared_flag\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'shared_flag'\",\"  flag_set {\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    flag_group {\",\"      flag: '-shared'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"linkstamps\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'linkstamps'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'linkstamp_paths'\",\"      iterate_over: 'linkstamp_paths'\",\"      flag: '%{linkstamp_paths}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"output_execpath_flags\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'output_execpath_flags'\",\"  flag_set {\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'output_execpath'\",\"      flag: '-o'\",\"      flag: '%{output_execpath}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"runtime_library_search_directories\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'runtime_library_search_directories',\",\"  flag_set {\",\"    with_feature { feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",\"        expand_if_true: 'is_cc_test'\",\"        flag: \",\"          '-Wl,-rpath,$EXEC_ORIGIN/%{runtime_library_search_directories}'\",\"      }\",\"      flag_group {\",\"        expand_if_false: 'is_cc_test'\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"      }\",\"    }\",\"  }\",\"  flag_set {\",\"    with_feature { not_feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"    }\",\"  }\",\"}\")));\n  }\n  if (!existingFeatureNames.contains(\"library_search_directories\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'library_search_directories'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'library_search_directories'\",\"      iterate_over: 'library_search_directories'\",\"      flag: '-L%{library_search_directories}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"archiver_flags\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'archiver_flags'\",\"  flag_set {\",\"    action: 'c++-link-static-library'\",\"    flag_group {\",ifLinux(platform,\"flag: 'rcsD'\"),ifMac(platform,\"flag: '-static'\",\"flag: '-s'\"),\"    }\",\"    flag_group {\",\"      expand_if_all_available: 'output_execpath'\",ifLinux(platform,\"flag: '%{output_execpath}'\"),ifMac(platform,\"flag: '-o'\",\"flag: '%{output_execpath}'\"),\"    }\",\"  }\",\"  flag_set { \",\"    action: 'c++-link-static-library'\",\"    flag_group {\",\"      expand_if_all_available: 'libraries_to_link'\",\"      iterate_over: 'libraries_to_link'\",\"      flag_group {\",\"        expand_if_equal {\",\"          variable: 'libraries_to_link.type'\",\"          value: 'object_file'\",\"        }\",\"        flag: '%{libraries_to_link.name}'\",\"      }\",\"      flag_group {\",\"        expand_if_equal {\",\"          variable: 'libraries_to_link.type'\",\"          value: 'object_file_group'\",\"        }\",\"        iterate_over: 'libraries_to_link.object_files'\",\"        flag: '%{libraries_to_link.object_files}'\",\"      }\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"libraries_to_link\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'libraries_to_link'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_true: 'thinlto_param_file'\",\"      flag: '-Wl,@%{thinlto_param_file}'\",\"    }\",\"    flag_group {\",\"      expand_if_all_available: 'libraries_to_link'\",\"      iterate_over: 'libraries_to_link'\",\"      flag_group {\",\"        expand_if_equal: {\",\"          variable: 'libraries_to_link.type'\",\"          value: 'object_file_group'\",\"        }\",\"        expand_if_false: 'libraries_to_link.is_whole_archive'\",\"        flag: '-Wl,--start-lib'\",\"      }\",ifLinux(platform,\"  flag_group {\",\"    expand_if_true: 'libraries_to_link.is_whole_archive'\",\"    expand_if_equal: {\",\"        variable: 'libraries_to_link.type'\",\"        value: 'static_library'\",\"    }\",\"    flag: '-Wl,-whole-archive'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"        variable: 'libraries_to_link.type'\",\"        value: 'object_file_group'\",\"    }\",\"    iterate_over: 'libraries_to_link.object_files'\",\"    flag: '%{libraries_to_link.object_files}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'object_file'\",\"    }\",\"    flag: '%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'interface_library'\",\"    }\",\"    flag: '%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'static_library'\",\"    }\",\"    flag: '%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'dynamic_library'\",\"    }\",\"    flag: '-l%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'versioned_dynamic_library'\",\"    }\",\"    flag: '-l:%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_true: 'libraries_to_link.is_whole_archive'\",\"    expand_if_equal: {\",\"        variable: 'libraries_to_link.type'\",\"        value: 'static_library'\",\"    }\",\"    flag: '-Wl,-no-whole-archive'\",\"  }\"),ifMac(platform,\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'object_file_group'\",\"    }\",\"    iterate_over: 'libraries_to_link.object_files'\",\"    flag_group {\",\"      expand_if_false: 'libraries_to_link.is_whole_archive'\",\"      flag: '%{libraries_to_link.object_files}'\",\"    }\",\"    flag_group {\",\"      expand_if_true: 'libraries_to_link.is_whole_archive'\",\"      flag: '-Wl,-force_load,%{libraries_to_link.object_files}'\",\"    }\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'object_file'\",\"    }\",\"    flag_group {\",\"      expand_if_false: 'libraries_to_link.is_whole_archive'\",\"      flag: '%{libraries_to_link.name}'\",\"    }\",\"    flag_group {\",\"      expand_if_true: 'libraries_to_link.is_whole_archive'\",\"      flag: '-Wl,-force_load,%{libraries_to_link.name}'\",\"    }\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'interface_library'\",\"    }\",\"    flag_group {\",\"      expand_if_false: 'libraries_to_link.is_whole_archive'\",\"      flag: '%{libraries_to_link.name}'\",\"    }\",\"    flag_group {\",\"      expand_if_true: 'libraries_to_link.is_whole_archive'\",\"      flag: '-Wl,-force_load,%{libraries_to_link.name}'\",\"    }\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'static_library'\",\"    }\",\"    flag_group {\",\"      expand_if_false: 'libraries_to_link.is_whole_archive'\",\"      flag: '%{libraries_to_link.name}'\",\"    }\",\"    flag_group {\",\"      expand_if_true: 'libraries_to_link.is_whole_archive'\",\"      flag: '-Wl,-force_load,%{libraries_to_link.name}'\",\"    }\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'dynamic_library'\",\"    }\",\"    flag: '-l%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'versioned_dynamic_library'\",\"    }\",\"    flag: '-l:%{libraries_to_link.name}'\",\"  }\"),\"      flag_group {\",\"        expand_if_equal: {\",\"          variable: 'libraries_to_link.type'\",\"          value: 'object_file_group'\",\"        }\",\"        expand_if_false: 'libraries_to_link.is_whole_archive'\",\"        flag: '-Wl,--end-lib'\",\"      }\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"force_pic_flags\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'force_pic_flags'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'force_pic'\",ifLinux(platform,\"flag: '-pie'\"),ifMac(platform,\"flag: '-Wl,-pie'\"),\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"user_link_flags\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'user_link_flags'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'user_link_flags'\",\"      iterate_over: 'user_link_flags'\",\"      flag: '%{user_link_flags}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"legacy_link_flags\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'legacy_link_flags'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'legacy_link_flags'\",\"      iterate_over: 'legacy_link_flags'\",\"      flag: '%{legacy_link_flags}'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"static_libgcc\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'static_libgcc'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    with_feature { feature: 'static_link_cpp_runtimes' }\",\"    flag_group {\",\"      flag: '-static-libgcc'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"fission_support\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'fission_support'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'is_using_fission'\",\"      flag: '-Wl,--gdb-index'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(\"strip_debug_symbols\")) {\n    featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'strip_debug_symbols'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'strip_debug_symbols'\",\"      flag: '-Wl,-S'\",\"    }\",\"  }\")));\n  }\n  if (!existingFeatureNames.contains(CppRuleClasses.COVERAGE)) {\n    featureBuilder.add(getFeature(\"  name: 'coverage'\"),getFeature(Joiner.on(\"\\n\").join(\"  name: 'llvm_coverage_map_format'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-compile'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    flag_group {\",\"      flag: '-fprofile-instr-generate'\",\"      flag: '-fcoverage-mapping'\",\"    }\",\"  }\",\"  flag_set {\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    action: 'objc-executable'\",\"    action: 'objc++-executable'\",\"    flag_group {\",\"      flag: '-fprofile-instr-generate'\",\"    }\",\"  }\",\"  requires {\",\"    feature: 'coverage'\",\"  }\")),getFeature(Joiner.on(\"\\n\").join(\"  name: 'gcc_coverage_map_format'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-compile'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    action: 'objc-executable'\",\"    action: 'objc++-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'gcov_gcno_file'\",\"      flag: '-fprofile-arcs'\",\"      flag: '-ftest-coverage'\",\"    }\",\"  }\",\"  flag_set {\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      flag: '--coverage'\",\"    }\",\"  }\",\"  requires {\",\"    feature: 'coverage'\",\"  }\")));\n  }\n}\n catch (ParseException e) {\n  throw new IllegalStateException(e);\n}\n",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 1461,
      "astHeight" : 11
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 48543,
        "startLineNumber" : 47,
        "startColumnNumber" : 48,
        "endLineNumber" : 1011,
        "endColumnNumber" : 3
      },
      "nodeContext" : "{\n  ImmutableList.Builder<CToolchain.Feature> featureBuilder=ImmutableList.builder();\n  try {\n    if (!existingFeatureNames.contains(CppRuleClasses.STATIC_LINK_CPP_RUNTIMES) && supportsEmbeddedRuntimes) {\n      featureBuilder.add(getFeature(\"name: 'static_link_cpp_runtimes' enabled: true\"));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.SUPPORTS_INTERFACE_SHARED_LIBRARIES) && supportsInterfaceSharedLibraries) {\n      featureBuilder.add(getFeature(\"name: 'supports_interface_shared_libraries' enabled: true\"));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.LEGACY_COMPILE_FLAGS)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'legacy_compile_flags'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'assemble'\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'c++-module-compile'\",\"    action: 'c++-module-codegen'\",\"    action: 'lto-backend'\",\"    action: 'clif-match'\",\"    flag_group {\",\"      expand_if_all_available: 'legacy_compile_flags'\",\"      iterate_over: 'legacy_compile_flags'\",\"      flag: '%{legacy_compile_flags}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.DEPENDENCY_FILE)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'dependency_file'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'assemble'\",\"    action: 'preprocess-assemble'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-compile'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'clif-match'\",\"    flag_group {\",\"      expand_if_all_available: 'dependency_file'\",\"      flag: '-MD'\",\"      flag: '-MF'\",\"      flag: '%{dependency_file}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.RANDOM_SEED)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'random_seed'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-codegen'\",\"    action: 'c++-module-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'output_file'\",\"      flag: '-frandom-seed=%{output_file}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.PIC)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'pic'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'assemble'\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-codegen'\",\"    action: 'c++-module-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'pic'\",\"      flag: '-fPIC'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.PER_OBJECT_DEBUG_INFO)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'per_object_debug_info'\",\"  flag_set {\",\"    action: 'assemble'\",\"    action: 'preprocess-assemble'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-codegen'\",\"    flag_group {\",\"      expand_if_all_available: 'per_object_debug_info_file'\",\"      flag: '-gsplit-dwarf'\",\"      flag: '-g'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.PREPROCESSOR_DEFINES)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'preprocessor_defines'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'c++-module-compile'\",\"    action: 'clif-match'\",\"    flag_group {\",\"      iterate_over: 'preprocessor_defines'\",\"      flag: '-D%{preprocessor_defines}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"includes\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'includes'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'c++-module-compile'\",\"    action: 'clif-match'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'includes'\",\"      iterate_over: 'includes'\",\"      flag: '-include'\",\"      flag: '%{includes}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.INCLUDE_PATHS)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'include_paths'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'c++-module-compile'\",\"    action: 'clif-match'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    flag_group {\",\"      iterate_over: 'quote_include_paths'\",\"      flag: '-iquote'\",\"      flag: '%{quote_include_paths}'\",\"    }\",\"    flag_group {\",\"      iterate_over: 'include_paths'\",\"      flag: '-I%{include_paths}'\",\"    }\",\"    flag_group {\",\"      iterate_over: 'system_include_paths'\",\"      flag: '-isystem'\",\"      flag: '%{system_include_paths}'\",\"    }\",\"    flag_group {\",\"      iterate_over: 'framework_include_paths'\",\"      flag: '-F%{framework_include_paths}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.FDO_INSTRUMENT)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'fdo_instrument'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_instrument_path'\",\"      flag: '-fprofile-generate=%{fdo_instrument_path}'\",\"      flag: '-fno-data-sections'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.FDO_OPTIMIZE)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'fdo_optimize'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_profile_path'\",\"      flag: '-fprofile-use=%{fdo_profile_path}'\",\"      flag: '-Wno-profile-instr-unprofiled'\",\"      flag: '-Wno-profile-instr-out-of-date'\",\"      flag: '-fprofile-correction'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.CS_FDO_INSTRUMENT)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'cs_fdo_instrument'\",\"  provides: 'csprofile'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'lto-backend'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'cs_fdo_instrument_path'\",\"      flag: '-fcs-profile-generate=%{cs_fdo_instrument_path}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.CS_FDO_OPTIMIZE)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'cs_fdo_optimize'\",\"  provides: 'csprofile'\",\"  flag_set {\",\"    action: 'lto-backend'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_profile_path'\",\"      flag: '-fprofile-use=%{fdo_profile_path}'\",\"      flag: '-Wno-profile-instr-unprofiled'\",\"      flag: '-Wno-profile-instr-out-of-date'\",\"      flag: '-fprofile-correction'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.FDO_PREFETCH_HINTS)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'fdo_prefetch_hints'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'lto-backend'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_prefetch_hints_path'\",\"      flag: '-mllvm'\",\"      flag: '-prefetch-hints-file=\" + \"%{fdo_prefetch_hints_path}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.AUTOFDO)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'autofdo'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_profile_path'\",\"      flag: '-fauto-profile=%{fdo_profile_path}'\",\"      flag: '-fprofile-correction'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.PROPELLER_OPTIMIZE)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'propeller_optimize'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'lto-backend'\",\"    flag_group {\",\"      expand_if_all_available: 'propeller_optimize_cc_path'\",\"      flag: '-fbasic-block-sections=list=%{propeller_optimize_cc_path}'\",\"      flag: '-DBUILD_PROPELLER_TYPE=\\\"full\\\"'\",\"    }\",\"  }\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    flag_group {\",\"      expand_if_true: 'propeller_optimize_ld_path'\",\"      flag: '-Wl,--symbol-ordering-file=%{propeller_optimize_ld_path}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.BUILD_INTERFACE_LIBRARIES)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'build_interface_libraries'\",\"  flag_set {\",\"    with_feature { feature: 'supports_interface_shared_libraries' }\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    flag_group {\",\"      expand_if_all_available: 'generate_interface_library'\",\"      flag: '%{generate_interface_library}'\",\"      flag: '%{interface_library_builder_path}'\",\"      flag: '%{interface_library_input_path}'\",\"      flag: '%{interface_library_output_path}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"dynamic_library_linker_tool\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'dynamic_library_linker_tool'\",\"  flag_set {\",\"    with_feature { feature: 'supports_interface_shared_libraries' }\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    flag_group {\",\"      expand_if_all_available: 'generate_interface_library'\",\"      flag: '\" + cppLinkDynamicLibraryToolPath + \"'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"symbol_counts\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'symbol_counts'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'symbol_counts_output'\",\"      flag: '-Wl,--print-symbol-counts=%{symbol_counts_output}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"shared_flag\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'shared_flag'\",\"  flag_set {\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    flag_group {\",\"      flag: '-shared'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"linkstamps\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'linkstamps'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'linkstamp_paths'\",\"      iterate_over: 'linkstamp_paths'\",\"      flag: '%{linkstamp_paths}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"output_execpath_flags\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'output_execpath_flags'\",\"  flag_set {\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'output_execpath'\",\"      flag: '-o'\",\"      flag: '%{output_execpath}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"runtime_library_search_directories\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'runtime_library_search_directories',\",\"  flag_set {\",\"    with_feature { feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",\"        expand_if_true: 'is_cc_test'\",\"        flag: \",\"          '-Wl,-rpath,$EXEC_ORIGIN/%{runtime_library_search_directories}'\",\"      }\",\"      flag_group {\",\"        expand_if_false: 'is_cc_test'\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"      }\",\"    }\",\"  }\",\"  flag_set {\",\"    with_feature { not_feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"    }\",\"  }\",\"}\")));\n    }\n    if (!existingFeatureNames.contains(\"library_search_directories\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'library_search_directories'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'library_search_directories'\",\"      iterate_over: 'library_search_directories'\",\"      flag: '-L%{library_search_directories}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"archiver_flags\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'archiver_flags'\",\"  flag_set {\",\"    action: 'c++-link-static-library'\",\"    flag_group {\",ifLinux(platform,\"flag: 'rcsD'\"),ifMac(platform,\"flag: '-static'\",\"flag: '-s'\"),\"    }\",\"    flag_group {\",\"      expand_if_all_available: 'output_execpath'\",ifLinux(platform,\"flag: '%{output_execpath}'\"),ifMac(platform,\"flag: '-o'\",\"flag: '%{output_execpath}'\"),\"    }\",\"  }\",\"  flag_set { \",\"    action: 'c++-link-static-library'\",\"    flag_group {\",\"      expand_if_all_available: 'libraries_to_link'\",\"      iterate_over: 'libraries_to_link'\",\"      flag_group {\",\"        expand_if_equal {\",\"          variable: 'libraries_to_link.type'\",\"          value: 'object_file'\",\"        }\",\"        flag: '%{libraries_to_link.name}'\",\"      }\",\"      flag_group {\",\"        expand_if_equal {\",\"          variable: 'libraries_to_link.type'\",\"          value: 'object_file_group'\",\"        }\",\"        iterate_over: 'libraries_to_link.object_files'\",\"        flag: '%{libraries_to_link.object_files}'\",\"      }\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"libraries_to_link\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'libraries_to_link'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_true: 'thinlto_param_file'\",\"      flag: '-Wl,@%{thinlto_param_file}'\",\"    }\",\"    flag_group {\",\"      expand_if_all_available: 'libraries_to_link'\",\"      iterate_over: 'libraries_to_link'\",\"      flag_group {\",\"        expand_if_equal: {\",\"          variable: 'libraries_to_link.type'\",\"          value: 'object_file_group'\",\"        }\",\"        expand_if_false: 'libraries_to_link.is_whole_archive'\",\"        flag: '-Wl,--start-lib'\",\"      }\",ifLinux(platform,\"  flag_group {\",\"    expand_if_true: 'libraries_to_link.is_whole_archive'\",\"    expand_if_equal: {\",\"        variable: 'libraries_to_link.type'\",\"        value: 'static_library'\",\"    }\",\"    flag: '-Wl,-whole-archive'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"        variable: 'libraries_to_link.type'\",\"        value: 'object_file_group'\",\"    }\",\"    iterate_over: 'libraries_to_link.object_files'\",\"    flag: '%{libraries_to_link.object_files}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'object_file'\",\"    }\",\"    flag: '%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'interface_library'\",\"    }\",\"    flag: '%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'static_library'\",\"    }\",\"    flag: '%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'dynamic_library'\",\"    }\",\"    flag: '-l%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'versioned_dynamic_library'\",\"    }\",\"    flag: '-l:%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_true: 'libraries_to_link.is_whole_archive'\",\"    expand_if_equal: {\",\"        variable: 'libraries_to_link.type'\",\"        value: 'static_library'\",\"    }\",\"    flag: '-Wl,-no-whole-archive'\",\"  }\"),ifMac(platform,\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'object_file_group'\",\"    }\",\"    iterate_over: 'libraries_to_link.object_files'\",\"    flag_group {\",\"      expand_if_false: 'libraries_to_link.is_whole_archive'\",\"      flag: '%{libraries_to_link.object_files}'\",\"    }\",\"    flag_group {\",\"      expand_if_true: 'libraries_to_link.is_whole_archive'\",\"      flag: '-Wl,-force_load,%{libraries_to_link.object_files}'\",\"    }\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'object_file'\",\"    }\",\"    flag_group {\",\"      expand_if_false: 'libraries_to_link.is_whole_archive'\",\"      flag: '%{libraries_to_link.name}'\",\"    }\",\"    flag_group {\",\"      expand_if_true: 'libraries_to_link.is_whole_archive'\",\"      flag: '-Wl,-force_load,%{libraries_to_link.name}'\",\"    }\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'interface_library'\",\"    }\",\"    flag_group {\",\"      expand_if_false: 'libraries_to_link.is_whole_archive'\",\"      flag: '%{libraries_to_link.name}'\",\"    }\",\"    flag_group {\",\"      expand_if_true: 'libraries_to_link.is_whole_archive'\",\"      flag: '-Wl,-force_load,%{libraries_to_link.name}'\",\"    }\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'static_library'\",\"    }\",\"    flag_group {\",\"      expand_if_false: 'libraries_to_link.is_whole_archive'\",\"      flag: '%{libraries_to_link.name}'\",\"    }\",\"    flag_group {\",\"      expand_if_true: 'libraries_to_link.is_whole_archive'\",\"      flag: '-Wl,-force_load,%{libraries_to_link.name}'\",\"    }\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'dynamic_library'\",\"    }\",\"    flag: '-l%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'versioned_dynamic_library'\",\"    }\",\"    flag: '-l:%{libraries_to_link.name}'\",\"  }\"),\"      flag_group {\",\"        expand_if_equal: {\",\"          variable: 'libraries_to_link.type'\",\"          value: 'object_file_group'\",\"        }\",\"        expand_if_false: 'libraries_to_link.is_whole_archive'\",\"        flag: '-Wl,--end-lib'\",\"      }\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"force_pic_flags\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'force_pic_flags'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'force_pic'\",ifLinux(platform,\"flag: '-pie'\"),ifMac(platform,\"flag: '-Wl,-pie'\"),\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"user_link_flags\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'user_link_flags'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'user_link_flags'\",\"      iterate_over: 'user_link_flags'\",\"      flag: '%{user_link_flags}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"legacy_link_flags\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'legacy_link_flags'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'legacy_link_flags'\",\"      iterate_over: 'legacy_link_flags'\",\"      flag: '%{legacy_link_flags}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"static_libgcc\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'static_libgcc'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    with_feature { feature: 'static_link_cpp_runtimes' }\",\"    flag_group {\",\"      flag: '-static-libgcc'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"fission_support\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'fission_support'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'is_using_fission'\",\"      flag: '-Wl,--gdb-index'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"strip_debug_symbols\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'strip_debug_symbols'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'strip_debug_symbols'\",\"      flag: '-Wl,-S'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.COVERAGE)) {\n      featureBuilder.add(getFeature(\"  name: 'coverage'\"),getFeature(Joiner.on(\"\\n\").join(\"  name: 'llvm_coverage_map_format'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-compile'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    flag_group {\",\"      flag: '-fprofile-instr-generate'\",\"      flag: '-fcoverage-mapping'\",\"    }\",\"  }\",\"  flag_set {\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    action: 'objc-executable'\",\"    action: 'objc++-executable'\",\"    flag_group {\",\"      flag: '-fprofile-instr-generate'\",\"    }\",\"  }\",\"  requires {\",\"    feature: 'coverage'\",\"  }\")),getFeature(Joiner.on(\"\\n\").join(\"  name: 'gcc_coverage_map_format'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-compile'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    action: 'objc-executable'\",\"    action: 'objc++-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'gcov_gcno_file'\",\"      flag: '-fprofile-arcs'\",\"      flag: '-ftest-coverage'\",\"    }\",\"  }\",\"  flag_set {\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      flag: '--coverage'\",\"    }\",\"  }\",\"  requires {\",\"    feature: 'coverage'\",\"  }\")));\n    }\n  }\n catch (  ParseException e) {\n    throw new IllegalStateException(e);\n  }\n  return featureBuilder.build();\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 1481,
      "astHeight" : 12
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 48819,
        "startLineNumber" : 42,
        "startColumnNumber" : 2,
        "endLineNumber" : 1011,
        "endColumnNumber" : 3
      },
      "nodeContext" : "public static ImmutableList<CToolchain.Feature> getLegacyFeatures(CppPlatform platform,ImmutableSet<String> existingFeatureNames,String cppLinkDynamicLibraryToolPath,boolean supportsEmbeddedRuntimes,boolean supportsInterfaceSharedLibraries){\n  ImmutableList.Builder<CToolchain.Feature> featureBuilder=ImmutableList.builder();\n  try {\n    if (!existingFeatureNames.contains(CppRuleClasses.STATIC_LINK_CPP_RUNTIMES) && supportsEmbeddedRuntimes) {\n      featureBuilder.add(getFeature(\"name: 'static_link_cpp_runtimes' enabled: true\"));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.SUPPORTS_INTERFACE_SHARED_LIBRARIES) && supportsInterfaceSharedLibraries) {\n      featureBuilder.add(getFeature(\"name: 'supports_interface_shared_libraries' enabled: true\"));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.LEGACY_COMPILE_FLAGS)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'legacy_compile_flags'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'assemble'\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'c++-module-compile'\",\"    action: 'c++-module-codegen'\",\"    action: 'lto-backend'\",\"    action: 'clif-match'\",\"    flag_group {\",\"      expand_if_all_available: 'legacy_compile_flags'\",\"      iterate_over: 'legacy_compile_flags'\",\"      flag: '%{legacy_compile_flags}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.DEPENDENCY_FILE)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'dependency_file'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'assemble'\",\"    action: 'preprocess-assemble'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-compile'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'clif-match'\",\"    flag_group {\",\"      expand_if_all_available: 'dependency_file'\",\"      flag: '-MD'\",\"      flag: '-MF'\",\"      flag: '%{dependency_file}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.RANDOM_SEED)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'random_seed'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-codegen'\",\"    action: 'c++-module-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'output_file'\",\"      flag: '-frandom-seed=%{output_file}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.PIC)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'pic'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'assemble'\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-codegen'\",\"    action: 'c++-module-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'pic'\",\"      flag: '-fPIC'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.PER_OBJECT_DEBUG_INFO)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'per_object_debug_info'\",\"  flag_set {\",\"    action: 'assemble'\",\"    action: 'preprocess-assemble'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-codegen'\",\"    flag_group {\",\"      expand_if_all_available: 'per_object_debug_info_file'\",\"      flag: '-gsplit-dwarf'\",\"      flag: '-g'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.PREPROCESSOR_DEFINES)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'preprocessor_defines'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'c++-module-compile'\",\"    action: 'clif-match'\",\"    flag_group {\",\"      iterate_over: 'preprocessor_defines'\",\"      flag: '-D%{preprocessor_defines}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"includes\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'includes'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'c++-module-compile'\",\"    action: 'clif-match'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'includes'\",\"      iterate_over: 'includes'\",\"      flag: '-include'\",\"      flag: '%{includes}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.INCLUDE_PATHS)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'include_paths'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'linkstamp-compile'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-header-parsing'\",\"    action: 'c++-module-compile'\",\"    action: 'clif-match'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    flag_group {\",\"      iterate_over: 'quote_include_paths'\",\"      flag: '-iquote'\",\"      flag: '%{quote_include_paths}'\",\"    }\",\"    flag_group {\",\"      iterate_over: 'include_paths'\",\"      flag: '-I%{include_paths}'\",\"    }\",\"    flag_group {\",\"      iterate_over: 'system_include_paths'\",\"      flag: '-isystem'\",\"      flag: '%{system_include_paths}'\",\"    }\",\"    flag_group {\",\"      iterate_over: 'framework_include_paths'\",\"      flag: '-F%{framework_include_paths}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.FDO_INSTRUMENT)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'fdo_instrument'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_instrument_path'\",\"      flag: '-fprofile-generate=%{fdo_instrument_path}'\",\"      flag: '-fno-data-sections'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.FDO_OPTIMIZE)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'fdo_optimize'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_profile_path'\",\"      flag: '-fprofile-use=%{fdo_profile_path}'\",\"      flag: '-Wno-profile-instr-unprofiled'\",\"      flag: '-Wno-profile-instr-out-of-date'\",\"      flag: '-fprofile-correction'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.CS_FDO_INSTRUMENT)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'cs_fdo_instrument'\",\"  provides: 'csprofile'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'lto-backend'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'cs_fdo_instrument_path'\",\"      flag: '-fcs-profile-generate=%{cs_fdo_instrument_path}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.CS_FDO_OPTIMIZE)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'cs_fdo_optimize'\",\"  provides: 'csprofile'\",\"  flag_set {\",\"    action: 'lto-backend'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_profile_path'\",\"      flag: '-fprofile-use=%{fdo_profile_path}'\",\"      flag: '-Wno-profile-instr-unprofiled'\",\"      flag: '-Wno-profile-instr-out-of-date'\",\"      flag: '-fprofile-correction'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.FDO_PREFETCH_HINTS)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'fdo_prefetch_hints'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'lto-backend'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_prefetch_hints_path'\",\"      flag: '-mllvm'\",\"      flag: '-prefetch-hints-file=\" + \"%{fdo_prefetch_hints_path}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.AUTOFDO)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'autofdo'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    flag_group {\",\"      expand_if_all_available: 'fdo_profile_path'\",\"      flag: '-fauto-profile=%{fdo_profile_path}'\",\"      flag: '-fprofile-correction'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.PROPELLER_OPTIMIZE)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'propeller_optimize'\",\"  flag_set {\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'lto-backend'\",\"    flag_group {\",\"      expand_if_all_available: 'propeller_optimize_cc_path'\",\"      flag: '-fbasic-block-sections=list=%{propeller_optimize_cc_path}'\",\"      flag: '-DBUILD_PROPELLER_TYPE=\\\"full\\\"'\",\"    }\",\"  }\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    flag_group {\",\"      expand_if_true: 'propeller_optimize_ld_path'\",\"      flag: '-Wl,--symbol-ordering-file=%{propeller_optimize_ld_path}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.BUILD_INTERFACE_LIBRARIES)) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'build_interface_libraries'\",\"  flag_set {\",\"    with_feature { feature: 'supports_interface_shared_libraries' }\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    flag_group {\",\"      expand_if_all_available: 'generate_interface_library'\",\"      flag: '%{generate_interface_library}'\",\"      flag: '%{interface_library_builder_path}'\",\"      flag: '%{interface_library_input_path}'\",\"      flag: '%{interface_library_output_path}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"dynamic_library_linker_tool\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'dynamic_library_linker_tool'\",\"  flag_set {\",\"    with_feature { feature: 'supports_interface_shared_libraries' }\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    flag_group {\",\"      expand_if_all_available: 'generate_interface_library'\",\"      flag: '\" + cppLinkDynamicLibraryToolPath + \"'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"symbol_counts\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'symbol_counts'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'symbol_counts_output'\",\"      flag: '-Wl,--print-symbol-counts=%{symbol_counts_output}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"shared_flag\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'shared_flag'\",\"  flag_set {\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    flag_group {\",\"      flag: '-shared'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"linkstamps\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'linkstamps'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'linkstamp_paths'\",\"      iterate_over: 'linkstamp_paths'\",\"      flag: '%{linkstamp_paths}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"output_execpath_flags\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'output_execpath_flags'\",\"  flag_set {\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'output_execpath'\",\"      flag: '-o'\",\"      flag: '%{output_execpath}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"runtime_library_search_directories\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'runtime_library_search_directories',\",\"  flag_set {\",\"    with_feature { feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",\"        expand_if_true: 'is_cc_test'\",\"        flag: \",\"          '-Wl,-rpath,$EXEC_ORIGIN/%{runtime_library_search_directories}'\",\"      }\",\"      flag_group {\",\"        expand_if_false: 'is_cc_test'\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"      }\",\"    }\",\"  }\",\"  flag_set {\",\"    with_feature { not_feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"    }\",\"  }\",\"}\")));\n    }\n    if (!existingFeatureNames.contains(\"library_search_directories\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'library_search_directories'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'library_search_directories'\",\"      iterate_over: 'library_search_directories'\",\"      flag: '-L%{library_search_directories}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"archiver_flags\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'archiver_flags'\",\"  flag_set {\",\"    action: 'c++-link-static-library'\",\"    flag_group {\",ifLinux(platform,\"flag: 'rcsD'\"),ifMac(platform,\"flag: '-static'\",\"flag: '-s'\"),\"    }\",\"    flag_group {\",\"      expand_if_all_available: 'output_execpath'\",ifLinux(platform,\"flag: '%{output_execpath}'\"),ifMac(platform,\"flag: '-o'\",\"flag: '%{output_execpath}'\"),\"    }\",\"  }\",\"  flag_set { \",\"    action: 'c++-link-static-library'\",\"    flag_group {\",\"      expand_if_all_available: 'libraries_to_link'\",\"      iterate_over: 'libraries_to_link'\",\"      flag_group {\",\"        expand_if_equal {\",\"          variable: 'libraries_to_link.type'\",\"          value: 'object_file'\",\"        }\",\"        flag: '%{libraries_to_link.name}'\",\"      }\",\"      flag_group {\",\"        expand_if_equal {\",\"          variable: 'libraries_to_link.type'\",\"          value: 'object_file_group'\",\"        }\",\"        iterate_over: 'libraries_to_link.object_files'\",\"        flag: '%{libraries_to_link.object_files}'\",\"      }\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"libraries_to_link\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'libraries_to_link'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_true: 'thinlto_param_file'\",\"      flag: '-Wl,@%{thinlto_param_file}'\",\"    }\",\"    flag_group {\",\"      expand_if_all_available: 'libraries_to_link'\",\"      iterate_over: 'libraries_to_link'\",\"      flag_group {\",\"        expand_if_equal: {\",\"          variable: 'libraries_to_link.type'\",\"          value: 'object_file_group'\",\"        }\",\"        expand_if_false: 'libraries_to_link.is_whole_archive'\",\"        flag: '-Wl,--start-lib'\",\"      }\",ifLinux(platform,\"  flag_group {\",\"    expand_if_true: 'libraries_to_link.is_whole_archive'\",\"    expand_if_equal: {\",\"        variable: 'libraries_to_link.type'\",\"        value: 'static_library'\",\"    }\",\"    flag: '-Wl,-whole-archive'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"        variable: 'libraries_to_link.type'\",\"        value: 'object_file_group'\",\"    }\",\"    iterate_over: 'libraries_to_link.object_files'\",\"    flag: '%{libraries_to_link.object_files}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'object_file'\",\"    }\",\"    flag: '%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'interface_library'\",\"    }\",\"    flag: '%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'static_library'\",\"    }\",\"    flag: '%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'dynamic_library'\",\"    }\",\"    flag: '-l%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'versioned_dynamic_library'\",\"    }\",\"    flag: '-l:%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_true: 'libraries_to_link.is_whole_archive'\",\"    expand_if_equal: {\",\"        variable: 'libraries_to_link.type'\",\"        value: 'static_library'\",\"    }\",\"    flag: '-Wl,-no-whole-archive'\",\"  }\"),ifMac(platform,\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'object_file_group'\",\"    }\",\"    iterate_over: 'libraries_to_link.object_files'\",\"    flag_group {\",\"      expand_if_false: 'libraries_to_link.is_whole_archive'\",\"      flag: '%{libraries_to_link.object_files}'\",\"    }\",\"    flag_group {\",\"      expand_if_true: 'libraries_to_link.is_whole_archive'\",\"      flag: '-Wl,-force_load,%{libraries_to_link.object_files}'\",\"    }\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'object_file'\",\"    }\",\"    flag_group {\",\"      expand_if_false: 'libraries_to_link.is_whole_archive'\",\"      flag: '%{libraries_to_link.name}'\",\"    }\",\"    flag_group {\",\"      expand_if_true: 'libraries_to_link.is_whole_archive'\",\"      flag: '-Wl,-force_load,%{libraries_to_link.name}'\",\"    }\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'interface_library'\",\"    }\",\"    flag_group {\",\"      expand_if_false: 'libraries_to_link.is_whole_archive'\",\"      flag: '%{libraries_to_link.name}'\",\"    }\",\"    flag_group {\",\"      expand_if_true: 'libraries_to_link.is_whole_archive'\",\"      flag: '-Wl,-force_load,%{libraries_to_link.name}'\",\"    }\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'static_library'\",\"    }\",\"    flag_group {\",\"      expand_if_false: 'libraries_to_link.is_whole_archive'\",\"      flag: '%{libraries_to_link.name}'\",\"    }\",\"    flag_group {\",\"      expand_if_true: 'libraries_to_link.is_whole_archive'\",\"      flag: '-Wl,-force_load,%{libraries_to_link.name}'\",\"    }\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'dynamic_library'\",\"    }\",\"    flag: '-l%{libraries_to_link.name}'\",\"  }\",\"  flag_group {\",\"    expand_if_equal: {\",\"      variable: 'libraries_to_link.type'\",\"      value: 'versioned_dynamic_library'\",\"    }\",\"    flag: '-l:%{libraries_to_link.name}'\",\"  }\"),\"      flag_group {\",\"        expand_if_equal: {\",\"          variable: 'libraries_to_link.type'\",\"          value: 'object_file_group'\",\"        }\",\"        expand_if_false: 'libraries_to_link.is_whole_archive'\",\"        flag: '-Wl,--end-lib'\",\"      }\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"force_pic_flags\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'force_pic_flags'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'force_pic'\",ifLinux(platform,\"flag: '-pie'\"),ifMac(platform,\"flag: '-Wl,-pie'\"),\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"user_link_flags\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'user_link_flags'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'user_link_flags'\",\"      iterate_over: 'user_link_flags'\",\"      flag: '%{user_link_flags}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"legacy_link_flags\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'legacy_link_flags'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'legacy_link_flags'\",\"      iterate_over: 'legacy_link_flags'\",\"      flag: '%{legacy_link_flags}'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"static_libgcc\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'static_libgcc'\",\"  enabled: true\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    with_feature { feature: 'static_link_cpp_runtimes' }\",\"    flag_group {\",\"      flag: '-static-libgcc'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"fission_support\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'fission_support'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'is_using_fission'\",\"      flag: '-Wl,--gdb-index'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(\"strip_debug_symbols\")) {\n      featureBuilder.add(getFeature(Joiner.on(\"\\n\").join(\"  name: 'strip_debug_symbols'\",\"  flag_set {\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'strip_debug_symbols'\",\"      flag: '-Wl,-S'\",\"    }\",\"  }\")));\n    }\n    if (!existingFeatureNames.contains(CppRuleClasses.COVERAGE)) {\n      featureBuilder.add(getFeature(\"  name: 'coverage'\"),getFeature(Joiner.on(\"\\n\").join(\"  name: 'llvm_coverage_map_format'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-compile'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    flag_group {\",\"      flag: '-fprofile-instr-generate'\",\"      flag: '-fcoverage-mapping'\",\"    }\",\"  }\",\"  flag_set {\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    action: 'objc-executable'\",\"    action: 'objc++-executable'\",\"    flag_group {\",\"      flag: '-fprofile-instr-generate'\",\"    }\",\"  }\",\"  requires {\",\"    feature: 'coverage'\",\"  }\")),getFeature(Joiner.on(\"\\n\").join(\"  name: 'gcc_coverage_map_format'\",\"  provides: 'profile'\",\"  flag_set {\",\"    action: 'preprocess-assemble'\",\"    action: 'c-compile'\",\"    action: 'c++-compile'\",\"    action: 'c++-module-compile'\",\"    action: 'objc-compile'\",\"    action: 'objc++-compile'\",\"    action: 'objc-executable'\",\"    action: 'objc++-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'gcov_gcno_file'\",\"      flag: '-fprofile-arcs'\",\"      flag: '-ftest-coverage'\",\"    }\",\"  }\",\"  flag_set {\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'c++-link-executable'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      flag: '--coverage'\",\"    }\",\"  }\",\"  requires {\",\"    feature: 'coverage'\",\"  }\")));\n    }\n  }\n catch (  ParseException e) {\n    throw new IllegalStateException(e);\n  }\n  return featureBuilder.build();\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 1513,
      "astHeight" : 13
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 3228,
        "startLineNumber" : 531,
        "startColumnNumber" : 16,
        "endLineNumber" : 586,
        "endColumnNumber" : 28
      },
      "nodeContext" : "Joiner.on(\"\\n\").join(\"  name: 'runtime_library_search_directories',\",\"  flag_set {\",\"    with_feature { feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",\"        expand_if_true: 'is_cc_test'\",\"        flag: \",\"          '-Wl,-rpath,$EXEC_ORIGIN/%{runtime_library_search_directories}'\",\"      }\",\"      flag_group {\",\"        expand_if_false: 'is_cc_test'\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"      }\",\"    }\",\"  }\",\"  flag_set {\",\"    with_feature { not_feature: 'static_link_cpp_runtimes' }\",\"    action: 'c++-link-executable'\",\"    action: 'c++-link-dynamic-library'\",\"    action: 'c++-link-nodeps-dynamic-library'\",\"    action: 'lto-index-for-dynamic-library'\",\"    action: 'lto-index-for-nodeps-dynamic-library'\",\"    action: 'lto-index-for-executable'\",\"    flag_group {\",\"      expand_if_all_available: 'runtime_library_search_directories'\",\"      iterate_over: 'runtime_library_search_directories'\",\"      flag_group {\",ifLinux(platform,\"        flag: '-Wl,-rpath,$ORIGIN/\" + \"%{runtime_library_search_directories}'\"),ifMac(platform,\"        flag: '-Wl,-rpath,@loader_path/\" + \"%{runtime_library_search_directories}'\"),\"    }\",\"  }\",\"}\")",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 67,
      "astHeight" : 4
    },
    "tokenLength" : 8,
    "type" : "java.lang.String"
  } ],
  "positionList" : [ {
    "charLength" : 75,
    "startLineNumber" : 549,
    "startColumnNumber" : 24,
    "endLineNumber" : 549,
    "endColumnNumber" : 99
  } ],
  "layoutRelationDataList" : [ ]
}
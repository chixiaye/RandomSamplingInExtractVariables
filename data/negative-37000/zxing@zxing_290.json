{
  "id" : 290,
  "expression" : "image.getWidth()",
  "projectName" : "zxing@zxing",
  "commitID" : "1b0aed9c091717337b865955f58290450a3a9e3a",
  "filePath" : "/core/src/com/google/zxing/oned/OneDReader.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "image.getWidth()",
    "nodeType" : "MethodInvocation",
    "nodePosition" : {
      "charLength" : 16,
      "startLineNumber" : 108,
      "startColumnNumber" : 16,
      "endLineNumber" : 108,
      "endColumnNumber" : 32
    },
    "astNodeNumber" : 3,
    "astHeight" : 2,
    "parentDataList" : [ {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.VariableDeclarationStatement,fragments]",
      "nodePosition" : {
        "charLength" : 24,
        "startLineNumber" : 108,
        "startColumnNumber" : 8,
        "endLineNumber" : 108,
        "endColumnNumber" : 32
      },
      "nodeContext" : "width=image.getWidth()",
      "nodeType" : "VariableDeclarationFragment",
      "astNodeNumber" : 5,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 29,
        "startLineNumber" : 108,
        "startColumnNumber" : 4,
        "endLineNumber" : 108,
        "endColumnNumber" : 33
      },
      "nodeContext" : "int width=image.getWidth();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 7,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 3071,
        "startLineNumber" : 107,
        "startColumnNumber" : 80,
        "endLineNumber" : 178,
        "endColumnNumber" : 3
      },
      "nodeContext" : "{\n  int width=image.getWidth();\n  int height=image.getHeight();\n  BitArray row=new BitArray(width);\n  int middle=height >> 1;\n  boolean tryHarder=hints != null && hints.containsKey(DecodeHintType.TRY_HARDER);\n  int rowStep=Math.max(1,height >> (tryHarder ? 8 : 5));\n  int maxLines;\n  if (tryHarder) {\n    maxLines=height;\n  }\n else {\n    maxLines=15;\n  }\n  for (int x=0; x < maxLines; x++) {\n    int rowStepsAboveOrBelow=(x + 1) >> 1;\n    boolean isAbove=(x & 0x01) == 0;\n    int rowNumber=middle + rowStep * (isAbove ? rowStepsAboveOrBelow : -rowStepsAboveOrBelow);\n    if (rowNumber < 0 || rowNumber >= height) {\n      break;\n    }\n    try {\n      row=image.getBlackRow(rowNumber,row);\n    }\n catch (    NotFoundException nfe) {\n      continue;\n    }\n    for (int attempt=0; attempt < 2; attempt++) {\n      if (attempt == 1) {\n        row.reverse();\n        if (hints != null && hints.containsKey(DecodeHintType.NEED_RESULT_POINT_CALLBACK)) {\n          Map<DecodeHintType,Object> newHints=new EnumMap<DecodeHintType,Object>(DecodeHintType.class);\n          newHints.putAll(hints);\n          newHints.remove(DecodeHintType.NEED_RESULT_POINT_CALLBACK);\n          hints=newHints;\n        }\n      }\n      try {\n        Result result=decodeRow(rowNumber,row,hints);\n        if (attempt == 1) {\n          result.putMetadata(ResultMetadataType.ORIENTATION,180);\n          ResultPoint[] points=result.getResultPoints();\n          if (points != null) {\n            points[0]=new ResultPoint(width - points[0].getX() - 1,points[0].getY());\n            points[1]=new ResultPoint(width - points[1].getX() - 1,points[1].getY());\n          }\n        }\n        return result;\n      }\n catch (      ReaderException re) {\n      }\n    }\n  }\n  throw NotFoundException.getNotFoundInstance();\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 313,
      "astHeight" : 18
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 4003,
        "startLineNumber" : 92,
        "startColumnNumber" : 2,
        "endLineNumber" : 178,
        "endColumnNumber" : 3
      },
      "nodeContext" : "/** \n * We're going to examine rows from the middle outward, searching alternately above and below the middle, and farther out each time. rowStep is the number of rows between each successive attempt above and below the middle. So we'd scan row middle, then middle - rowStep, then middle + rowStep, then middle - (2 * rowStep), etc. rowStep is bigger as the image is taller, but is always at least 1. We've somewhat arbitrarily decided that moving up and down by about 1/16 of the image is pretty good; we try more of the image if \"trying harder\".\n * @param image The image to decode\n * @param hints Any hints that were requested\n * @return The contents of the decoded barcode\n * @throws NotFoundException Any spontaneous errors which occur\n */\nprivate Result doDecode(BinaryBitmap image,Map<DecodeHintType,?> hints) throws NotFoundException {\n  int width=image.getWidth();\n  int height=image.getHeight();\n  BitArray row=new BitArray(width);\n  int middle=height >> 1;\n  boolean tryHarder=hints != null && hints.containsKey(DecodeHintType.TRY_HARDER);\n  int rowStep=Math.max(1,height >> (tryHarder ? 8 : 5));\n  int maxLines;\n  if (tryHarder) {\n    maxLines=height;\n  }\n else {\n    maxLines=15;\n  }\n  for (int x=0; x < maxLines; x++) {\n    int rowStepsAboveOrBelow=(x + 1) >> 1;\n    boolean isAbove=(x & 0x01) == 0;\n    int rowNumber=middle + rowStep * (isAbove ? rowStepsAboveOrBelow : -rowStepsAboveOrBelow);\n    if (rowNumber < 0 || rowNumber >= height) {\n      break;\n    }\n    try {\n      row=image.getBlackRow(rowNumber,row);\n    }\n catch (    NotFoundException nfe) {\n      continue;\n    }\n    for (int attempt=0; attempt < 2; attempt++) {\n      if (attempt == 1) {\n        row.reverse();\n        if (hints != null && hints.containsKey(DecodeHintType.NEED_RESULT_POINT_CALLBACK)) {\n          Map<DecodeHintType,Object> newHints=new EnumMap<DecodeHintType,Object>(DecodeHintType.class);\n          newHints.putAll(hints);\n          newHints.remove(DecodeHintType.NEED_RESULT_POINT_CALLBACK);\n          hints=newHints;\n        }\n      }\n      try {\n        Result result=decodeRow(rowNumber,row,hints);\n        if (attempt == 1) {\n          result.putMetadata(ResultMetadataType.ORIENTATION,180);\n          ResultPoint[] points=result.getResultPoints();\n          if (points != null) {\n            points[0]=new ResultPoint(width - points[0].getX() - 1,points[0].getY());\n            points[1]=new ResultPoint(width - points[1].getX() - 1,points[1].getY());\n          }\n        }\n        return result;\n      }\n catch (      ReaderException re) {\n      }\n    }\n  }\n  throw NotFoundException.getNotFoundInstance();\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 333,
      "astHeight" : 19
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 29,
        "startLineNumber" : 108,
        "startColumnNumber" : 4,
        "endLineNumber" : 108,
        "endColumnNumber" : 33
      },
      "nodeContext" : "int width=image.getWidth();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 7,
      "astHeight" : 4
    },
    "tokenLength" : 2,
    "type" : "int"
  } ],
  "positionList" : [ {
    "charLength" : 16,
    "startLineNumber" : 108,
    "startColumnNumber" : 16,
    "endLineNumber" : 108,
    "endColumnNumber" : 32
  } ],
  "layoutRelationDataList" : [ ]
}
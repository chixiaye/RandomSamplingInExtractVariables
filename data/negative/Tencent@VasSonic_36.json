{
  "id" : 36,
  "expression" : "DialogInterface.OnShowListener",
  "projectName" : "Tencent@VasSonic",
  "commitID" : "a3e09c156adb93b4ebe6139def465c519069aa9e",
  "filePath" : "/sonic-android/sample/src/main/java/com/tencent/sonic/demo/UrlSelector.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "DialogInterface.OnShowListener",
    "nodeType" : "QualifiedName",
    "nodePosition" : {
      "charLength" : 30,
      "startLineNumber" : 101,
      "startColumnNumber" : 42,
      "endLineNumber" : 101,
      "endColumnNumber" : 72
    },
    "astNodeNumber" : 3,
    "astHeight" : 2,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ClassInstanceCreation,type]",
      "nodePosition" : {
        "charLength" : 30,
        "startLineNumber" : 101,
        "startColumnNumber" : 42,
        "endLineNumber" : 101,
        "endColumnNumber" : 72
      },
      "nodeContext" : "DialogInterface.OnShowListener",
      "nodeType" : "SimpleType",
      "astNodeNumber" : 4,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 1089,
        "startLineNumber" : 101,
        "startColumnNumber" : 38,
        "endLineNumber" : 121,
        "endColumnNumber" : 9
      },
      "nodeContext" : "new DialogInterface.OnShowListener(){\n  @Override public void onShow(  final DialogInterface dialog){\n    final Button okButton=alertDialog.getButton(AlertDialog.BUTTON_POSITIVE);\n    okButton.setOnClickListener(new View.OnClickListener(){\n      @Override public void onClick(      View v){\n        if (okButton.getText().equals(context.getString(R.string.finish))) {\n          urlListAdapter.toggleNormalMode();\n          viewAddItem.setVisibility(View.GONE);\n          btnEdit.setVisibility(View.VISIBLE);\n          okButton.setText(R.string.close);\n        }\n else         if (okButton.getText().equals(context.getString(R.string.close))) {\n          urlListAdapter.persist();\n          listener.urlChanged(urlListAdapter.getCheckedUrl());\n          dialog.dismiss();\n        }\n      }\n    }\n);\n  }\n}\n",
      "nodeType" : "ClassInstanceCreation",
      "astNodeNumber" : 123,
      "astHeight" : 17
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 1120,
        "startLineNumber" : 101,
        "startColumnNumber" : 8,
        "endLineNumber" : 121,
        "endColumnNumber" : 10
      },
      "nodeContext" : "alertDialog.setOnShowListener(new DialogInterface.OnShowListener(){\n  @Override public void onShow(  final DialogInterface dialog){\n    final Button okButton=alertDialog.getButton(AlertDialog.BUTTON_POSITIVE);\n    okButton.setOnClickListener(new View.OnClickListener(){\n      @Override public void onClick(      View v){\n        if (okButton.getText().equals(context.getString(R.string.finish))) {\n          urlListAdapter.toggleNormalMode();\n          viewAddItem.setVisibility(View.GONE);\n          btnEdit.setVisibility(View.VISIBLE);\n          okButton.setText(R.string.close);\n        }\n else         if (okButton.getText().equals(context.getString(R.string.close))) {\n          urlListAdapter.persist();\n          listener.urlChanged(urlListAdapter.getCheckedUrl());\n          dialog.dismiss();\n        }\n      }\n    }\n);\n  }\n}\n)",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 126,
      "astHeight" : 18
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1121,
        "startLineNumber" : 101,
        "startColumnNumber" : 8,
        "endLineNumber" : 121,
        "endColumnNumber" : 11
      },
      "nodeContext" : "alertDialog.setOnShowListener(new DialogInterface.OnShowListener(){\n  @Override public void onShow(  final DialogInterface dialog){\n    final Button okButton=alertDialog.getButton(AlertDialog.BUTTON_POSITIVE);\n    okButton.setOnClickListener(new View.OnClickListener(){\n      @Override public void onClick(      View v){\n        if (okButton.getText().equals(context.getString(R.string.finish))) {\n          urlListAdapter.toggleNormalMode();\n          viewAddItem.setVisibility(View.GONE);\n          btnEdit.setVisibility(View.VISIBLE);\n          okButton.setText(R.string.close);\n        }\n else         if (okButton.getText().equals(context.getString(R.string.close))) {\n          urlListAdapter.persist();\n          listener.urlChanged(urlListAdapter.getCheckedUrl());\n          dialog.dismiss();\n        }\n      }\n    }\n);\n  }\n}\n);\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 127,
      "astHeight" : 19
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 4126,
        "startLineNumber" : 36,
        "startColumnNumber" : 120,
        "endLineNumber" : 128,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  urlListAdapter.init();\n  final View view=LayoutInflater.from(context).inflate(R.layout.dialog_url,null);\n  ListView listView=(ListView)view.findViewById(R.id.listView);\n  listView.setAdapter(urlListAdapter);\n  listView.setOnItemClickListener(new AdapterView.OnItemClickListener(){\n    @Override public void onItemClick(    AdapterView<?> parent,    View view,    int position,    long id){\n      urlListAdapter.setChecked(position);\n    }\n  }\n);\n  final ImageButton btnAddItem=(ImageButton)view.findViewById(R.id.btn_add_item);\n  btnAddItem.setActivated(false);\n  final EditText textNewUrl=(EditText)view.findViewById(R.id.text_new_url);\n  textNewUrl.addTextChangedListener(new TextWatcher(){\n    @Override public void beforeTextChanged(    CharSequence s,    int start,    int count,    int after){\n    }\n    @Override public void onTextChanged(    CharSequence s,    int start,    int before,    int count){\n    }\n    @Override public void afterTextChanged(    Editable s){\n      btnAddItem.setActivated(Patterns.WEB_URL.matcher(s.toString()).matches());\n    }\n  }\n);\n  btnAddItem.setOnClickListener(new View.OnClickListener(){\n    @Override public void onClick(    View v){\n      if (btnAddItem.isActivated()) {\n        urlListAdapter.addNewItem(textNewUrl.getText().toString());\n        textNewUrl.setText(R.string.http_prefix);\n        textNewUrl.setSelection(textNewUrl.getText().length());\n      }\n else {\n        Toast.makeText(context,R.string.illegal_url,Toast.LENGTH_SHORT).show();\n      }\n    }\n  }\n);\n  AlertDialog.Builder builder=new AlertDialog.Builder(context);\n  builder.setTitle(R.string.set_custom_url);\n  builder.setCancelable(false);\n  builder.setView(view);\n  builder.setPositiveButton(R.string.close,null);\n  final AlertDialog alertDialog=builder.create();\n  final View viewAddItem=view.findViewById(R.id.add_item);\n  final Button btnEdit=(Button)view.findViewById(R.id.btn_edit);\n  btnEdit.setOnClickListener(new View.OnClickListener(){\n    @Override public void onClick(    View v){\n      btnEdit.setVisibility(View.INVISIBLE);\n      urlListAdapter.toggleEditMode();\n      viewAddItem.setVisibility(View.VISIBLE);\n      alertDialog.getButton(AlertDialog.BUTTON_POSITIVE).setText(R.string.finish);\n    }\n  }\n);\n  alertDialog.setOnShowListener(new DialogInterface.OnShowListener(){\n    @Override public void onShow(    final DialogInterface dialog){\n      final Button okButton=alertDialog.getButton(AlertDialog.BUTTON_POSITIVE);\n      okButton.setOnClickListener(new View.OnClickListener(){\n        @Override public void onClick(        View v){\n          if (okButton.getText().equals(context.getString(R.string.finish))) {\n            urlListAdapter.toggleNormalMode();\n            viewAddItem.setVisibility(View.GONE);\n            btnEdit.setVisibility(View.VISIBLE);\n            okButton.setText(R.string.close);\n          }\n else           if (okButton.getText().equals(context.getString(R.string.close))) {\n            urlListAdapter.persist();\n            listener.urlChanged(urlListAdapter.getCheckedUrl());\n            dialog.dismiss();\n          }\n        }\n      }\n);\n    }\n  }\n);\n  alertDialog.show();\n  alertDialog.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE | WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\n  alertDialog.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_VISIBLE);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 557,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 4242,
        "startLineNumber" : 36,
        "startColumnNumber" : 4,
        "endLineNumber" : 128,
        "endColumnNumber" : 5
      },
      "nodeContext" : "static void launch(final Context context,final UrlListAdapter urlListAdapter,final OnUrlChangedListener listener){\n  urlListAdapter.init();\n  final View view=LayoutInflater.from(context).inflate(R.layout.dialog_url,null);\n  ListView listView=(ListView)view.findViewById(R.id.listView);\n  listView.setAdapter(urlListAdapter);\n  listView.setOnItemClickListener(new AdapterView.OnItemClickListener(){\n    @Override public void onItemClick(    AdapterView<?> parent,    View view,    int position,    long id){\n      urlListAdapter.setChecked(position);\n    }\n  }\n);\n  final ImageButton btnAddItem=(ImageButton)view.findViewById(R.id.btn_add_item);\n  btnAddItem.setActivated(false);\n  final EditText textNewUrl=(EditText)view.findViewById(R.id.text_new_url);\n  textNewUrl.addTextChangedListener(new TextWatcher(){\n    @Override public void beforeTextChanged(    CharSequence s,    int start,    int count,    int after){\n    }\n    @Override public void onTextChanged(    CharSequence s,    int start,    int before,    int count){\n    }\n    @Override public void afterTextChanged(    Editable s){\n      btnAddItem.setActivated(Patterns.WEB_URL.matcher(s.toString()).matches());\n    }\n  }\n);\n  btnAddItem.setOnClickListener(new View.OnClickListener(){\n    @Override public void onClick(    View v){\n      if (btnAddItem.isActivated()) {\n        urlListAdapter.addNewItem(textNewUrl.getText().toString());\n        textNewUrl.setText(R.string.http_prefix);\n        textNewUrl.setSelection(textNewUrl.getText().length());\n      }\n else {\n        Toast.makeText(context,R.string.illegal_url,Toast.LENGTH_SHORT).show();\n      }\n    }\n  }\n);\n  AlertDialog.Builder builder=new AlertDialog.Builder(context);\n  builder.setTitle(R.string.set_custom_url);\n  builder.setCancelable(false);\n  builder.setView(view);\n  builder.setPositiveButton(R.string.close,null);\n  final AlertDialog alertDialog=builder.create();\n  final View viewAddItem=view.findViewById(R.id.add_item);\n  final Button btnEdit=(Button)view.findViewById(R.id.btn_edit);\n  btnEdit.setOnClickListener(new View.OnClickListener(){\n    @Override public void onClick(    View v){\n      btnEdit.setVisibility(View.INVISIBLE);\n      urlListAdapter.toggleEditMode();\n      viewAddItem.setVisibility(View.VISIBLE);\n      alertDialog.getButton(AlertDialog.BUTTON_POSITIVE).setText(R.string.finish);\n    }\n  }\n);\n  alertDialog.setOnShowListener(new DialogInterface.OnShowListener(){\n    @Override public void onShow(    final DialogInterface dialog){\n      final Button okButton=alertDialog.getButton(AlertDialog.BUTTON_POSITIVE);\n      okButton.setOnClickListener(new View.OnClickListener(){\n        @Override public void onClick(        View v){\n          if (okButton.getText().equals(context.getString(R.string.finish))) {\n            urlListAdapter.toggleNormalMode();\n            viewAddItem.setVisibility(View.GONE);\n            btnEdit.setVisibility(View.VISIBLE);\n            okButton.setText(R.string.close);\n          }\n else           if (okButton.getText().equals(context.getString(R.string.close))) {\n            urlListAdapter.persist();\n            listener.urlChanged(urlListAdapter.getCheckedUrl());\n            dialog.dismiss();\n          }\n        }\n      }\n);\n    }\n  }\n);\n  alertDialog.show();\n  alertDialog.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE | WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\n  alertDialog.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_VISIBLE);\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 576,
      "astHeight" : 21
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ClassInstanceCreation,type]",
      "nodePosition" : {
        "charLength" : 30,
        "startLineNumber" : 101,
        "startColumnNumber" : 42,
        "endLineNumber" : 101,
        "endColumnNumber" : 72
      },
      "nodeContext" : "DialogInterface.OnShowListener",
      "nodeType" : "SimpleType",
      "astNodeNumber" : 4,
      "astHeight" : 3
    },
    "tokenLength" : 2,
    "type" : "DialogInterface"
  } ],
  "positionList" : [ {
    "charLength" : 30,
    "startLineNumber" : 101,
    "startColumnNumber" : 42,
    "endLineNumber" : 101,
    "endColumnNumber" : 72
  } ],
  "layoutRelationDataList" : [ ]
}
{
  "id" : 264,
  "expression" : "Map.Entry",
  "projectName" : "apache@druid",
  "commitID" : "f6662b4893a9b8cc8a0ebb77e63daddde882148d",
  "filePath" : "/server/src/main/java/org/apache/druid/server/log/LoggingRequestLogger.java",
  "occurrences" : 2,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "Map.Entry",
    "nodeType" : "QualifiedName",
    "nodePosition" : {
      "charLength" : 9,
      "startLineNumber" : 72,
      "startColumnNumber" : 27,
      "endLineNumber" : 72,
      "endColumnNumber" : 36
    },
    "astNodeNumber" : 3,
    "astHeight" : 2,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ParameterizedType,type]",
      "nodePosition" : {
        "charLength" : 9,
        "startLineNumber" : 72,
        "startColumnNumber" : 27,
        "endLineNumber" : 72,
        "endColumnNumber" : 36
      },
      "nodeContext" : "Map.Entry",
      "nodeType" : "SimpleType",
      "astNodeNumber" : 4,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.ParameterizedType,typeArguments]",
      "nodePosition" : {
        "charLength" : 25,
        "startLineNumber" : 72,
        "startColumnNumber" : 27,
        "endLineNumber" : 72,
        "endColumnNumber" : 52
      },
      "nodeContext" : "Map.Entry<String,Object>",
      "nodeType" : "ParameterizedType",
      "astNodeNumber" : 9,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.VariableDeclarationStatement,type]",
      "nodePosition" : {
        "charLength" : 35,
        "startLineNumber" : 72,
        "startColumnNumber" : 18,
        "endLineNumber" : 72,
        "endColumnNumber" : 53
      },
      "nodeContext" : "Iterable<Map.Entry<String,Object>>",
      "nodeType" : "ParameterizedType",
      "astNodeNumber" : 12,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 260,
        "startLineNumber" : 72,
        "startColumnNumber" : 12,
        "endLineNumber" : 74,
        "endColumnNumber" : 96
      },
      "nodeContext" : "final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 30,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 466,
        "startLineNumber" : 71,
        "startColumnNumber" : 29,
        "endLineNumber" : 78,
        "endColumnNumber" : 11
      },
      "nodeContext" : "{\n  final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n  for (  Map.Entry<String,Object> entry : entries) {\n    MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 64,
      "astHeight" : 9
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 485,
        "startLineNumber" : 71,
        "startColumnNumber" : 10,
        "endLineNumber" : 78,
        "endColumnNumber" : 11
      },
      "nodeContext" : "if (setContextMDC) {\n  final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n  for (  Map.Entry<String,Object> entry : entries) {\n    MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 66,
      "astHeight" : 10
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.TryStatement,body]",
      "nodePosition" : {
        "charLength" : 1219,
        "startLineNumber" : 60,
        "startColumnNumber" : 12,
        "endLineNumber" : 79,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  final Query query=requestLogLine.getQuery();\n  MDC.put(\"queryId\",query.getId());\n  MDC.put(\"sqlQueryId\",StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));\n  MDC.put(\"dataSource\",String.join(\",\",query.getDataSource().getTableNames()));\n  MDC.put(\"queryType\",query.getType());\n  MDC.put(\"isNested\",String.valueOf(!(query.getDataSource() instanceof TableDataSource)));\n  MDC.put(\"hasFilters\",Boolean.toString(query.hasFilters()));\n  MDC.put(\"remoteAddr\",requestLogLine.getRemoteAddr());\n  MDC.put(\"duration\",query.getDuration().toString());\n  MDC.put(\"descending\",Boolean.toString(query.isDescending()));\n  if (setContextMDC) {\n    final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n    for (    Map.Entry<String,Object> entry : entries) {\n      MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 173,
      "astHeight" : 11
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1319,
        "startLineNumber" : 60,
        "startColumnNumber" : 8,
        "endLineNumber" : 82,
        "endColumnNumber" : 9
      },
      "nodeContext" : "try {\n  final Query query=requestLogLine.getQuery();\n  MDC.put(\"queryId\",query.getId());\n  MDC.put(\"sqlQueryId\",StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));\n  MDC.put(\"dataSource\",String.join(\",\",query.getDataSource().getTableNames()));\n  MDC.put(\"queryType\",query.getType());\n  MDC.put(\"isNested\",String.valueOf(!(query.getDataSource() instanceof TableDataSource)));\n  MDC.put(\"hasFilters\",Boolean.toString(query.hasFilters()));\n  MDC.put(\"remoteAddr\",requestLogLine.getRemoteAddr());\n  MDC.put(\"duration\",query.getDuration().toString());\n  MDC.put(\"descending\",Boolean.toString(query.isDescending()));\n  if (setContextMDC) {\n    final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n    for (    Map.Entry<String,Object> entry : entries) {\n      MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n    }\n  }\n}\n catch (RuntimeException re) {\n  LOG.error(re,\"Error preparing MDC\");\n}\n",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 186,
      "astHeight" : 12
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 1337,
        "startLineNumber" : 59,
        "startColumnNumber" : 18,
        "endLineNumber" : 83,
        "endColumnNumber" : 7
      },
      "nodeContext" : "{\n  try {\n    final Query query=requestLogLine.getQuery();\n    MDC.put(\"queryId\",query.getId());\n    MDC.put(\"sqlQueryId\",StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));\n    MDC.put(\"dataSource\",String.join(\",\",query.getDataSource().getTableNames()));\n    MDC.put(\"queryType\",query.getType());\n    MDC.put(\"isNested\",String.valueOf(!(query.getDataSource() instanceof TableDataSource)));\n    MDC.put(\"hasFilters\",Boolean.toString(query.hasFilters()));\n    MDC.put(\"remoteAddr\",requestLogLine.getRemoteAddr());\n    MDC.put(\"duration\",query.getDuration().toString());\n    MDC.put(\"descending\",Boolean.toString(query.isDescending()));\n    if (setContextMDC) {\n      final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n      for (      Map.Entry<String,Object> entry : entries) {\n        MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n      }\n    }\n  }\n catch (  RuntimeException re) {\n    LOG.error(re,\"Error preparing MDC\");\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 187,
      "astHeight" : 13
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1349,
        "startLineNumber" : 59,
        "startColumnNumber" : 6,
        "endLineNumber" : 83,
        "endColumnNumber" : 7
      },
      "nodeContext" : "if (setMDC) {\n  try {\n    final Query query=requestLogLine.getQuery();\n    MDC.put(\"queryId\",query.getId());\n    MDC.put(\"sqlQueryId\",StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));\n    MDC.put(\"dataSource\",String.join(\",\",query.getDataSource().getTableNames()));\n    MDC.put(\"queryType\",query.getType());\n    MDC.put(\"isNested\",String.valueOf(!(query.getDataSource() instanceof TableDataSource)));\n    MDC.put(\"hasFilters\",Boolean.toString(query.hasFilters()));\n    MDC.put(\"remoteAddr\",requestLogLine.getRemoteAddr());\n    MDC.put(\"duration\",query.getDuration().toString());\n    MDC.put(\"descending\",Boolean.toString(query.isDescending()));\n    if (setContextMDC) {\n      final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n      for (      Map.Entry<String,Object> entry : entries) {\n        MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n      }\n    }\n  }\n catch (  RuntimeException re) {\n    LOG.error(re,\"Error preparing MDC\");\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 189,
      "astHeight" : 14
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.TryStatement,body]",
      "nodePosition" : {
        "charLength" : 1491,
        "startLineNumber" : 58,
        "startColumnNumber" : 8,
        "endLineNumber" : 88,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  if (setMDC) {\n    try {\n      final Query query=requestLogLine.getQuery();\n      MDC.put(\"queryId\",query.getId());\n      MDC.put(\"sqlQueryId\",StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));\n      MDC.put(\"dataSource\",String.join(\",\",query.getDataSource().getTableNames()));\n      MDC.put(\"queryType\",query.getType());\n      MDC.put(\"isNested\",String.valueOf(!(query.getDataSource() instanceof TableDataSource)));\n      MDC.put(\"hasFilters\",Boolean.toString(query.hasFilters()));\n      MDC.put(\"remoteAddr\",requestLogLine.getRemoteAddr());\n      MDC.put(\"duration\",query.getDuration().toString());\n      MDC.put(\"descending\",Boolean.toString(query.isDescending()));\n      if (setContextMDC) {\n        final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n        for (        Map.Entry<String,Object> entry : entries) {\n          MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n        }\n      }\n    }\n catch (    RuntimeException re) {\n      LOG.error(re,\"Error preparing MDC\");\n    }\n  }\n  final String line=requestLogLine.getNativeQueryLine(mapper);\n  LOG.info(\"%s\",line);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 206,
      "astHeight" : 15
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1654,
        "startLineNumber" : 58,
        "startColumnNumber" : 4,
        "endLineNumber" : 97,
        "endColumnNumber" : 5
      },
      "nodeContext" : "try {\n  if (setMDC) {\n    try {\n      final Query query=requestLogLine.getQuery();\n      MDC.put(\"queryId\",query.getId());\n      MDC.put(\"sqlQueryId\",StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));\n      MDC.put(\"dataSource\",String.join(\",\",query.getDataSource().getTableNames()));\n      MDC.put(\"queryType\",query.getType());\n      MDC.put(\"isNested\",String.valueOf(!(query.getDataSource() instanceof TableDataSource)));\n      MDC.put(\"hasFilters\",Boolean.toString(query.hasFilters()));\n      MDC.put(\"remoteAddr\",requestLogLine.getRemoteAddr());\n      MDC.put(\"duration\",query.getDuration().toString());\n      MDC.put(\"descending\",Boolean.toString(query.isDescending()));\n      if (setContextMDC) {\n        final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n        for (        Map.Entry<String,Object> entry : entries) {\n          MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n        }\n      }\n    }\n catch (    RuntimeException re) {\n      LOG.error(re,\"Error preparing MDC\");\n    }\n  }\n  final String line=requestLogLine.getNativeQueryLine(mapper);\n  LOG.info(\"%s\",line);\n}\n  finally {\n  if (setMDC) {\n    if (mdc != null) {\n      MDC.setContextMap(mdc);\n    }\n else {\n      MDC.clear();\n    }\n  }\n}\n",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 226,
      "astHeight" : 16
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 1790,
        "startLineNumber" : 55,
        "startColumnNumber" : 2,
        "endLineNumber" : 98,
        "endColumnNumber" : 3
      },
      "nodeContext" : "{\n  final Map mdc=MDC.getCopyOfContextMap();\n  try {\n    if (setMDC) {\n      try {\n        final Query query=requestLogLine.getQuery();\n        MDC.put(\"queryId\",query.getId());\n        MDC.put(\"sqlQueryId\",StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));\n        MDC.put(\"dataSource\",String.join(\",\",query.getDataSource().getTableNames()));\n        MDC.put(\"queryType\",query.getType());\n        MDC.put(\"isNested\",String.valueOf(!(query.getDataSource() instanceof TableDataSource)));\n        MDC.put(\"hasFilters\",Boolean.toString(query.hasFilters()));\n        MDC.put(\"remoteAddr\",requestLogLine.getRemoteAddr());\n        MDC.put(\"duration\",query.getDuration().toString());\n        MDC.put(\"descending\",Boolean.toString(query.isDescending()));\n        if (setContextMDC) {\n          final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n          for (          Map.Entry<String,Object> entry : entries) {\n            MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n          }\n        }\n      }\n catch (      RuntimeException re) {\n        LOG.error(re,\"Error preparing MDC\");\n      }\n    }\n    final String line=requestLogLine.getNativeQueryLine(mapper);\n    LOG.info(\"%s\",line);\n  }\n  finally {\n    if (setMDC) {\n      if (mdc != null) {\n        MDC.setContextMap(mdc);\n      }\n else {\n        MDC.clear();\n      }\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 236,
      "astHeight" : 17
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 1881,
        "startLineNumber" : 53,
        "startColumnNumber" : 2,
        "endLineNumber" : 98,
        "endColumnNumber" : 3
      },
      "nodeContext" : "@Override public void logNativeQuery(RequestLogLine requestLogLine) throws IOException {\n  final Map mdc=MDC.getCopyOfContextMap();\n  try {\n    if (setMDC) {\n      try {\n        final Query query=requestLogLine.getQuery();\n        MDC.put(\"queryId\",query.getId());\n        MDC.put(\"sqlQueryId\",StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));\n        MDC.put(\"dataSource\",String.join(\",\",query.getDataSource().getTableNames()));\n        MDC.put(\"queryType\",query.getType());\n        MDC.put(\"isNested\",String.valueOf(!(query.getDataSource() instanceof TableDataSource)));\n        MDC.put(\"hasFilters\",Boolean.toString(query.hasFilters()));\n        MDC.put(\"remoteAddr\",requestLogLine.getRemoteAddr());\n        MDC.put(\"duration\",query.getDuration().toString());\n        MDC.put(\"descending\",Boolean.toString(query.isDescending()));\n        if (setContextMDC) {\n          final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n          for (          Map.Entry<String,Object> entry : entries) {\n            MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n          }\n        }\n      }\n catch (      RuntimeException re) {\n        LOG.error(re,\"Error preparing MDC\");\n      }\n    }\n    final String line=requestLogLine.getNativeQueryLine(mapper);\n    LOG.info(\"%s\",line);\n  }\n  finally {\n    if (setMDC) {\n      if (mdc != null) {\n        MDC.setContextMap(mdc);\n      }\n else {\n        MDC.clear();\n      }\n    }\n  }\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 248,
      "astHeight" : 18
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.VariableDeclarationStatement,type]",
      "nodePosition" : {
        "charLength" : 35,
        "startLineNumber" : 72,
        "startColumnNumber" : 18,
        "endLineNumber" : 72,
        "endColumnNumber" : 53
      },
      "nodeContext" : "Iterable<Map.Entry<String,Object>>",
      "nodeType" : "ParameterizedType",
      "astNodeNumber" : 12,
      "astHeight" : 5
    },
    "tokenLength" : 2,
    "type" : "java.util.Map.Entry<java.lang.String,java.lang.Object>"
  }, {
    "nodeContext" : "Map.Entry",
    "nodeType" : "QualifiedName",
    "nodePosition" : {
      "charLength" : 9,
      "startLineNumber" : 75,
      "startColumnNumber" : 17,
      "endLineNumber" : 75,
      "endColumnNumber" : 26
    },
    "astNodeNumber" : 3,
    "astHeight" : 2,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ParameterizedType,type]",
      "nodePosition" : {
        "charLength" : 9,
        "startLineNumber" : 75,
        "startColumnNumber" : 17,
        "endLineNumber" : 75,
        "endColumnNumber" : 26
      },
      "nodeContext" : "Map.Entry",
      "nodeType" : "SimpleType",
      "astNodeNumber" : 4,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.SingleVariableDeclaration,type]",
      "nodePosition" : {
        "charLength" : 25,
        "startLineNumber" : 75,
        "startColumnNumber" : 17,
        "endLineNumber" : 75,
        "endColumnNumber" : 42
      },
      "nodeContext" : "Map.Entry<String,Object>",
      "nodeType" : "ParameterizedType",
      "astNodeNumber" : 9,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.EnhancedForStatement,parameter]",
      "nodePosition" : {
        "charLength" : 31,
        "startLineNumber" : 75,
        "startColumnNumber" : 17,
        "endLineNumber" : 75,
        "endColumnNumber" : 48
      },
      "nodeContext" : "Map.Entry<String,Object> entry",
      "nodeType" : "SingleVariableDeclaration",
      "astNodeNumber" : 11,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 167,
        "startLineNumber" : 75,
        "startColumnNumber" : 12,
        "endLineNumber" : 77,
        "endColumnNumber" : 13
      },
      "nodeContext" : "for (Map.Entry<String,Object> entry : entries) {\n  MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n}\n",
      "nodeType" : "EnhancedForStatement",
      "astNodeNumber" : 33,
      "astHeight" : 8
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 466,
        "startLineNumber" : 71,
        "startColumnNumber" : 29,
        "endLineNumber" : 78,
        "endColumnNumber" : 11
      },
      "nodeContext" : "{\n  final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n  for (  Map.Entry<String,Object> entry : entries) {\n    MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 64,
      "astHeight" : 9
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 485,
        "startLineNumber" : 71,
        "startColumnNumber" : 10,
        "endLineNumber" : 78,
        "endColumnNumber" : 11
      },
      "nodeContext" : "if (setContextMDC) {\n  final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n  for (  Map.Entry<String,Object> entry : entries) {\n    MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 66,
      "astHeight" : 10
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.TryStatement,body]",
      "nodePosition" : {
        "charLength" : 1219,
        "startLineNumber" : 60,
        "startColumnNumber" : 12,
        "endLineNumber" : 79,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  final Query query=requestLogLine.getQuery();\n  MDC.put(\"queryId\",query.getId());\n  MDC.put(\"sqlQueryId\",StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));\n  MDC.put(\"dataSource\",String.join(\",\",query.getDataSource().getTableNames()));\n  MDC.put(\"queryType\",query.getType());\n  MDC.put(\"isNested\",String.valueOf(!(query.getDataSource() instanceof TableDataSource)));\n  MDC.put(\"hasFilters\",Boolean.toString(query.hasFilters()));\n  MDC.put(\"remoteAddr\",requestLogLine.getRemoteAddr());\n  MDC.put(\"duration\",query.getDuration().toString());\n  MDC.put(\"descending\",Boolean.toString(query.isDescending()));\n  if (setContextMDC) {\n    final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n    for (    Map.Entry<String,Object> entry : entries) {\n      MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 173,
      "astHeight" : 11
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1319,
        "startLineNumber" : 60,
        "startColumnNumber" : 8,
        "endLineNumber" : 82,
        "endColumnNumber" : 9
      },
      "nodeContext" : "try {\n  final Query query=requestLogLine.getQuery();\n  MDC.put(\"queryId\",query.getId());\n  MDC.put(\"sqlQueryId\",StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));\n  MDC.put(\"dataSource\",String.join(\",\",query.getDataSource().getTableNames()));\n  MDC.put(\"queryType\",query.getType());\n  MDC.put(\"isNested\",String.valueOf(!(query.getDataSource() instanceof TableDataSource)));\n  MDC.put(\"hasFilters\",Boolean.toString(query.hasFilters()));\n  MDC.put(\"remoteAddr\",requestLogLine.getRemoteAddr());\n  MDC.put(\"duration\",query.getDuration().toString());\n  MDC.put(\"descending\",Boolean.toString(query.isDescending()));\n  if (setContextMDC) {\n    final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n    for (    Map.Entry<String,Object> entry : entries) {\n      MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n    }\n  }\n}\n catch (RuntimeException re) {\n  LOG.error(re,\"Error preparing MDC\");\n}\n",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 186,
      "astHeight" : 12
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 1337,
        "startLineNumber" : 59,
        "startColumnNumber" : 18,
        "endLineNumber" : 83,
        "endColumnNumber" : 7
      },
      "nodeContext" : "{\n  try {\n    final Query query=requestLogLine.getQuery();\n    MDC.put(\"queryId\",query.getId());\n    MDC.put(\"sqlQueryId\",StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));\n    MDC.put(\"dataSource\",String.join(\",\",query.getDataSource().getTableNames()));\n    MDC.put(\"queryType\",query.getType());\n    MDC.put(\"isNested\",String.valueOf(!(query.getDataSource() instanceof TableDataSource)));\n    MDC.put(\"hasFilters\",Boolean.toString(query.hasFilters()));\n    MDC.put(\"remoteAddr\",requestLogLine.getRemoteAddr());\n    MDC.put(\"duration\",query.getDuration().toString());\n    MDC.put(\"descending\",Boolean.toString(query.isDescending()));\n    if (setContextMDC) {\n      final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n      for (      Map.Entry<String,Object> entry : entries) {\n        MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n      }\n    }\n  }\n catch (  RuntimeException re) {\n    LOG.error(re,\"Error preparing MDC\");\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 187,
      "astHeight" : 13
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1349,
        "startLineNumber" : 59,
        "startColumnNumber" : 6,
        "endLineNumber" : 83,
        "endColumnNumber" : 7
      },
      "nodeContext" : "if (setMDC) {\n  try {\n    final Query query=requestLogLine.getQuery();\n    MDC.put(\"queryId\",query.getId());\n    MDC.put(\"sqlQueryId\",StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));\n    MDC.put(\"dataSource\",String.join(\",\",query.getDataSource().getTableNames()));\n    MDC.put(\"queryType\",query.getType());\n    MDC.put(\"isNested\",String.valueOf(!(query.getDataSource() instanceof TableDataSource)));\n    MDC.put(\"hasFilters\",Boolean.toString(query.hasFilters()));\n    MDC.put(\"remoteAddr\",requestLogLine.getRemoteAddr());\n    MDC.put(\"duration\",query.getDuration().toString());\n    MDC.put(\"descending\",Boolean.toString(query.isDescending()));\n    if (setContextMDC) {\n      final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n      for (      Map.Entry<String,Object> entry : entries) {\n        MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n      }\n    }\n  }\n catch (  RuntimeException re) {\n    LOG.error(re,\"Error preparing MDC\");\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 189,
      "astHeight" : 14
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.TryStatement,body]",
      "nodePosition" : {
        "charLength" : 1491,
        "startLineNumber" : 58,
        "startColumnNumber" : 8,
        "endLineNumber" : 88,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  if (setMDC) {\n    try {\n      final Query query=requestLogLine.getQuery();\n      MDC.put(\"queryId\",query.getId());\n      MDC.put(\"sqlQueryId\",StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));\n      MDC.put(\"dataSource\",String.join(\",\",query.getDataSource().getTableNames()));\n      MDC.put(\"queryType\",query.getType());\n      MDC.put(\"isNested\",String.valueOf(!(query.getDataSource() instanceof TableDataSource)));\n      MDC.put(\"hasFilters\",Boolean.toString(query.hasFilters()));\n      MDC.put(\"remoteAddr\",requestLogLine.getRemoteAddr());\n      MDC.put(\"duration\",query.getDuration().toString());\n      MDC.put(\"descending\",Boolean.toString(query.isDescending()));\n      if (setContextMDC) {\n        final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n        for (        Map.Entry<String,Object> entry : entries) {\n          MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n        }\n      }\n    }\n catch (    RuntimeException re) {\n      LOG.error(re,\"Error preparing MDC\");\n    }\n  }\n  final String line=requestLogLine.getNativeQueryLine(mapper);\n  LOG.info(\"%s\",line);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 206,
      "astHeight" : 15
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1654,
        "startLineNumber" : 58,
        "startColumnNumber" : 4,
        "endLineNumber" : 97,
        "endColumnNumber" : 5
      },
      "nodeContext" : "try {\n  if (setMDC) {\n    try {\n      final Query query=requestLogLine.getQuery();\n      MDC.put(\"queryId\",query.getId());\n      MDC.put(\"sqlQueryId\",StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));\n      MDC.put(\"dataSource\",String.join(\",\",query.getDataSource().getTableNames()));\n      MDC.put(\"queryType\",query.getType());\n      MDC.put(\"isNested\",String.valueOf(!(query.getDataSource() instanceof TableDataSource)));\n      MDC.put(\"hasFilters\",Boolean.toString(query.hasFilters()));\n      MDC.put(\"remoteAddr\",requestLogLine.getRemoteAddr());\n      MDC.put(\"duration\",query.getDuration().toString());\n      MDC.put(\"descending\",Boolean.toString(query.isDescending()));\n      if (setContextMDC) {\n        final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n        for (        Map.Entry<String,Object> entry : entries) {\n          MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n        }\n      }\n    }\n catch (    RuntimeException re) {\n      LOG.error(re,\"Error preparing MDC\");\n    }\n  }\n  final String line=requestLogLine.getNativeQueryLine(mapper);\n  LOG.info(\"%s\",line);\n}\n  finally {\n  if (setMDC) {\n    if (mdc != null) {\n      MDC.setContextMap(mdc);\n    }\n else {\n      MDC.clear();\n    }\n  }\n}\n",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 226,
      "astHeight" : 16
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 1790,
        "startLineNumber" : 55,
        "startColumnNumber" : 2,
        "endLineNumber" : 98,
        "endColumnNumber" : 3
      },
      "nodeContext" : "{\n  final Map mdc=MDC.getCopyOfContextMap();\n  try {\n    if (setMDC) {\n      try {\n        final Query query=requestLogLine.getQuery();\n        MDC.put(\"queryId\",query.getId());\n        MDC.put(\"sqlQueryId\",StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));\n        MDC.put(\"dataSource\",String.join(\",\",query.getDataSource().getTableNames()));\n        MDC.put(\"queryType\",query.getType());\n        MDC.put(\"isNested\",String.valueOf(!(query.getDataSource() instanceof TableDataSource)));\n        MDC.put(\"hasFilters\",Boolean.toString(query.hasFilters()));\n        MDC.put(\"remoteAddr\",requestLogLine.getRemoteAddr());\n        MDC.put(\"duration\",query.getDuration().toString());\n        MDC.put(\"descending\",Boolean.toString(query.isDescending()));\n        if (setContextMDC) {\n          final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n          for (          Map.Entry<String,Object> entry : entries) {\n            MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n          }\n        }\n      }\n catch (      RuntimeException re) {\n        LOG.error(re,\"Error preparing MDC\");\n      }\n    }\n    final String line=requestLogLine.getNativeQueryLine(mapper);\n    LOG.info(\"%s\",line);\n  }\n  finally {\n    if (setMDC) {\n      if (mdc != null) {\n        MDC.setContextMap(mdc);\n      }\n else {\n        MDC.clear();\n      }\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 236,
      "astHeight" : 17
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 1881,
        "startLineNumber" : 53,
        "startColumnNumber" : 2,
        "endLineNumber" : 98,
        "endColumnNumber" : 3
      },
      "nodeContext" : "@Override public void logNativeQuery(RequestLogLine requestLogLine) throws IOException {\n  final Map mdc=MDC.getCopyOfContextMap();\n  try {\n    if (setMDC) {\n      try {\n        final Query query=requestLogLine.getQuery();\n        MDC.put(\"queryId\",query.getId());\n        MDC.put(\"sqlQueryId\",StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));\n        MDC.put(\"dataSource\",String.join(\",\",query.getDataSource().getTableNames()));\n        MDC.put(\"queryType\",query.getType());\n        MDC.put(\"isNested\",String.valueOf(!(query.getDataSource() instanceof TableDataSource)));\n        MDC.put(\"hasFilters\",Boolean.toString(query.hasFilters()));\n        MDC.put(\"remoteAddr\",requestLogLine.getRemoteAddr());\n        MDC.put(\"duration\",query.getDuration().toString());\n        MDC.put(\"descending\",Boolean.toString(query.isDescending()));\n        if (setContextMDC) {\n          final Iterable<Map.Entry<String,Object>> entries=query.getContext() == null ? ImmutableList.of() : query.getContext().entrySet();\n          for (          Map.Entry<String,Object> entry : entries) {\n            MDC.put(entry.getKey(),entry.getValue() == null ? \"NULL\" : entry.getValue().toString());\n          }\n        }\n      }\n catch (      RuntimeException re) {\n        LOG.error(re,\"Error preparing MDC\");\n      }\n    }\n    final String line=requestLogLine.getNativeQueryLine(mapper);\n    LOG.info(\"%s\",line);\n  }\n  finally {\n    if (setMDC) {\n      if (mdc != null) {\n        MDC.setContextMap(mdc);\n      }\n else {\n        MDC.clear();\n      }\n    }\n  }\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 248,
      "astHeight" : 18
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.EnhancedForStatement,parameter]",
      "nodePosition" : {
        "charLength" : 31,
        "startLineNumber" : 75,
        "startColumnNumber" : 17,
        "endLineNumber" : 75,
        "endColumnNumber" : 48
      },
      "nodeContext" : "Map.Entry<String,Object> entry",
      "nodeType" : "SingleVariableDeclaration",
      "astNodeNumber" : 11,
      "astHeight" : 5
    },
    "tokenLength" : 2,
    "type" : "java.util.Map.Entry<java.lang.String,java.lang.Object>"
  } ],
  "positionList" : [ {
    "charLength" : 9,
    "startLineNumber" : 72,
    "startColumnNumber" : 27,
    "endLineNumber" : 72,
    "endColumnNumber" : 36
  }, {
    "charLength" : 9,
    "startLineNumber" : 75,
    "startColumnNumber" : 17,
    "endLineNumber" : 75,
    "endColumnNumber" : 26
  } ],
  "layoutRelationDataList" : [ {
    "firstKey" : 0,
    "secondKey" : 1,
    "layout" : 4
  }, {
    "firstKey" : 1,
    "secondKey" : 0,
    "layout" : 4
  } ]
}
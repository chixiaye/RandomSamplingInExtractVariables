{
  "id" : 218,
  "expression" : "\"Using where\".equals(rs.getString(\"Extra\"))",
  "projectName" : "baomidou@mybatis-plus",
  "commitID" : "7815611a659da4cc8d5443f5ef4c10ca0d937582",
  "filePath" : "/mybatis-plus-core/src/main/java/com/baomidou/mybatisplus/plugins/SqlExplainInterceptor.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "\"Using where\".equals(rs.getString(\"Extra\"))",
    "nodeType" : "MethodInvocation",
    "nodePosition" : {
      "charLength" : 43,
      "startLineNumber" : 120,
      "startColumnNumber" : 25,
      "endLineNumber" : 120,
      "endColumnNumber" : 68
    },
    "astNodeNumber" : 7,
    "astHeight" : 3,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 44,
        "startLineNumber" : 120,
        "startColumnNumber" : 24,
        "endLineNumber" : 120,
        "endColumnNumber" : 68
      },
      "nodeContext" : "!\"Using where\".equals(rs.getString(\"Extra\"))",
      "nodeType" : "PrefixExpression",
      "astNodeNumber" : 8,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 314,
        "startLineNumber" : 120,
        "startColumnNumber" : 20,
        "endLineNumber" : 125,
        "endColumnNumber" : 21
      },
      "nodeContext" : "if (!\"Using where\".equals(rs.getString(\"Extra\"))) {\n  if (this.isStopProceed()) {\n    throw new MybatisPlusException(\"Error: Full table operation is prohibited. SQL: \" + boundSql.getSql());\n  }\n  break;\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 25,
      "astHeight" : 9
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.WhileStatement,body]",
      "nodePosition" : {
        "charLength" : 354,
        "startLineNumber" : 119,
        "startColumnNumber" : 34,
        "endLineNumber" : 126,
        "endColumnNumber" : 17
      },
      "nodeContext" : "{\n  if (!\"Using where\".equals(rs.getString(\"Extra\"))) {\n    if (this.isStopProceed()) {\n      throw new MybatisPlusException(\"Error: Full table operation is prohibited. SQL: \" + boundSql.getSql());\n    }\n    break;\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 26,
      "astHeight" : 10
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 372,
        "startLineNumber" : 119,
        "startColumnNumber" : 16,
        "endLineNumber" : 126,
        "endColumnNumber" : 17
      },
      "nodeContext" : "while (rs.next()) {\n  if (!\"Using where\".equals(rs.getString(\"Extra\"))) {\n    if (this.isStopProceed()) {\n      throw new MybatisPlusException(\"Error: Full table operation is prohibited. SQL: \" + boundSql.getSql());\n    }\n    break;\n  }\n}\n",
      "nodeType" : "WhileStatement",
      "astNodeNumber" : 30,
      "astHeight" : 11
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.TryStatement,body]",
      "nodePosition" : {
        "charLength" : 404,
        "startLineNumber" : 118,
        "startColumnNumber" : 53,
        "endLineNumber" : 127,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  while (rs.next()) {\n    if (!\"Using where\".equals(rs.getString(\"Extra\"))) {\n      if (this.isStopProceed()) {\n        throw new MybatisPlusException(\"Error: Full table operation is prohibited. SQL: \" + boundSql.getSql());\n      }\n      break;\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 31,
      "astHeight" : 12
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 445,
        "startLineNumber" : 118,
        "startColumnNumber" : 12,
        "endLineNumber" : 127,
        "endColumnNumber" : 13
      },
      "nodeContext" : "try (ResultSet rs=stmt.executeQuery()){\n  while (rs.next()) {\n    if (!\"Using where\".equals(rs.getString(\"Extra\"))) {\n      if (this.isStopProceed()) {\n        throw new MybatisPlusException(\"Error: Full table operation is prohibited. SQL: \" + boundSql.getSql());\n      }\n      break;\n    }\n  }\n}\n ",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 40,
      "astHeight" : 13
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.TryStatement,body]",
      "nodePosition" : {
        "charLength" : 512,
        "startLineNumber" : 116,
        "startColumnNumber" : 79,
        "endLineNumber" : 130,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  handler.setParameters(stmt);\n  try (ResultSet rs=stmt.executeQuery()){\n    while (rs.next()) {\n      if (!\"Using where\".equals(rs.getString(\"Extra\"))) {\n        if (this.isStopProceed()) {\n          throw new MybatisPlusException(\"Error: Full table operation is prohibited. SQL: \" + boundSql.getSql());\n        }\n        break;\n      }\n    }\n  }\n }\n",
      "nodeType" : "Block",
      "astNodeNumber" : 46,
      "astHeight" : 14
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 662,
        "startLineNumber" : 116,
        "startColumnNumber" : 8,
        "endLineNumber" : 132,
        "endColumnNumber" : 9
      },
      "nodeContext" : "try (PreparedStatement stmt=connection.prepareStatement(sqlExplain)){\n  handler.setParameters(stmt);\n  try (ResultSet rs=stmt.executeQuery()){\n    while (rs.next()) {\n      if (!\"Using where\".equals(rs.getString(\"Extra\"))) {\n        if (this.isStopProceed()) {\n          throw new MybatisPlusException(\"Error: Full table operation is prohibited. SQL: \" + boundSql.getSql());\n        }\n        break;\n      }\n    }\n  }\n }\n catch (Exception e) {\n  throw new MybatisPlusException(e);\n}\n",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 67,
      "astHeight" : 15
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 1436,
        "startLineNumber" : 105,
        "startColumnNumber" : 71,
        "endLineNumber" : 133,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  StringBuilder explain=new StringBuilder(\"EXPLAIN \");\n  explain.append(boundSql.getSql());\n  String sqlExplain=explain.toString();\n  StaticSqlSource sqlsource=new StaticSqlSource(configuration,sqlExplain,boundSql.getParameterMappings());\n  MappedStatement.Builder builder=new MappedStatement.Builder(configuration,\"explain_sql\",sqlsource,SqlCommandType.SELECT);\n  builder.resultMaps(mappedStatement.getResultMaps()).resultSetType(mappedStatement.getResultSetType()).statementType(mappedStatement.getStatementType());\n  MappedStatement queryStatement=builder.build();\n  DefaultParameterHandler handler=new DefaultParameterHandler(queryStatement,parameter,boundSql);\n  try (PreparedStatement stmt=connection.prepareStatement(sqlExplain)){\n    handler.setParameters(stmt);\n    try (ResultSet rs=stmt.executeQuery()){\n      while (rs.next()) {\n        if (!\"Using where\".equals(rs.getString(\"Extra\"))) {\n          if (this.isStopProceed()) {\n            throw new MybatisPlusException(\"Error: Full table operation is prohibited. SQL: \" + boundSql.getSql());\n          }\n          break;\n        }\n      }\n    }\n   }\n catch (  Exception e) {\n    throw new MybatisPlusException(e);\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 159,
      "astHeight" : 16
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 1848,
        "startLineNumber" : 91,
        "startColumnNumber" : 4,
        "endLineNumber" : 133,
        "endColumnNumber" : 5
      },
      "nodeContext" : "/** \n * <p> 判断是否执行 SQL </p>\n * @param configuration\n * @param mappedStatement\n * @param boundSql\n * @param connection\n * @param parameter\n * @return\n * @throws Exception\n */\nprotected void sqlExplain(Configuration configuration,MappedStatement mappedStatement,BoundSql boundSql,Connection connection,Object parameter){\n  StringBuilder explain=new StringBuilder(\"EXPLAIN \");\n  explain.append(boundSql.getSql());\n  String sqlExplain=explain.toString();\n  StaticSqlSource sqlsource=new StaticSqlSource(configuration,sqlExplain,boundSql.getParameterMappings());\n  MappedStatement.Builder builder=new MappedStatement.Builder(configuration,\"explain_sql\",sqlsource,SqlCommandType.SELECT);\n  builder.resultMaps(mappedStatement.getResultMaps()).resultSetType(mappedStatement.getResultSetType()).statementType(mappedStatement.getStatementType());\n  MappedStatement queryStatement=builder.build();\n  DefaultParameterHandler handler=new DefaultParameterHandler(queryStatement,parameter,boundSql);\n  try (PreparedStatement stmt=connection.prepareStatement(sqlExplain)){\n    handler.setParameters(stmt);\n    try (ResultSet rs=stmt.executeQuery()){\n      while (rs.next()) {\n        if (!\"Using where\".equals(rs.getString(\"Extra\"))) {\n          if (this.isStopProceed()) {\n            throw new MybatisPlusException(\"Error: Full table operation is prohibited. SQL: \" + boundSql.getSql());\n          }\n          break;\n        }\n      }\n    }\n   }\n catch (  Exception e) {\n    throw new MybatisPlusException(e);\n  }\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 184,
      "astHeight" : 17
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 44,
        "startLineNumber" : 120,
        "startColumnNumber" : 24,
        "endLineNumber" : 120,
        "endColumnNumber" : 68
      },
      "nodeContext" : "!\"Using where\".equals(rs.getString(\"Extra\"))",
      "nodeType" : "PrefixExpression",
      "astNodeNumber" : 8,
      "astHeight" : 4
    },
    "tokenLength" : 6,
    "type" : "boolean"
  } ],
  "positionList" : [ {
    "charLength" : 43,
    "startLineNumber" : 120,
    "startColumnNumber" : 25,
    "endLineNumber" : 120,
    "endColumnNumber" : 68
  } ],
  "layoutRelationDataList" : [ ]
}
{
  "id" : 168,
  "expression" : "builder.mBitmapMemoryCacheTrimStrategy == null ? new BitmapMemoryCacheTrimStrategy() : builder.mBitmapMemoryCacheTrimStrategy",
  "projectName" : "facebook@fresco",
  "commitID" : "22468d5b520df9b51572a6388a34e7f6bd5a22c1",
  "filePath" : "/imagepipeline/src/main/java/com/facebook/imagepipeline/core/ImagePipelineConfig.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "builder.mBitmapMemoryCacheTrimStrategy == null ? new BitmapMemoryCacheTrimStrategy() : builder.mBitmapMemoryCacheTrimStrategy",
    "nodeType" : "ConditionalExpression",
    "nodePosition" : {
      "charLength" : 149,
      "startLineNumber" : 126,
      "startColumnNumber" : 8,
      "endLineNumber" : 128,
      "endColumnNumber" : 52
    },
    "astNodeNumber" : 12,
    "astHeight" : 4,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 190,
        "startLineNumber" : 125,
        "startColumnNumber" : 4,
        "endLineNumber" : 128,
        "endColumnNumber" : 52
      },
      "nodeContext" : "mBitmapMemoryCacheTrimStrategy=builder.mBitmapMemoryCacheTrimStrategy == null ? new BitmapMemoryCacheTrimStrategy() : builder.mBitmapMemoryCacheTrimStrategy",
      "nodeType" : "Assignment",
      "astNodeNumber" : 14,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 191,
        "startLineNumber" : 125,
        "startColumnNumber" : 4,
        "endLineNumber" : 128,
        "endColumnNumber" : 53
      },
      "nodeContext" : "mBitmapMemoryCacheTrimStrategy=builder.mBitmapMemoryCacheTrimStrategy == null ? new BitmapMemoryCacheTrimStrategy() : builder.mBitmapMemoryCacheTrimStrategy;\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 15,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 5735,
        "startLineNumber" : 114,
        "startColumnNumber" : 47,
        "endLineNumber" : 236,
        "endColumnNumber" : 3
      },
      "nodeContext" : "{\n  if (FrescoSystrace.isTracing()) {\n    FrescoSystrace.beginSection(\"ImagePipelineConfig()\");\n  }\n  mImagePipelineExperiments=builder.mExperimentsBuilder.build();\n  mBitmapMemoryCacheParamsSupplier=builder.mBitmapMemoryCacheParamsSupplier == null ? new DefaultBitmapMemoryCacheParamsSupplier((ActivityManager)builder.mContext.getSystemService(Context.ACTIVITY_SERVICE)) : builder.mBitmapMemoryCacheParamsSupplier;\n  mBitmapMemoryCacheTrimStrategy=builder.mBitmapMemoryCacheTrimStrategy == null ? new BitmapMemoryCacheTrimStrategy() : builder.mBitmapMemoryCacheTrimStrategy;\n  mBitmapConfig=builder.mBitmapConfig == null ? Bitmap.Config.ARGB_8888 : builder.mBitmapConfig;\n  mCacheKeyFactory=builder.mCacheKeyFactory == null ? DefaultCacheKeyFactory.getInstance() : builder.mCacheKeyFactory;\n  mContext=Preconditions.checkNotNull(builder.mContext);\n  mFileCacheFactory=builder.mFileCacheFactory == null ? new DiskStorageCacheFactory(new DynamicDefaultDiskStorageFactory()) : builder.mFileCacheFactory;\n  mDownsampleEnabled=builder.mDownsampleEnabled;\n  mEncodedMemoryCacheParamsSupplier=builder.mEncodedMemoryCacheParamsSupplier == null ? new DefaultEncodedMemoryCacheParamsSupplier() : builder.mEncodedMemoryCacheParamsSupplier;\n  mImageCacheStatsTracker=builder.mImageCacheStatsTracker == null ? NoOpImageCacheStatsTracker.getInstance() : builder.mImageCacheStatsTracker;\n  mImageDecoder=builder.mImageDecoder;\n  mImageTranscoderFactory=getImageTranscoderFactory(builder);\n  mImageTranscoderType=builder.mImageTranscoderType;\n  mIsPrefetchEnabledSupplier=builder.mIsPrefetchEnabledSupplier == null ? new Supplier<Boolean>(){\n    @Override public Boolean get(){\n      return true;\n    }\n  }\n : builder.mIsPrefetchEnabledSupplier;\n  mMainDiskCacheConfig=builder.mMainDiskCacheConfig == null ? getDefaultMainDiskCacheConfig(builder.mContext) : builder.mMainDiskCacheConfig;\n  mMemoryTrimmableRegistry=builder.mMemoryTrimmableRegistry == null ? NoOpMemoryTrimmableRegistry.getInstance() : builder.mMemoryTrimmableRegistry;\n  mMemoryChunkType=getMemoryChunkType(builder,mImagePipelineExperiments);\n  mHttpNetworkTimeout=builder.mHttpConnectionTimeout < 0 ? HttpUrlConnectionNetworkFetcher.HTTP_DEFAULT_TIMEOUT : builder.mHttpConnectionTimeout;\n  if (FrescoSystrace.isTracing()) {\n    FrescoSystrace.beginSection(\"ImagePipelineConfig->mNetworkFetcher\");\n  }\n  mNetworkFetcher=builder.mNetworkFetcher == null ? new HttpUrlConnectionNetworkFetcher(mHttpNetworkTimeout) : builder.mNetworkFetcher;\n  if (FrescoSystrace.isTracing()) {\n    FrescoSystrace.endSection();\n  }\n  mPlatformBitmapFactory=builder.mPlatformBitmapFactory;\n  mPoolFactory=builder.mPoolFactory == null ? new PoolFactory(PoolConfig.newBuilder().build()) : builder.mPoolFactory;\n  mProgressiveJpegConfig=builder.mProgressiveJpegConfig == null ? new SimpleProgressiveJpegConfig() : builder.mProgressiveJpegConfig;\n  mRequestListeners=builder.mRequestListeners == null ? new HashSet<RequestListener>() : builder.mRequestListeners;\n  mRequestListener2s=builder.mRequestListener2s == null ? new HashSet<RequestListener2>() : builder.mRequestListener2s;\n  mResizeAndRotateEnabledForNetwork=builder.mResizeAndRotateEnabledForNetwork;\n  mSmallImageDiskCacheConfig=builder.mSmallImageDiskCacheConfig == null ? mMainDiskCacheConfig : builder.mSmallImageDiskCacheConfig;\n  mImageDecoderConfig=builder.mImageDecoderConfig;\n  int numCpuBoundThreads=mPoolFactory.getFlexByteArrayPoolMaxNumThreads();\n  mExecutorSupplier=builder.mExecutorSupplier == null ? new DefaultExecutorSupplier(numCpuBoundThreads) : builder.mExecutorSupplier;\n  mDiskCacheEnabled=builder.mDiskCacheEnabled;\n  mCallerContextVerifier=builder.mCallerContextVerifier;\n  mCloseableReferenceLeakTracker=builder.mCloseableReferenceLeakTracker;\n  mBitmapCache=builder.mBitmapMemoryCache;\n  mEncodedMemoryCache=builder.mEncodedMemoryCache;\n  WebpBitmapFactory webpBitmapFactory=mImagePipelineExperiments.getWebpBitmapFactory();\n  if (webpBitmapFactory != null) {\n    BitmapCreator bitmapCreator=new HoneycombBitmapCreator(getPoolFactory());\n    setWebpBitmapFactory(webpBitmapFactory,mImagePipelineExperiments,bitmapCreator);\n  }\n else {\n    if (mImagePipelineExperiments.isWebpSupportEnabled() && WebpSupportStatus.sIsWebpSupportRequired) {\n      webpBitmapFactory=WebpSupportStatus.loadWebpBitmapFactoryIfExists();\n      if (webpBitmapFactory != null) {\n        BitmapCreator bitmapCreator=new HoneycombBitmapCreator(getPoolFactory());\n        setWebpBitmapFactory(webpBitmapFactory,mImagePipelineExperiments,bitmapCreator);\n      }\n    }\n  }\n  if (FrescoSystrace.isTracing()) {\n    FrescoSystrace.endSection();\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 521,
      "astHeight" : 12
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 5780,
        "startLineNumber" : 114,
        "startColumnNumber" : 2,
        "endLineNumber" : 236,
        "endColumnNumber" : 3
      },
      "nodeContext" : "private ImagePipelineConfig(Builder builder){\n  if (FrescoSystrace.isTracing()) {\n    FrescoSystrace.beginSection(\"ImagePipelineConfig()\");\n  }\n  mImagePipelineExperiments=builder.mExperimentsBuilder.build();\n  mBitmapMemoryCacheParamsSupplier=builder.mBitmapMemoryCacheParamsSupplier == null ? new DefaultBitmapMemoryCacheParamsSupplier((ActivityManager)builder.mContext.getSystemService(Context.ACTIVITY_SERVICE)) : builder.mBitmapMemoryCacheParamsSupplier;\n  mBitmapMemoryCacheTrimStrategy=builder.mBitmapMemoryCacheTrimStrategy == null ? new BitmapMemoryCacheTrimStrategy() : builder.mBitmapMemoryCacheTrimStrategy;\n  mBitmapConfig=builder.mBitmapConfig == null ? Bitmap.Config.ARGB_8888 : builder.mBitmapConfig;\n  mCacheKeyFactory=builder.mCacheKeyFactory == null ? DefaultCacheKeyFactory.getInstance() : builder.mCacheKeyFactory;\n  mContext=Preconditions.checkNotNull(builder.mContext);\n  mFileCacheFactory=builder.mFileCacheFactory == null ? new DiskStorageCacheFactory(new DynamicDefaultDiskStorageFactory()) : builder.mFileCacheFactory;\n  mDownsampleEnabled=builder.mDownsampleEnabled;\n  mEncodedMemoryCacheParamsSupplier=builder.mEncodedMemoryCacheParamsSupplier == null ? new DefaultEncodedMemoryCacheParamsSupplier() : builder.mEncodedMemoryCacheParamsSupplier;\n  mImageCacheStatsTracker=builder.mImageCacheStatsTracker == null ? NoOpImageCacheStatsTracker.getInstance() : builder.mImageCacheStatsTracker;\n  mImageDecoder=builder.mImageDecoder;\n  mImageTranscoderFactory=getImageTranscoderFactory(builder);\n  mImageTranscoderType=builder.mImageTranscoderType;\n  mIsPrefetchEnabledSupplier=builder.mIsPrefetchEnabledSupplier == null ? new Supplier<Boolean>(){\n    @Override public Boolean get(){\n      return true;\n    }\n  }\n : builder.mIsPrefetchEnabledSupplier;\n  mMainDiskCacheConfig=builder.mMainDiskCacheConfig == null ? getDefaultMainDiskCacheConfig(builder.mContext) : builder.mMainDiskCacheConfig;\n  mMemoryTrimmableRegistry=builder.mMemoryTrimmableRegistry == null ? NoOpMemoryTrimmableRegistry.getInstance() : builder.mMemoryTrimmableRegistry;\n  mMemoryChunkType=getMemoryChunkType(builder,mImagePipelineExperiments);\n  mHttpNetworkTimeout=builder.mHttpConnectionTimeout < 0 ? HttpUrlConnectionNetworkFetcher.HTTP_DEFAULT_TIMEOUT : builder.mHttpConnectionTimeout;\n  if (FrescoSystrace.isTracing()) {\n    FrescoSystrace.beginSection(\"ImagePipelineConfig->mNetworkFetcher\");\n  }\n  mNetworkFetcher=builder.mNetworkFetcher == null ? new HttpUrlConnectionNetworkFetcher(mHttpNetworkTimeout) : builder.mNetworkFetcher;\n  if (FrescoSystrace.isTracing()) {\n    FrescoSystrace.endSection();\n  }\n  mPlatformBitmapFactory=builder.mPlatformBitmapFactory;\n  mPoolFactory=builder.mPoolFactory == null ? new PoolFactory(PoolConfig.newBuilder().build()) : builder.mPoolFactory;\n  mProgressiveJpegConfig=builder.mProgressiveJpegConfig == null ? new SimpleProgressiveJpegConfig() : builder.mProgressiveJpegConfig;\n  mRequestListeners=builder.mRequestListeners == null ? new HashSet<RequestListener>() : builder.mRequestListeners;\n  mRequestListener2s=builder.mRequestListener2s == null ? new HashSet<RequestListener2>() : builder.mRequestListener2s;\n  mResizeAndRotateEnabledForNetwork=builder.mResizeAndRotateEnabledForNetwork;\n  mSmallImageDiskCacheConfig=builder.mSmallImageDiskCacheConfig == null ? mMainDiskCacheConfig : builder.mSmallImageDiskCacheConfig;\n  mImageDecoderConfig=builder.mImageDecoderConfig;\n  int numCpuBoundThreads=mPoolFactory.getFlexByteArrayPoolMaxNumThreads();\n  mExecutorSupplier=builder.mExecutorSupplier == null ? new DefaultExecutorSupplier(numCpuBoundThreads) : builder.mExecutorSupplier;\n  mDiskCacheEnabled=builder.mDiskCacheEnabled;\n  mCallerContextVerifier=builder.mCallerContextVerifier;\n  mCloseableReferenceLeakTracker=builder.mCloseableReferenceLeakTracker;\n  mBitmapCache=builder.mBitmapMemoryCache;\n  mEncodedMemoryCache=builder.mEncodedMemoryCache;\n  WebpBitmapFactory webpBitmapFactory=mImagePipelineExperiments.getWebpBitmapFactory();\n  if (webpBitmapFactory != null) {\n    BitmapCreator bitmapCreator=new HoneycombBitmapCreator(getPoolFactory());\n    setWebpBitmapFactory(webpBitmapFactory,mImagePipelineExperiments,bitmapCreator);\n  }\n else {\n    if (mImagePipelineExperiments.isWebpSupportEnabled() && WebpSupportStatus.sIsWebpSupportRequired) {\n      webpBitmapFactory=WebpSupportStatus.loadWebpBitmapFactoryIfExists();\n      if (webpBitmapFactory != null) {\n        BitmapCreator bitmapCreator=new HoneycombBitmapCreator(getPoolFactory());\n        setWebpBitmapFactory(webpBitmapFactory,mImagePipelineExperiments,bitmapCreator);\n      }\n    }\n  }\n  if (FrescoSystrace.isTracing()) {\n    FrescoSystrace.endSection();\n  }\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 528,
      "astHeight" : 13
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 190,
        "startLineNumber" : 125,
        "startColumnNumber" : 4,
        "endLineNumber" : 128,
        "endColumnNumber" : 52
      },
      "nodeContext" : "mBitmapMemoryCacheTrimStrategy=builder.mBitmapMemoryCacheTrimStrategy == null ? new BitmapMemoryCacheTrimStrategy() : builder.mBitmapMemoryCacheTrimStrategy",
      "nodeType" : "Assignment",
      "astNodeNumber" : 14,
      "astHeight" : 5
    },
    "tokenLength" : 7,
    "type" : "com.facebook.imagepipeline.cache.MemoryCache.CacheTrimStrategy"
  } ],
  "positionList" : [ {
    "charLength" : 149,
    "startLineNumber" : 126,
    "startColumnNumber" : 8,
    "endLineNumber" : 128,
    "endColumnNumber" : 52
  } ],
  "layoutRelationDataList" : [ ]
}
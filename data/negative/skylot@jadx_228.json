{
  "id" : 228,
  "expression" : "insn",
  "projectName" : "skylot@jadx",
  "commitID" : "72b2663949555b03aeb864775d84f163b91bcea7",
  "filePath" : "jadx-core/src/main/java/jadx/core/dex/visitors/SimplifyVisitor.java",
  "occurrences" : 5,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "insn",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 4,
      "startLineNumber" : 155,
      "startColumnNumber" : 37,
      "endLineNumber" : 155,
      "endColumnNumber" : 41
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ParenthesizedExpression,expression]",
      "nodePosition" : {
        "charLength" : 17,
        "startLineNumber" : 155,
        "startColumnNumber" : 24,
        "endLineNumber" : 155,
        "endColumnNumber" : 41
      },
      "nodeContext" : "(InvokeNode)insn",
      "nodeType" : "CastExpression",
      "astNodeNumber" : 4,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodInvocation,expression]",
      "nodePosition" : {
        "charLength" : 19,
        "startLineNumber" : 155,
        "startColumnNumber" : 23,
        "endLineNumber" : 155,
        "endColumnNumber" : 42
      },
      "nodeContext" : "((InvokeNode)insn)",
      "nodeType" : "ParenthesizedExpression",
      "astNodeNumber" : 5,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.VariableDeclarationFragment,initializer]",
      "nodePosition" : {
        "charLength" : 32,
        "startLineNumber" : 155,
        "startColumnNumber" : 23,
        "endLineNumber" : 155,
        "endColumnNumber" : 55
      },
      "nodeContext" : "((InvokeNode)insn).getCallMth()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 7,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.VariableDeclarationStatement,fragments]",
      "nodePosition" : {
        "charLength" : 42,
        "startLineNumber" : 155,
        "startColumnNumber" : 13,
        "endLineNumber" : 155,
        "endColumnNumber" : 55
      },
      "nodeContext" : "callMth=((InvokeNode)insn).getCallMth()",
      "nodeType" : "VariableDeclarationFragment",
      "astNodeNumber" : 9,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 54,
        "startLineNumber" : 155,
        "startColumnNumber" : 2,
        "endLineNumber" : 155,
        "endColumnNumber" : 56
      },
      "nodeContext" : "MethodInfo callMth=((InvokeNode)insn).getCallMth();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 12,
      "astHeight" : 7
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 3338,
        "startLineNumber" : 154,
        "startColumnNumber" : 70,
        "endLineNumber" : 226,
        "endColumnNumber" : 2
      },
      "nodeContext" : "{\n  MethodInfo callMth=((InvokeNode)insn).getCallMth();\n  if (callMth.getDeclClass().getFullName().equals(Consts.CLASS_STRING_BUILDER) && callMth.getShortId().equals(Consts.MTH_TOSTRING_SIGNATURE) && insn.getArg(0).isInsnWrap()) {\n    try {\n      List<InsnNode> chain=flattenInsnChain(insn);\n      int constrIndex=-1;\n      if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=0;\n      }\n else       if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=1;\n      }\n else       if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=2;\n      }\n      if (constrIndex != -1) {\n        ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n        if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n          int len=chain.size(), argInd=1;\n          InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n          InsnNode argInsn;\n          if (constrIndex > 0) {\n            InsnWrapArg iwa;\n            if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n              iwa=(InsnWrapArg)argInsn.getArg(0);\n              argInd=3;\n            }\n else {\n              InsnNode firstNode=chain.get(0);\n              if (firstNode instanceof ConstStringNode) {\n                ConstStringNode csn=(ConstStringNode)firstNode;\n                iwa=new InsnWrapArg(csn);\n                argInd=2;\n              }\n else {\n                return null;\n              }\n            }\n            concatInsn.addArg(iwa);\n          }\n          for (; argInd < len; argInd++) {\n            InsnNode node=chain.get(argInd);\n            MethodInfo method=((CallMthInterface)node).getCallMth();\n            if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n              return null;\n            }\n            concatInsn.addArg(node.getArg(1));\n          }\n          concatInsn.setResult(insn.getResult());\n          return concatInsn;\n        }\n      }\n    }\n catch (    Exception e) {\n      LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n    }\n  }\n  return null;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 369,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 3711,
        "startLineNumber" : 145,
        "startColumnNumber" : 1,
        "endLineNumber" : 226,
        "endColumnNumber" : 2
      },
      "nodeContext" : "/** \n * Simplify chains of calls to StringBuilder#append() plus constructor of StringBuilder. Those chains are usually automatically generated by the Java compiler when you create String concatenations like <code>\"text \" + 1 + \" text\"</code>.\n * @param mth\n * @param insn\n * @return\n */\nprivate static InsnNode convertInvoke(MethodNode mth,InsnNode insn){\n  MethodInfo callMth=((InvokeNode)insn).getCallMth();\n  if (callMth.getDeclClass().getFullName().equals(Consts.CLASS_STRING_BUILDER) && callMth.getShortId().equals(Consts.MTH_TOSTRING_SIGNATURE) && insn.getArg(0).isInsnWrap()) {\n    try {\n      List<InsnNode> chain=flattenInsnChain(insn);\n      int constrIndex=-1;\n      if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=0;\n      }\n else       if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=1;\n      }\n else       if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=2;\n      }\n      if (constrIndex != -1) {\n        ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n        if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n          int len=chain.size(), argInd=1;\n          InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n          InsnNode argInsn;\n          if (constrIndex > 0) {\n            InsnWrapArg iwa;\n            if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n              iwa=(InsnWrapArg)argInsn.getArg(0);\n              argInd=3;\n            }\n else {\n              InsnNode firstNode=chain.get(0);\n              if (firstNode instanceof ConstStringNode) {\n                ConstStringNode csn=(ConstStringNode)firstNode;\n                iwa=new InsnWrapArg(csn);\n                argInd=2;\n              }\n else {\n                return null;\n              }\n            }\n            concatInsn.addArg(iwa);\n          }\n          for (; argInd < len; argInd++) {\n            InsnNode node=chain.get(argInd);\n            MethodInfo method=((CallMthInterface)node).getCallMth();\n            if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n              return null;\n            }\n            concatInsn.addArg(node.getArg(1));\n          }\n          concatInsn.setResult(insn.getResult());\n          return concatInsn;\n        }\n      }\n    }\n catch (    Exception e) {\n      LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n    }\n  }\n  return null;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 384,
      "astHeight" : 22
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 54,
        "startLineNumber" : 155,
        "startColumnNumber" : 2,
        "endLineNumber" : 155,
        "endColumnNumber" : 56
      },
      "nodeContext" : "MethodInfo callMth=((InvokeNode)insn).getCallMth();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 12,
      "astHeight" : 7
    },
    "tokenLength" : 1,
    "type" : "jadx.core.dex.nodes.InsnNode"
  }, {
    "nodeContext" : "insn",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 4,
      "startLineNumber" : 161,
      "startColumnNumber" : 7,
      "endLineNumber" : 161,
      "endColumnNumber" : 11
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodInvocation,expression]",
      "nodePosition" : {
        "charLength" : 14,
        "startLineNumber" : 161,
        "startColumnNumber" : 7,
        "endLineNumber" : 161,
        "endColumnNumber" : 21
      },
      "nodeContext" : "insn.getArg(0)",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 4,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.InfixExpression,extendedOperands]",
      "nodePosition" : {
        "charLength" : 27,
        "startLineNumber" : 161,
        "startColumnNumber" : 7,
        "endLineNumber" : 161,
        "endColumnNumber" : 34
      },
      "nodeContext" : "insn.getArg(0).isInsnWrap()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 6,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 173,
        "startLineNumber" : 159,
        "startColumnNumber" : 6,
        "endLineNumber" : 161,
        "endColumnNumber" : 34
      },
      "nodeContext" : "callMth.getDeclClass().getFullName().equals(Consts.CLASS_STRING_BUILDER) && callMth.getShortId().equals(Consts.MTH_TOSTRING_SIGNATURE) && insn.getArg(0).isInsnWrap()",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 25,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 3127,
        "startLineNumber" : 159,
        "startColumnNumber" : 2,
        "endLineNumber" : 224,
        "endColumnNumber" : 3
      },
      "nodeContext" : "if (callMth.getDeclClass().getFullName().equals(Consts.CLASS_STRING_BUILDER) && callMth.getShortId().equals(Consts.MTH_TOSTRING_SIGNATURE) && insn.getArg(0).isInsnWrap()) {\n  try {\n    List<InsnNode> chain=flattenInsnChain(insn);\n    int constrIndex=-1;\n    if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=0;\n    }\n else     if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=1;\n    }\n else     if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=2;\n    }\n    if (constrIndex != -1) {\n      ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n      if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n        int len=chain.size(), argInd=1;\n        InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n        InsnNode argInsn;\n        if (constrIndex > 0) {\n          InsnWrapArg iwa;\n          if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n            iwa=(InsnWrapArg)argInsn.getArg(0);\n            argInd=3;\n          }\n else {\n            InsnNode firstNode=chain.get(0);\n            if (firstNode instanceof ConstStringNode) {\n              ConstStringNode csn=(ConstStringNode)firstNode;\n              iwa=new InsnWrapArg(csn);\n              argInd=2;\n            }\n else {\n              return null;\n            }\n          }\n          concatInsn.addArg(iwa);\n        }\n        for (; argInd < len; argInd++) {\n          InsnNode node=chain.get(argInd);\n          MethodInfo method=((CallMthInterface)node).getCallMth();\n          if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n            return null;\n          }\n          concatInsn.addArg(node.getArg(1));\n        }\n        concatInsn.setResult(insn.getResult());\n        return concatInsn;\n      }\n    }\n  }\n catch (  Exception e) {\n    LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 354,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 3338,
        "startLineNumber" : 154,
        "startColumnNumber" : 70,
        "endLineNumber" : 226,
        "endColumnNumber" : 2
      },
      "nodeContext" : "{\n  MethodInfo callMth=((InvokeNode)insn).getCallMth();\n  if (callMth.getDeclClass().getFullName().equals(Consts.CLASS_STRING_BUILDER) && callMth.getShortId().equals(Consts.MTH_TOSTRING_SIGNATURE) && insn.getArg(0).isInsnWrap()) {\n    try {\n      List<InsnNode> chain=flattenInsnChain(insn);\n      int constrIndex=-1;\n      if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=0;\n      }\n else       if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=1;\n      }\n else       if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=2;\n      }\n      if (constrIndex != -1) {\n        ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n        if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n          int len=chain.size(), argInd=1;\n          InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n          InsnNode argInsn;\n          if (constrIndex > 0) {\n            InsnWrapArg iwa;\n            if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n              iwa=(InsnWrapArg)argInsn.getArg(0);\n              argInd=3;\n            }\n else {\n              InsnNode firstNode=chain.get(0);\n              if (firstNode instanceof ConstStringNode) {\n                ConstStringNode csn=(ConstStringNode)firstNode;\n                iwa=new InsnWrapArg(csn);\n                argInd=2;\n              }\n else {\n                return null;\n              }\n            }\n            concatInsn.addArg(iwa);\n          }\n          for (; argInd < len; argInd++) {\n            InsnNode node=chain.get(argInd);\n            MethodInfo method=((CallMthInterface)node).getCallMth();\n            if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n              return null;\n            }\n            concatInsn.addArg(node.getArg(1));\n          }\n          concatInsn.setResult(insn.getResult());\n          return concatInsn;\n        }\n      }\n    }\n catch (    Exception e) {\n      LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n    }\n  }\n  return null;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 369,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 3711,
        "startLineNumber" : 145,
        "startColumnNumber" : 1,
        "endLineNumber" : 226,
        "endColumnNumber" : 2
      },
      "nodeContext" : "/** \n * Simplify chains of calls to StringBuilder#append() plus constructor of StringBuilder. Those chains are usually automatically generated by the Java compiler when you create String concatenations like <code>\"text \" + 1 + \" text\"</code>.\n * @param mth\n * @param insn\n * @return\n */\nprivate static InsnNode convertInvoke(MethodNode mth,InsnNode insn){\n  MethodInfo callMth=((InvokeNode)insn).getCallMth();\n  if (callMth.getDeclClass().getFullName().equals(Consts.CLASS_STRING_BUILDER) && callMth.getShortId().equals(Consts.MTH_TOSTRING_SIGNATURE) && insn.getArg(0).isInsnWrap()) {\n    try {\n      List<InsnNode> chain=flattenInsnChain(insn);\n      int constrIndex=-1;\n      if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=0;\n      }\n else       if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=1;\n      }\n else       if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=2;\n      }\n      if (constrIndex != -1) {\n        ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n        if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n          int len=chain.size(), argInd=1;\n          InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n          InsnNode argInsn;\n          if (constrIndex > 0) {\n            InsnWrapArg iwa;\n            if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n              iwa=(InsnWrapArg)argInsn.getArg(0);\n              argInd=3;\n            }\n else {\n              InsnNode firstNode=chain.get(0);\n              if (firstNode instanceof ConstStringNode) {\n                ConstStringNode csn=(ConstStringNode)firstNode;\n                iwa=new InsnWrapArg(csn);\n                argInd=2;\n              }\n else {\n                return null;\n              }\n            }\n            concatInsn.addArg(iwa);\n          }\n          for (; argInd < len; argInd++) {\n            InsnNode node=chain.get(argInd);\n            MethodInfo method=((CallMthInterface)node).getCallMth();\n            if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n              return null;\n            }\n            concatInsn.addArg(node.getArg(1));\n          }\n          concatInsn.setResult(insn.getResult());\n          return concatInsn;\n        }\n      }\n    }\n catch (    Exception e) {\n      LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n    }\n  }\n  return null;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 384,
      "astHeight" : 22
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.InfixExpression,extendedOperands]",
      "nodePosition" : {
        "charLength" : 27,
        "startLineNumber" : 161,
        "startColumnNumber" : 7,
        "endLineNumber" : 161,
        "endColumnNumber" : 34
      },
      "nodeContext" : "insn.getArg(0).isInsnWrap()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 6,
      "astHeight" : 3
    },
    "tokenLength" : 1,
    "type" : "jadx.core.dex.nodes.InsnNode"
  }, {
    "nodeContext" : "insn",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 4,
      "startLineNumber" : 163,
      "startColumnNumber" : 44,
      "endLineNumber" : 163,
      "endColumnNumber" : 48
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.VariableDeclarationFragment,initializer]",
      "nodePosition" : {
        "charLength" : 22,
        "startLineNumber" : 163,
        "startColumnNumber" : 27,
        "endLineNumber" : 163,
        "endColumnNumber" : 49
      },
      "nodeContext" : "flattenInsnChain(insn)",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.VariableDeclarationStatement,fragments]",
      "nodePosition" : {
        "charLength" : 30,
        "startLineNumber" : 163,
        "startColumnNumber" : 19,
        "endLineNumber" : 163,
        "endColumnNumber" : 49
      },
      "nodeContext" : "chain=flattenInsnChain(insn)",
      "nodeType" : "VariableDeclarationFragment",
      "astNodeNumber" : 5,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 46,
        "startLineNumber" : 163,
        "startColumnNumber" : 4,
        "endLineNumber" : 163,
        "endColumnNumber" : 50
      },
      "nodeContext" : "List<InsnNode> chain=flattenInsnChain(insn);\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 11,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.TryStatement,body]",
      "nodePosition" : {
        "charLength" : 2829,
        "startLineNumber" : 162,
        "startColumnNumber" : 7,
        "endLineNumber" : 221,
        "endColumnNumber" : 4
      },
      "nodeContext" : "{\n  List<InsnNode> chain=flattenInsnChain(insn);\n  int constrIndex=-1;\n  if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n    constrIndex=0;\n  }\n else   if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n    constrIndex=1;\n  }\n else   if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n    constrIndex=2;\n  }\n  if (constrIndex != -1) {\n    ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n    if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n      int len=chain.size(), argInd=1;\n      InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n      InsnNode argInsn;\n      if (constrIndex > 0) {\n        InsnWrapArg iwa;\n        if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n          iwa=(InsnWrapArg)argInsn.getArg(0);\n          argInd=3;\n        }\n else {\n          InsnNode firstNode=chain.get(0);\n          if (firstNode instanceof ConstStringNode) {\n            ConstStringNode csn=(ConstStringNode)firstNode;\n            iwa=new InsnWrapArg(csn);\n            argInd=2;\n          }\n else {\n            return null;\n          }\n        }\n        concatInsn.addArg(iwa);\n      }\n      for (; argInd < len; argInd++) {\n        InsnNode node=chain.get(argInd);\n        MethodInfo method=((CallMthInterface)node).getCallMth();\n        if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n          return null;\n        }\n        concatInsn.addArg(node.getArg(1));\n      }\n      concatInsn.setResult(insn.getResult());\n      return concatInsn;\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 312,
      "astHeight" : 17
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 2939,
        "startLineNumber" : 162,
        "startColumnNumber" : 3,
        "endLineNumber" : 223,
        "endColumnNumber" : 4
      },
      "nodeContext" : "try {\n  List<InsnNode> chain=flattenInsnChain(insn);\n  int constrIndex=-1;\n  if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n    constrIndex=0;\n  }\n else   if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n    constrIndex=1;\n  }\n else   if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n    constrIndex=2;\n  }\n  if (constrIndex != -1) {\n    ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n    if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n      int len=chain.size(), argInd=1;\n      InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n      InsnNode argInsn;\n      if (constrIndex > 0) {\n        InsnWrapArg iwa;\n        if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n          iwa=(InsnWrapArg)argInsn.getArg(0);\n          argInd=3;\n        }\n else {\n          InsnNode firstNode=chain.get(0);\n          if (firstNode instanceof ConstStringNode) {\n            ConstStringNode csn=(ConstStringNode)firstNode;\n            iwa=new InsnWrapArg(csn);\n            argInd=2;\n          }\n else {\n            return null;\n          }\n        }\n        concatInsn.addArg(iwa);\n      }\n      for (; argInd < len; argInd++) {\n        InsnNode node=chain.get(argInd);\n        MethodInfo method=((CallMthInterface)node).getCallMth();\n        if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n          return null;\n        }\n        concatInsn.addArg(node.getArg(1));\n      }\n      concatInsn.setResult(insn.getResult());\n      return concatInsn;\n    }\n  }\n}\n catch (Exception e) {\n  LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n}\n",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 327,
      "astHeight" : 18
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 2948,
        "startLineNumber" : 161,
        "startColumnNumber" : 36,
        "endLineNumber" : 224,
        "endColumnNumber" : 3
      },
      "nodeContext" : "{\n  try {\n    List<InsnNode> chain=flattenInsnChain(insn);\n    int constrIndex=-1;\n    if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=0;\n    }\n else     if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=1;\n    }\n else     if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=2;\n    }\n    if (constrIndex != -1) {\n      ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n      if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n        int len=chain.size(), argInd=1;\n        InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n        InsnNode argInsn;\n        if (constrIndex > 0) {\n          InsnWrapArg iwa;\n          if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n            iwa=(InsnWrapArg)argInsn.getArg(0);\n            argInd=3;\n          }\n else {\n            InsnNode firstNode=chain.get(0);\n            if (firstNode instanceof ConstStringNode) {\n              ConstStringNode csn=(ConstStringNode)firstNode;\n              iwa=new InsnWrapArg(csn);\n              argInd=2;\n            }\n else {\n              return null;\n            }\n          }\n          concatInsn.addArg(iwa);\n        }\n        for (; argInd < len; argInd++) {\n          InsnNode node=chain.get(argInd);\n          MethodInfo method=((CallMthInterface)node).getCallMth();\n          if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n            return null;\n          }\n          concatInsn.addArg(node.getArg(1));\n        }\n        concatInsn.setResult(insn.getResult());\n        return concatInsn;\n      }\n    }\n  }\n catch (  Exception e) {\n    LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 328,
      "astHeight" : 19
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 3127,
        "startLineNumber" : 159,
        "startColumnNumber" : 2,
        "endLineNumber" : 224,
        "endColumnNumber" : 3
      },
      "nodeContext" : "if (callMth.getDeclClass().getFullName().equals(Consts.CLASS_STRING_BUILDER) && callMth.getShortId().equals(Consts.MTH_TOSTRING_SIGNATURE) && insn.getArg(0).isInsnWrap()) {\n  try {\n    List<InsnNode> chain=flattenInsnChain(insn);\n    int constrIndex=-1;\n    if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=0;\n    }\n else     if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=1;\n    }\n else     if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=2;\n    }\n    if (constrIndex != -1) {\n      ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n      if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n        int len=chain.size(), argInd=1;\n        InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n        InsnNode argInsn;\n        if (constrIndex > 0) {\n          InsnWrapArg iwa;\n          if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n            iwa=(InsnWrapArg)argInsn.getArg(0);\n            argInd=3;\n          }\n else {\n            InsnNode firstNode=chain.get(0);\n            if (firstNode instanceof ConstStringNode) {\n              ConstStringNode csn=(ConstStringNode)firstNode;\n              iwa=new InsnWrapArg(csn);\n              argInd=2;\n            }\n else {\n              return null;\n            }\n          }\n          concatInsn.addArg(iwa);\n        }\n        for (; argInd < len; argInd++) {\n          InsnNode node=chain.get(argInd);\n          MethodInfo method=((CallMthInterface)node).getCallMth();\n          if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n            return null;\n          }\n          concatInsn.addArg(node.getArg(1));\n        }\n        concatInsn.setResult(insn.getResult());\n        return concatInsn;\n      }\n    }\n  }\n catch (  Exception e) {\n    LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 354,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 3338,
        "startLineNumber" : 154,
        "startColumnNumber" : 70,
        "endLineNumber" : 226,
        "endColumnNumber" : 2
      },
      "nodeContext" : "{\n  MethodInfo callMth=((InvokeNode)insn).getCallMth();\n  if (callMth.getDeclClass().getFullName().equals(Consts.CLASS_STRING_BUILDER) && callMth.getShortId().equals(Consts.MTH_TOSTRING_SIGNATURE) && insn.getArg(0).isInsnWrap()) {\n    try {\n      List<InsnNode> chain=flattenInsnChain(insn);\n      int constrIndex=-1;\n      if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=0;\n      }\n else       if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=1;\n      }\n else       if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=2;\n      }\n      if (constrIndex != -1) {\n        ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n        if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n          int len=chain.size(), argInd=1;\n          InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n          InsnNode argInsn;\n          if (constrIndex > 0) {\n            InsnWrapArg iwa;\n            if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n              iwa=(InsnWrapArg)argInsn.getArg(0);\n              argInd=3;\n            }\n else {\n              InsnNode firstNode=chain.get(0);\n              if (firstNode instanceof ConstStringNode) {\n                ConstStringNode csn=(ConstStringNode)firstNode;\n                iwa=new InsnWrapArg(csn);\n                argInd=2;\n              }\n else {\n                return null;\n              }\n            }\n            concatInsn.addArg(iwa);\n          }\n          for (; argInd < len; argInd++) {\n            InsnNode node=chain.get(argInd);\n            MethodInfo method=((CallMthInterface)node).getCallMth();\n            if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n              return null;\n            }\n            concatInsn.addArg(node.getArg(1));\n          }\n          concatInsn.setResult(insn.getResult());\n          return concatInsn;\n        }\n      }\n    }\n catch (    Exception e) {\n      LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n    }\n  }\n  return null;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 369,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 3711,
        "startLineNumber" : 145,
        "startColumnNumber" : 1,
        "endLineNumber" : 226,
        "endColumnNumber" : 2
      },
      "nodeContext" : "/** \n * Simplify chains of calls to StringBuilder#append() plus constructor of StringBuilder. Those chains are usually automatically generated by the Java compiler when you create String concatenations like <code>\"text \" + 1 + \" text\"</code>.\n * @param mth\n * @param insn\n * @return\n */\nprivate static InsnNode convertInvoke(MethodNode mth,InsnNode insn){\n  MethodInfo callMth=((InvokeNode)insn).getCallMth();\n  if (callMth.getDeclClass().getFullName().equals(Consts.CLASS_STRING_BUILDER) && callMth.getShortId().equals(Consts.MTH_TOSTRING_SIGNATURE) && insn.getArg(0).isInsnWrap()) {\n    try {\n      List<InsnNode> chain=flattenInsnChain(insn);\n      int constrIndex=-1;\n      if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=0;\n      }\n else       if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=1;\n      }\n else       if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=2;\n      }\n      if (constrIndex != -1) {\n        ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n        if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n          int len=chain.size(), argInd=1;\n          InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n          InsnNode argInsn;\n          if (constrIndex > 0) {\n            InsnWrapArg iwa;\n            if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n              iwa=(InsnWrapArg)argInsn.getArg(0);\n              argInd=3;\n            }\n else {\n              InsnNode firstNode=chain.get(0);\n              if (firstNode instanceof ConstStringNode) {\n                ConstStringNode csn=(ConstStringNode)firstNode;\n                iwa=new InsnWrapArg(csn);\n                argInd=2;\n              }\n else {\n                return null;\n              }\n            }\n            concatInsn.addArg(iwa);\n          }\n          for (; argInd < len; argInd++) {\n            InsnNode node=chain.get(argInd);\n            MethodInfo method=((CallMthInterface)node).getCallMth();\n            if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n              return null;\n            }\n            concatInsn.addArg(node.getArg(1));\n          }\n          concatInsn.setResult(insn.getResult());\n          return concatInsn;\n        }\n      }\n    }\n catch (    Exception e) {\n      LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n    }\n  }\n  return null;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 384,
      "astHeight" : 22
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 46,
        "startLineNumber" : 163,
        "startColumnNumber" : 4,
        "endLineNumber" : 163,
        "endColumnNumber" : 50
      },
      "nodeContext" : "List<InsnNode> chain=flattenInsnChain(insn);\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 11,
      "astHeight" : 4
    },
    "tokenLength" : 1,
    "type" : "jadx.core.dex.nodes.InsnNode"
  }, {
    "nodeContext" : "insn",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 4,
      "startLineNumber" : 217,
      "startColumnNumber" : 27,
      "endLineNumber" : 217,
      "endColumnNumber" : 31
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 16,
        "startLineNumber" : 217,
        "startColumnNumber" : 27,
        "endLineNumber" : 217,
        "endColumnNumber" : 43
      },
      "nodeContext" : "insn.getResult()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 38,
        "startLineNumber" : 217,
        "startColumnNumber" : 6,
        "endLineNumber" : 217,
        "endColumnNumber" : 44
      },
      "nodeContext" : "concatInsn.setResult(insn.getResult())",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 6,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 39,
        "startLineNumber" : 217,
        "startColumnNumber" : 6,
        "endLineNumber" : 217,
        "endColumnNumber" : 45
      },
      "nodeContext" : "concatInsn.setResult(insn.getResult());\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 7,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 1702,
        "startLineNumber" : 181,
        "startColumnNumber" : 82,
        "endLineNumber" : 219,
        "endColumnNumber" : 6
      },
      "nodeContext" : "{\n  int len=chain.size(), argInd=1;\n  InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n  InsnNode argInsn;\n  if (constrIndex > 0) {\n    InsnWrapArg iwa;\n    if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n      iwa=(InsnWrapArg)argInsn.getArg(0);\n      argInd=3;\n    }\n else {\n      InsnNode firstNode=chain.get(0);\n      if (firstNode instanceof ConstStringNode) {\n        ConstStringNode csn=(ConstStringNode)firstNode;\n        iwa=new InsnWrapArg(csn);\n        argInd=2;\n      }\n else {\n        return null;\n      }\n    }\n    concatInsn.addArg(iwa);\n  }\n  for (; argInd < len; argInd++) {\n    InsnNode node=chain.get(argInd);\n    MethodInfo method=((CallMthInterface)node).getCallMth();\n    if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n      return null;\n    }\n    concatInsn.addArg(node.getArg(1));\n  }\n  concatInsn.setResult(insn.getResult());\n  return concatInsn;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 199,
      "astHeight" : 13
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1779,
        "startLineNumber" : 181,
        "startColumnNumber" : 5,
        "endLineNumber" : 219,
        "endColumnNumber" : 6
      },
      "nodeContext" : "if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n  int len=chain.size(), argInd=1;\n  InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n  InsnNode argInsn;\n  if (constrIndex > 0) {\n    InsnWrapArg iwa;\n    if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n      iwa=(InsnWrapArg)argInsn.getArg(0);\n      argInd=3;\n    }\n else {\n      InsnNode firstNode=chain.get(0);\n      if (firstNode instanceof ConstStringNode) {\n        ConstStringNode csn=(ConstStringNode)firstNode;\n        iwa=new InsnWrapArg(csn);\n        argInd=2;\n      }\n else {\n        return null;\n      }\n    }\n    concatInsn.addArg(iwa);\n  }\n  for (; argInd < len; argInd++) {\n    InsnNode node=chain.get(argInd);\n    MethodInfo method=((CallMthInterface)node).getCallMth();\n    if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n      return null;\n    }\n    concatInsn.addArg(node.getArg(1));\n  }\n  concatInsn.setResult(insn.getResult());\n  return concatInsn;\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 210,
      "astHeight" : 14
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 1964,
        "startLineNumber" : 179,
        "startColumnNumber" : 27,
        "endLineNumber" : 220,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n  if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n    int len=chain.size(), argInd=1;\n    InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n    InsnNode argInsn;\n    if (constrIndex > 0) {\n      InsnWrapArg iwa;\n      if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n        iwa=(InsnWrapArg)argInsn.getArg(0);\n        argInd=3;\n      }\n else {\n        InsnNode firstNode=chain.get(0);\n        if (firstNode instanceof ConstStringNode) {\n          ConstStringNode csn=(ConstStringNode)firstNode;\n          iwa=new InsnWrapArg(csn);\n          argInd=2;\n        }\n else {\n          return null;\n        }\n      }\n      concatInsn.addArg(iwa);\n    }\n    for (; argInd < len; argInd++) {\n      InsnNode node=chain.get(argInd);\n      MethodInfo method=((CallMthInterface)node).getCallMth();\n      if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n        return null;\n      }\n      concatInsn.addArg(node.getArg(1));\n    }\n    concatInsn.setResult(insn.getResult());\n    return concatInsn;\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 223,
      "astHeight" : 15
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1987,
        "startLineNumber" : 179,
        "startColumnNumber" : 4,
        "endLineNumber" : 220,
        "endColumnNumber" : 5
      },
      "nodeContext" : "if (constrIndex != -1) {\n  ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n  if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n    int len=chain.size(), argInd=1;\n    InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n    InsnNode argInsn;\n    if (constrIndex > 0) {\n      InsnWrapArg iwa;\n      if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n        iwa=(InsnWrapArg)argInsn.getArg(0);\n        argInd=3;\n      }\n else {\n        InsnNode firstNode=chain.get(0);\n        if (firstNode instanceof ConstStringNode) {\n          ConstStringNode csn=(ConstStringNode)firstNode;\n          iwa=new InsnWrapArg(csn);\n          argInd=2;\n        }\n else {\n          return null;\n        }\n      }\n      concatInsn.addArg(iwa);\n    }\n    for (; argInd < len; argInd++) {\n      InsnNode node=chain.get(argInd);\n      MethodInfo method=((CallMthInterface)node).getCallMth();\n      if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n        return null;\n      }\n      concatInsn.addArg(node.getArg(1));\n    }\n    concatInsn.setResult(insn.getResult());\n    return concatInsn;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 228,
      "astHeight" : 16
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.TryStatement,body]",
      "nodePosition" : {
        "charLength" : 2829,
        "startLineNumber" : 162,
        "startColumnNumber" : 7,
        "endLineNumber" : 221,
        "endColumnNumber" : 4
      },
      "nodeContext" : "{\n  List<InsnNode> chain=flattenInsnChain(insn);\n  int constrIndex=-1;\n  if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n    constrIndex=0;\n  }\n else   if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n    constrIndex=1;\n  }\n else   if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n    constrIndex=2;\n  }\n  if (constrIndex != -1) {\n    ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n    if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n      int len=chain.size(), argInd=1;\n      InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n      InsnNode argInsn;\n      if (constrIndex > 0) {\n        InsnWrapArg iwa;\n        if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n          iwa=(InsnWrapArg)argInsn.getArg(0);\n          argInd=3;\n        }\n else {\n          InsnNode firstNode=chain.get(0);\n          if (firstNode instanceof ConstStringNode) {\n            ConstStringNode csn=(ConstStringNode)firstNode;\n            iwa=new InsnWrapArg(csn);\n            argInd=2;\n          }\n else {\n            return null;\n          }\n        }\n        concatInsn.addArg(iwa);\n      }\n      for (; argInd < len; argInd++) {\n        InsnNode node=chain.get(argInd);\n        MethodInfo method=((CallMthInterface)node).getCallMth();\n        if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n          return null;\n        }\n        concatInsn.addArg(node.getArg(1));\n      }\n      concatInsn.setResult(insn.getResult());\n      return concatInsn;\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 312,
      "astHeight" : 17
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 2939,
        "startLineNumber" : 162,
        "startColumnNumber" : 3,
        "endLineNumber" : 223,
        "endColumnNumber" : 4
      },
      "nodeContext" : "try {\n  List<InsnNode> chain=flattenInsnChain(insn);\n  int constrIndex=-1;\n  if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n    constrIndex=0;\n  }\n else   if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n    constrIndex=1;\n  }\n else   if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n    constrIndex=2;\n  }\n  if (constrIndex != -1) {\n    ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n    if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n      int len=chain.size(), argInd=1;\n      InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n      InsnNode argInsn;\n      if (constrIndex > 0) {\n        InsnWrapArg iwa;\n        if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n          iwa=(InsnWrapArg)argInsn.getArg(0);\n          argInd=3;\n        }\n else {\n          InsnNode firstNode=chain.get(0);\n          if (firstNode instanceof ConstStringNode) {\n            ConstStringNode csn=(ConstStringNode)firstNode;\n            iwa=new InsnWrapArg(csn);\n            argInd=2;\n          }\n else {\n            return null;\n          }\n        }\n        concatInsn.addArg(iwa);\n      }\n      for (; argInd < len; argInd++) {\n        InsnNode node=chain.get(argInd);\n        MethodInfo method=((CallMthInterface)node).getCallMth();\n        if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n          return null;\n        }\n        concatInsn.addArg(node.getArg(1));\n      }\n      concatInsn.setResult(insn.getResult());\n      return concatInsn;\n    }\n  }\n}\n catch (Exception e) {\n  LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n}\n",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 327,
      "astHeight" : 18
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 2948,
        "startLineNumber" : 161,
        "startColumnNumber" : 36,
        "endLineNumber" : 224,
        "endColumnNumber" : 3
      },
      "nodeContext" : "{\n  try {\n    List<InsnNode> chain=flattenInsnChain(insn);\n    int constrIndex=-1;\n    if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=0;\n    }\n else     if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=1;\n    }\n else     if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=2;\n    }\n    if (constrIndex != -1) {\n      ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n      if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n        int len=chain.size(), argInd=1;\n        InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n        InsnNode argInsn;\n        if (constrIndex > 0) {\n          InsnWrapArg iwa;\n          if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n            iwa=(InsnWrapArg)argInsn.getArg(0);\n            argInd=3;\n          }\n else {\n            InsnNode firstNode=chain.get(0);\n            if (firstNode instanceof ConstStringNode) {\n              ConstStringNode csn=(ConstStringNode)firstNode;\n              iwa=new InsnWrapArg(csn);\n              argInd=2;\n            }\n else {\n              return null;\n            }\n          }\n          concatInsn.addArg(iwa);\n        }\n        for (; argInd < len; argInd++) {\n          InsnNode node=chain.get(argInd);\n          MethodInfo method=((CallMthInterface)node).getCallMth();\n          if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n            return null;\n          }\n          concatInsn.addArg(node.getArg(1));\n        }\n        concatInsn.setResult(insn.getResult());\n        return concatInsn;\n      }\n    }\n  }\n catch (  Exception e) {\n    LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 328,
      "astHeight" : 19
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 3127,
        "startLineNumber" : 159,
        "startColumnNumber" : 2,
        "endLineNumber" : 224,
        "endColumnNumber" : 3
      },
      "nodeContext" : "if (callMth.getDeclClass().getFullName().equals(Consts.CLASS_STRING_BUILDER) && callMth.getShortId().equals(Consts.MTH_TOSTRING_SIGNATURE) && insn.getArg(0).isInsnWrap()) {\n  try {\n    List<InsnNode> chain=flattenInsnChain(insn);\n    int constrIndex=-1;\n    if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=0;\n    }\n else     if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=1;\n    }\n else     if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=2;\n    }\n    if (constrIndex != -1) {\n      ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n      if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n        int len=chain.size(), argInd=1;\n        InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n        InsnNode argInsn;\n        if (constrIndex > 0) {\n          InsnWrapArg iwa;\n          if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n            iwa=(InsnWrapArg)argInsn.getArg(0);\n            argInd=3;\n          }\n else {\n            InsnNode firstNode=chain.get(0);\n            if (firstNode instanceof ConstStringNode) {\n              ConstStringNode csn=(ConstStringNode)firstNode;\n              iwa=new InsnWrapArg(csn);\n              argInd=2;\n            }\n else {\n              return null;\n            }\n          }\n          concatInsn.addArg(iwa);\n        }\n        for (; argInd < len; argInd++) {\n          InsnNode node=chain.get(argInd);\n          MethodInfo method=((CallMthInterface)node).getCallMth();\n          if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n            return null;\n          }\n          concatInsn.addArg(node.getArg(1));\n        }\n        concatInsn.setResult(insn.getResult());\n        return concatInsn;\n      }\n    }\n  }\n catch (  Exception e) {\n    LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 354,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 3338,
        "startLineNumber" : 154,
        "startColumnNumber" : 70,
        "endLineNumber" : 226,
        "endColumnNumber" : 2
      },
      "nodeContext" : "{\n  MethodInfo callMth=((InvokeNode)insn).getCallMth();\n  if (callMth.getDeclClass().getFullName().equals(Consts.CLASS_STRING_BUILDER) && callMth.getShortId().equals(Consts.MTH_TOSTRING_SIGNATURE) && insn.getArg(0).isInsnWrap()) {\n    try {\n      List<InsnNode> chain=flattenInsnChain(insn);\n      int constrIndex=-1;\n      if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=0;\n      }\n else       if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=1;\n      }\n else       if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=2;\n      }\n      if (constrIndex != -1) {\n        ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n        if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n          int len=chain.size(), argInd=1;\n          InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n          InsnNode argInsn;\n          if (constrIndex > 0) {\n            InsnWrapArg iwa;\n            if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n              iwa=(InsnWrapArg)argInsn.getArg(0);\n              argInd=3;\n            }\n else {\n              InsnNode firstNode=chain.get(0);\n              if (firstNode instanceof ConstStringNode) {\n                ConstStringNode csn=(ConstStringNode)firstNode;\n                iwa=new InsnWrapArg(csn);\n                argInd=2;\n              }\n else {\n                return null;\n              }\n            }\n            concatInsn.addArg(iwa);\n          }\n          for (; argInd < len; argInd++) {\n            InsnNode node=chain.get(argInd);\n            MethodInfo method=((CallMthInterface)node).getCallMth();\n            if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n              return null;\n            }\n            concatInsn.addArg(node.getArg(1));\n          }\n          concatInsn.setResult(insn.getResult());\n          return concatInsn;\n        }\n      }\n    }\n catch (    Exception e) {\n      LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n    }\n  }\n  return null;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 369,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 3711,
        "startLineNumber" : 145,
        "startColumnNumber" : 1,
        "endLineNumber" : 226,
        "endColumnNumber" : 2
      },
      "nodeContext" : "/** \n * Simplify chains of calls to StringBuilder#append() plus constructor of StringBuilder. Those chains are usually automatically generated by the Java compiler when you create String concatenations like <code>\"text \" + 1 + \" text\"</code>.\n * @param mth\n * @param insn\n * @return\n */\nprivate static InsnNode convertInvoke(MethodNode mth,InsnNode insn){\n  MethodInfo callMth=((InvokeNode)insn).getCallMth();\n  if (callMth.getDeclClass().getFullName().equals(Consts.CLASS_STRING_BUILDER) && callMth.getShortId().equals(Consts.MTH_TOSTRING_SIGNATURE) && insn.getArg(0).isInsnWrap()) {\n    try {\n      List<InsnNode> chain=flattenInsnChain(insn);\n      int constrIndex=-1;\n      if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=0;\n      }\n else       if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=1;\n      }\n else       if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=2;\n      }\n      if (constrIndex != -1) {\n        ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n        if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n          int len=chain.size(), argInd=1;\n          InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n          InsnNode argInsn;\n          if (constrIndex > 0) {\n            InsnWrapArg iwa;\n            if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n              iwa=(InsnWrapArg)argInsn.getArg(0);\n              argInd=3;\n            }\n else {\n              InsnNode firstNode=chain.get(0);\n              if (firstNode instanceof ConstStringNode) {\n                ConstStringNode csn=(ConstStringNode)firstNode;\n                iwa=new InsnWrapArg(csn);\n                argInd=2;\n              }\n else {\n                return null;\n              }\n            }\n            concatInsn.addArg(iwa);\n          }\n          for (; argInd < len; argInd++) {\n            InsnNode node=chain.get(argInd);\n            MethodInfo method=((CallMthInterface)node).getCallMth();\n            if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n              return null;\n            }\n            concatInsn.addArg(node.getArg(1));\n          }\n          concatInsn.setResult(insn.getResult());\n          return concatInsn;\n        }\n      }\n    }\n catch (    Exception e) {\n      LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n    }\n  }\n  return null;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 384,
      "astHeight" : 22
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 39,
        "startLineNumber" : 217,
        "startColumnNumber" : 6,
        "endLineNumber" : 217,
        "endColumnNumber" : 45
      },
      "nodeContext" : "concatInsn.setResult(insn.getResult());\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 7,
      "astHeight" : 4
    },
    "tokenLength" : 1,
    "type" : "jadx.core.dex.nodes.InsnNode"
  }, {
    "nodeContext" : "insn",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 4,
      "startLineNumber" : 222,
      "startColumnNumber" : 69,
      "endLineNumber" : 222,
      "endColumnNumber" : 73
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 73,
        "startLineNumber" : 222,
        "startColumnNumber" : 4,
        "endLineNumber" : 222,
        "endColumnNumber" : 77
      },
      "nodeContext" : "LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e)",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 7,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 74,
        "startLineNumber" : 222,
        "startColumnNumber" : 4,
        "endLineNumber" : 222,
        "endColumnNumber" : 78
      },
      "nodeContext" : "LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 8,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.CatchClause,body]",
      "nodePosition" : {
        "charLength" : 85,
        "startLineNumber" : 221,
        "startColumnNumber" : 25,
        "endLineNumber" : 223,
        "endColumnNumber" : 4
      },
      "nodeContext" : "{\n  LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 9,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TryStatement,catchClauses]",
      "nodePosition" : {
        "charLength" : 105,
        "startLineNumber" : 221,
        "startColumnNumber" : 5,
        "endLineNumber" : 223,
        "endColumnNumber" : 4
      },
      "nodeContext" : "catch (Exception e) {\n  LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n}\n",
      "nodeType" : "CatchClause",
      "astNodeNumber" : 14,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 2939,
        "startLineNumber" : 162,
        "startColumnNumber" : 3,
        "endLineNumber" : 223,
        "endColumnNumber" : 4
      },
      "nodeContext" : "try {\n  List<InsnNode> chain=flattenInsnChain(insn);\n  int constrIndex=-1;\n  if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n    constrIndex=0;\n  }\n else   if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n    constrIndex=1;\n  }\n else   if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n    constrIndex=2;\n  }\n  if (constrIndex != -1) {\n    ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n    if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n      int len=chain.size(), argInd=1;\n      InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n      InsnNode argInsn;\n      if (constrIndex > 0) {\n        InsnWrapArg iwa;\n        if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n          iwa=(InsnWrapArg)argInsn.getArg(0);\n          argInd=3;\n        }\n else {\n          InsnNode firstNode=chain.get(0);\n          if (firstNode instanceof ConstStringNode) {\n            ConstStringNode csn=(ConstStringNode)firstNode;\n            iwa=new InsnWrapArg(csn);\n            argInd=2;\n          }\n else {\n            return null;\n          }\n        }\n        concatInsn.addArg(iwa);\n      }\n      for (; argInd < len; argInd++) {\n        InsnNode node=chain.get(argInd);\n        MethodInfo method=((CallMthInterface)node).getCallMth();\n        if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n          return null;\n        }\n        concatInsn.addArg(node.getArg(1));\n      }\n      concatInsn.setResult(insn.getResult());\n      return concatInsn;\n    }\n  }\n}\n catch (Exception e) {\n  LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n}\n",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 327,
      "astHeight" : 18
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 2948,
        "startLineNumber" : 161,
        "startColumnNumber" : 36,
        "endLineNumber" : 224,
        "endColumnNumber" : 3
      },
      "nodeContext" : "{\n  try {\n    List<InsnNode> chain=flattenInsnChain(insn);\n    int constrIndex=-1;\n    if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=0;\n    }\n else     if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=1;\n    }\n else     if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=2;\n    }\n    if (constrIndex != -1) {\n      ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n      if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n        int len=chain.size(), argInd=1;\n        InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n        InsnNode argInsn;\n        if (constrIndex > 0) {\n          InsnWrapArg iwa;\n          if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n            iwa=(InsnWrapArg)argInsn.getArg(0);\n            argInd=3;\n          }\n else {\n            InsnNode firstNode=chain.get(0);\n            if (firstNode instanceof ConstStringNode) {\n              ConstStringNode csn=(ConstStringNode)firstNode;\n              iwa=new InsnWrapArg(csn);\n              argInd=2;\n            }\n else {\n              return null;\n            }\n          }\n          concatInsn.addArg(iwa);\n        }\n        for (; argInd < len; argInd++) {\n          InsnNode node=chain.get(argInd);\n          MethodInfo method=((CallMthInterface)node).getCallMth();\n          if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n            return null;\n          }\n          concatInsn.addArg(node.getArg(1));\n        }\n        concatInsn.setResult(insn.getResult());\n        return concatInsn;\n      }\n    }\n  }\n catch (  Exception e) {\n    LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 328,
      "astHeight" : 19
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 3127,
        "startLineNumber" : 159,
        "startColumnNumber" : 2,
        "endLineNumber" : 224,
        "endColumnNumber" : 3
      },
      "nodeContext" : "if (callMth.getDeclClass().getFullName().equals(Consts.CLASS_STRING_BUILDER) && callMth.getShortId().equals(Consts.MTH_TOSTRING_SIGNATURE) && insn.getArg(0).isInsnWrap()) {\n  try {\n    List<InsnNode> chain=flattenInsnChain(insn);\n    int constrIndex=-1;\n    if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=0;\n    }\n else     if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=1;\n    }\n else     if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n      constrIndex=2;\n    }\n    if (constrIndex != -1) {\n      ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n      if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n        int len=chain.size(), argInd=1;\n        InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n        InsnNode argInsn;\n        if (constrIndex > 0) {\n          InsnWrapArg iwa;\n          if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n            iwa=(InsnWrapArg)argInsn.getArg(0);\n            argInd=3;\n          }\n else {\n            InsnNode firstNode=chain.get(0);\n            if (firstNode instanceof ConstStringNode) {\n              ConstStringNode csn=(ConstStringNode)firstNode;\n              iwa=new InsnWrapArg(csn);\n              argInd=2;\n            }\n else {\n              return null;\n            }\n          }\n          concatInsn.addArg(iwa);\n        }\n        for (; argInd < len; argInd++) {\n          InsnNode node=chain.get(argInd);\n          MethodInfo method=((CallMthInterface)node).getCallMth();\n          if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n            return null;\n          }\n          concatInsn.addArg(node.getArg(1));\n        }\n        concatInsn.setResult(insn.getResult());\n        return concatInsn;\n      }\n    }\n  }\n catch (  Exception e) {\n    LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 354,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 3338,
        "startLineNumber" : 154,
        "startColumnNumber" : 70,
        "endLineNumber" : 226,
        "endColumnNumber" : 2
      },
      "nodeContext" : "{\n  MethodInfo callMth=((InvokeNode)insn).getCallMth();\n  if (callMth.getDeclClass().getFullName().equals(Consts.CLASS_STRING_BUILDER) && callMth.getShortId().equals(Consts.MTH_TOSTRING_SIGNATURE) && insn.getArg(0).isInsnWrap()) {\n    try {\n      List<InsnNode> chain=flattenInsnChain(insn);\n      int constrIndex=-1;\n      if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=0;\n      }\n else       if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=1;\n      }\n else       if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=2;\n      }\n      if (constrIndex != -1) {\n        ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n        if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n          int len=chain.size(), argInd=1;\n          InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n          InsnNode argInsn;\n          if (constrIndex > 0) {\n            InsnWrapArg iwa;\n            if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n              iwa=(InsnWrapArg)argInsn.getArg(0);\n              argInd=3;\n            }\n else {\n              InsnNode firstNode=chain.get(0);\n              if (firstNode instanceof ConstStringNode) {\n                ConstStringNode csn=(ConstStringNode)firstNode;\n                iwa=new InsnWrapArg(csn);\n                argInd=2;\n              }\n else {\n                return null;\n              }\n            }\n            concatInsn.addArg(iwa);\n          }\n          for (; argInd < len; argInd++) {\n            InsnNode node=chain.get(argInd);\n            MethodInfo method=((CallMthInterface)node).getCallMth();\n            if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n              return null;\n            }\n            concatInsn.addArg(node.getArg(1));\n          }\n          concatInsn.setResult(insn.getResult());\n          return concatInsn;\n        }\n      }\n    }\n catch (    Exception e) {\n      LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n    }\n  }\n  return null;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 369,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 3711,
        "startLineNumber" : 145,
        "startColumnNumber" : 1,
        "endLineNumber" : 226,
        "endColumnNumber" : 2
      },
      "nodeContext" : "/** \n * Simplify chains of calls to StringBuilder#append() plus constructor of StringBuilder. Those chains are usually automatically generated by the Java compiler when you create String concatenations like <code>\"text \" + 1 + \" text\"</code>.\n * @param mth\n * @param insn\n * @return\n */\nprivate static InsnNode convertInvoke(MethodNode mth,InsnNode insn){\n  MethodInfo callMth=((InvokeNode)insn).getCallMth();\n  if (callMth.getDeclClass().getFullName().equals(Consts.CLASS_STRING_BUILDER) && callMth.getShortId().equals(Consts.MTH_TOSTRING_SIGNATURE) && insn.getArg(0).isInsnWrap()) {\n    try {\n      List<InsnNode> chain=flattenInsnChain(insn);\n      int constrIndex=-1;\n      if (chain.size() > 1 && chain.get(0).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=0;\n      }\n else       if (chain.size() > 2 && chain.get(1).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=1;\n      }\n else       if (chain.size() > 3 && chain.get(2).getType() == InsnType.CONSTRUCTOR) {\n        constrIndex=2;\n      }\n      if (constrIndex != -1) {\n        ConstructorInsn constr=(ConstructorInsn)chain.get(constrIndex);\n        if (constr.getClassType().getFullName().equals(Consts.CLASS_STRING_BUILDER)) {\n          int len=chain.size(), argInd=1;\n          InsnNode concatInsn=new InsnNode(InsnType.STR_CONCAT,len - 1);\n          InsnNode argInsn;\n          if (constrIndex > 0) {\n            InsnWrapArg iwa;\n            if (constrIndex == 2 && (argInsn=chain.get(1)).getType() == InsnType.INVOKE && ((InvokeNode)argInsn).getCallMth().getName().compareTo(\"valueOf\") == 0) {\n              iwa=(InsnWrapArg)argInsn.getArg(0);\n              argInd=3;\n            }\n else {\n              InsnNode firstNode=chain.get(0);\n              if (firstNode instanceof ConstStringNode) {\n                ConstStringNode csn=(ConstStringNode)firstNode;\n                iwa=new InsnWrapArg(csn);\n                argInd=2;\n              }\n else {\n                return null;\n              }\n            }\n            concatInsn.addArg(iwa);\n          }\n          for (; argInd < len; argInd++) {\n            InsnNode node=chain.get(argInd);\n            MethodInfo method=((CallMthInterface)node).getCallMth();\n            if (!(node.getArgsCount() < 2 && method.isConstructor() || method.getName().equals(\"append\"))) {\n              return null;\n            }\n            concatInsn.addArg(node.getArg(1));\n          }\n          concatInsn.setResult(insn.getResult());\n          return concatInsn;\n        }\n      }\n    }\n catch (    Exception e) {\n      LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n    }\n  }\n  return null;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 384,
      "astHeight" : 22
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 74,
        "startLineNumber" : 222,
        "startColumnNumber" : 4,
        "endLineNumber" : 222,
        "endColumnNumber" : 78
      },
      "nodeContext" : "LOG.warn(\"Can't convert string concatenation: {} insn: {}\",mth,insn,e);\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 8,
      "astHeight" : 3
    },
    "tokenLength" : 1,
    "type" : "jadx.core.dex.nodes.InsnNode"
  } ],
  "positionList" : [ {
    "charLength" : 4,
    "startLineNumber" : 155,
    "startColumnNumber" : 37,
    "endLineNumber" : 155,
    "endColumnNumber" : 41
  }, {
    "charLength" : 4,
    "startLineNumber" : 161,
    "startColumnNumber" : 7,
    "endLineNumber" : 161,
    "endColumnNumber" : 11
  }, {
    "charLength" : 4,
    "startLineNumber" : 163,
    "startColumnNumber" : 44,
    "endLineNumber" : 163,
    "endColumnNumber" : 48
  }, {
    "charLength" : 4,
    "startLineNumber" : 217,
    "startColumnNumber" : 27,
    "endLineNumber" : 217,
    "endColumnNumber" : 31
  }, {
    "charLength" : 4,
    "startLineNumber" : 222,
    "startColumnNumber" : 69,
    "endLineNumber" : 222,
    "endColumnNumber" : 73
  } ],
  "layoutRelationDataList" : [ {
    "firstKey" : 0,
    "secondKey" : 1,
    "layout" : 5
  }, {
    "firstKey" : 0,
    "secondKey" : 2,
    "layout" : 5
  }, {
    "firstKey" : 0,
    "secondKey" : 3,
    "layout" : 5
  }, {
    "firstKey" : 0,
    "secondKey" : 4,
    "layout" : 5
  }, {
    "firstKey" : 1,
    "secondKey" : 0,
    "layout" : 4
  }, {
    "firstKey" : 1,
    "secondKey" : 2,
    "layout" : 3
  }, {
    "firstKey" : 1,
    "secondKey" : 3,
    "layout" : 3
  }, {
    "firstKey" : 1,
    "secondKey" : 4,
    "layout" : 3
  }, {
    "firstKey" : 2,
    "secondKey" : 0,
    "layout" : 7
  }, {
    "firstKey" : 2,
    "secondKey" : 1,
    "layout" : 6
  }, {
    "firstKey" : 2,
    "secondKey" : 3,
    "layout" : 3
  }, {
    "firstKey" : 2,
    "secondKey" : 4,
    "layout" : 4
  }, {
    "firstKey" : 3,
    "secondKey" : 0,
    "layout" : 11
  }, {
    "firstKey" : 3,
    "secondKey" : 1,
    "layout" : 10
  }, {
    "firstKey" : 3,
    "secondKey" : 2,
    "layout" : 7
  }, {
    "firstKey" : 3,
    "secondKey" : 4,
    "layout" : 8
  }, {
    "firstKey" : 4,
    "secondKey" : 0,
    "layout" : 7
  }, {
    "firstKey" : 4,
    "secondKey" : 1,
    "layout" : 6
  }, {
    "firstKey" : 4,
    "secondKey" : 2,
    "layout" : 4
  }, {
    "firstKey" : 4,
    "secondKey" : 3,
    "layout" : 4
  } ]
}
{
  "id" : 138,
  "expression" : "vector.objects.isEmpty()",
  "projectName" : "DrKLO@Telegram",
  "commitID" : "11fbfb1329df700b203e1852a71c4c11b5ab12f4",
  "filePath" : "/TMessagesProj/src/main/java/org/telegram/messenger/FileRefController.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "vector.objects.isEmpty()",
    "nodeType" : "MethodInvocation",
    "nodePosition" : {
      "charLength" : 24,
      "startLineNumber" : 713,
      "startColumnNumber" : 21,
      "endLineNumber" : 713,
      "endColumnNumber" : 45
    },
    "astNodeNumber" : 5,
    "astHeight" : 3,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 25,
        "startLineNumber" : 713,
        "startColumnNumber" : 20,
        "endLineNumber" : 713,
        "endColumnNumber" : 45
      },
      "nodeContext" : "!vector.objects.isEmpty()",
      "nodeType" : "PrefixExpression",
      "astNodeNumber" : 6,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1746,
        "startLineNumber" : 713,
        "startColumnNumber" : 16,
        "endLineNumber" : 739,
        "endColumnNumber" : 17
      },
      "nodeContext" : "if (!vector.objects.isEmpty()) {\n  for (int i=0, size10=vector.objects.size(); i < size10; i++) {\n    Object object=vector.objects.get(i);\n    if (object instanceof TLRPC.User) {\n      TLRPC.User user=(TLRPC.User)object;\n      result=getFileReference(user,requester.location,needReplacement,locationReplacement);\n      if (cache && result != null) {\n        ArrayList<TLRPC.User> arrayList1=new ArrayList<>();\n        arrayList1.add(user);\n        getMessagesStorage().putUsersAndChats(arrayList1,null,true,true);\n        AndroidUtilities.runOnUIThread(() -> getMessagesController().putUser(user,false));\n      }\n    }\n else     if (object instanceof TLRPC.Chat) {\n      TLRPC.Chat chat=(TLRPC.Chat)object;\n      result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n      if (cache && result != null) {\n        ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n        arrayList1.add(chat);\n        getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n        AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n      }\n    }\n    if (result != null) {\n      break;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 200,
      "astHeight" : 15
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 1841,
        "startLineNumber" : 711,
        "startColumnNumber" : 57,
        "endLineNumber" : 740,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  TLRPC.Vector vector=(TLRPC.Vector)response;\n  if (!vector.objects.isEmpty()) {\n    for (int i=0, size10=vector.objects.size(); i < size10; i++) {\n      Object object=vector.objects.get(i);\n      if (object instanceof TLRPC.User) {\n        TLRPC.User user=(TLRPC.User)object;\n        result=getFileReference(user,requester.location,needReplacement,locationReplacement);\n        if (cache && result != null) {\n          ArrayList<TLRPC.User> arrayList1=new ArrayList<>();\n          arrayList1.add(user);\n          getMessagesStorage().putUsersAndChats(arrayList1,null,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putUser(user,false));\n        }\n      }\n else       if (object instanceof TLRPC.Chat) {\n        TLRPC.Chat chat=(TLRPC.Chat)object;\n        result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n        if (cache && result != null) {\n          ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n          arrayList1.add(chat);\n          getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n        }\n      }\n      if (result != null) {\n        break;\n      }\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 214,
      "astHeight" : 16
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 6227,
        "startLineNumber" : 711,
        "startColumnNumber" : 19,
        "endLineNumber" : 811,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (response instanceof TLRPC.Vector) {\n  TLRPC.Vector vector=(TLRPC.Vector)response;\n  if (!vector.objects.isEmpty()) {\n    for (int i=0, size10=vector.objects.size(); i < size10; i++) {\n      Object object=vector.objects.get(i);\n      if (object instanceof TLRPC.User) {\n        TLRPC.User user=(TLRPC.User)object;\n        result=getFileReference(user,requester.location,needReplacement,locationReplacement);\n        if (cache && result != null) {\n          ArrayList<TLRPC.User> arrayList1=new ArrayList<>();\n          arrayList1.add(user);\n          getMessagesStorage().putUsersAndChats(arrayList1,null,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putUser(user,false));\n        }\n      }\n else       if (object instanceof TLRPC.Chat) {\n        TLRPC.Chat chat=(TLRPC.Chat)object;\n        result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n        if (cache && result != null) {\n          ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n          arrayList1.add(chat);\n          getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n        }\n      }\n      if (result != null) {\n        break;\n      }\n    }\n  }\n}\n else if (response instanceof TLRPC.TL_messages_chats) {\n  TLRPC.TL_messages_chats res=(TLRPC.TL_messages_chats)response;\n  if (!res.chats.isEmpty()) {\n    for (int i=0, size10=res.chats.size(); i < size10; i++) {\n      TLRPC.Chat chat=res.chats.get(i);\n      result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        if (cache) {\n          ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n          arrayList1.add(chat);\n          getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n        }\n        break;\n      }\n    }\n  }\n}\n else if (response instanceof TLRPC.TL_messages_savedGifs) {\n  TLRPC.TL_messages_savedGifs savedGifs=(TLRPC.TL_messages_savedGifs)response;\n  for (int b=0, size2=savedGifs.gifs.size(); b < size2; b++) {\n    result=getFileReference(savedGifs.gifs.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,savedGifs.gifs,true,0,true);\n  }\n}\n else if (response instanceof TLRPC.TL_messages_stickerSet) {\n  TLRPC.TL_messages_stickerSet stickerSet=(TLRPC.TL_messages_stickerSet)response;\n  if (result == null) {\n    for (int b=0, size2=stickerSet.documents.size(); b < size2; b++) {\n      result=getFileReference(stickerSet.documents.get(b),requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        break;\n      }\n    }\n  }\n  if (cache) {\n    AndroidUtilities.runOnUIThread(() -> getMediaDataController().replaceStickerSet(stickerSet));\n  }\n}\n else if (response instanceof TLRPC.TL_messages_recentStickers) {\n  TLRPC.TL_messages_recentStickers recentStickers=(TLRPC.TL_messages_recentStickers)response;\n  for (int b=0, size2=recentStickers.stickers.size(); b < size2; b++) {\n    result=getFileReference(recentStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,recentStickers.stickers,false,0,true);\n  }\n}\n else if (response instanceof TLRPC.TL_messages_favedStickers) {\n  TLRPC.TL_messages_favedStickers favedStickers=(TLRPC.TL_messages_favedStickers)response;\n  for (int b=0, size2=favedStickers.stickers.size(); b < size2; b++) {\n    result=getFileReference(favedStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_FAVE,favedStickers.stickers,false,0,true);\n  }\n}\n else if (response instanceof TLRPC.photos_Photos) {\n  TLRPC.photos_Photos res=(TLRPC.photos_Photos)response;\n  for (int b=0, size=res.photos.size(); b < size; b++) {\n    result=getFileReference(res.photos.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 720,
      "astHeight" : 17
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 6630,
        "startLineNumber" : 705,
        "startColumnNumber" : 19,
        "endLineNumber" : 811,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (response instanceof TLRPC.TL_theme) {\n  TLRPC.TL_theme theme=(TLRPC.TL_theme)response;\n  result=getFileReference(theme.document,requester.location,needReplacement,locationReplacement);\n  if (result != null && cache) {\n    AndroidUtilities.runOnUIThread(() -> Theme.setThemeFileReference(theme));\n  }\n}\n else if (response instanceof TLRPC.Vector) {\n  TLRPC.Vector vector=(TLRPC.Vector)response;\n  if (!vector.objects.isEmpty()) {\n    for (int i=0, size10=vector.objects.size(); i < size10; i++) {\n      Object object=vector.objects.get(i);\n      if (object instanceof TLRPC.User) {\n        TLRPC.User user=(TLRPC.User)object;\n        result=getFileReference(user,requester.location,needReplacement,locationReplacement);\n        if (cache && result != null) {\n          ArrayList<TLRPC.User> arrayList1=new ArrayList<>();\n          arrayList1.add(user);\n          getMessagesStorage().putUsersAndChats(arrayList1,null,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putUser(user,false));\n        }\n      }\n else       if (object instanceof TLRPC.Chat) {\n        TLRPC.Chat chat=(TLRPC.Chat)object;\n        result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n        if (cache && result != null) {\n          ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n          arrayList1.add(chat);\n          getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n        }\n      }\n      if (result != null) {\n        break;\n      }\n    }\n  }\n}\n else if (response instanceof TLRPC.TL_messages_chats) {\n  TLRPC.TL_messages_chats res=(TLRPC.TL_messages_chats)response;\n  if (!res.chats.isEmpty()) {\n    for (int i=0, size10=res.chats.size(); i < size10; i++) {\n      TLRPC.Chat chat=res.chats.get(i);\n      result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        if (cache) {\n          ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n          arrayList1.add(chat);\n          getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n        }\n        break;\n      }\n    }\n  }\n}\n else if (response instanceof TLRPC.TL_messages_savedGifs) {\n  TLRPC.TL_messages_savedGifs savedGifs=(TLRPC.TL_messages_savedGifs)response;\n  for (int b=0, size2=savedGifs.gifs.size(); b < size2; b++) {\n    result=getFileReference(savedGifs.gifs.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,savedGifs.gifs,true,0,true);\n  }\n}\n else if (response instanceof TLRPC.TL_messages_stickerSet) {\n  TLRPC.TL_messages_stickerSet stickerSet=(TLRPC.TL_messages_stickerSet)response;\n  if (result == null) {\n    for (int b=0, size2=stickerSet.documents.size(); b < size2; b++) {\n      result=getFileReference(stickerSet.documents.get(b),requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        break;\n      }\n    }\n  }\n  if (cache) {\n    AndroidUtilities.runOnUIThread(() -> getMediaDataController().replaceStickerSet(stickerSet));\n  }\n}\n else if (response instanceof TLRPC.TL_messages_recentStickers) {\n  TLRPC.TL_messages_recentStickers recentStickers=(TLRPC.TL_messages_recentStickers)response;\n  for (int b=0, size2=recentStickers.stickers.size(); b < size2; b++) {\n    result=getFileReference(recentStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,recentStickers.stickers,false,0,true);\n  }\n}\n else if (response instanceof TLRPC.TL_messages_favedStickers) {\n  TLRPC.TL_messages_favedStickers favedStickers=(TLRPC.TL_messages_favedStickers)response;\n  for (int b=0, size2=favedStickers.stickers.size(); b < size2; b++) {\n    result=getFileReference(favedStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_FAVE,favedStickers.stickers,false,0,true);\n  }\n}\n else if (response instanceof TLRPC.photos_Photos) {\n  TLRPC.photos_Photos res=(TLRPC.photos_Photos)response;\n  for (int b=0, size=res.photos.size(); b < size; b++) {\n    result=getFileReference(res.photos.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 770,
      "astHeight" : 18
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 7156,
        "startLineNumber" : 697,
        "startColumnNumber" : 19,
        "endLineNumber" : 811,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (response instanceof TLRPC.TL_wallPaper) {\n  TLRPC.TL_wallPaper wallPaper=(TLRPC.TL_wallPaper)response;\n  result=getFileReference(wallPaper.document,requester.location,needReplacement,locationReplacement);\n  if (result != null && cache) {\n    ArrayList<TLRPC.WallPaper> wallpapers=new ArrayList<>();\n    wallpapers.add(wallPaper);\n    getMessagesStorage().putWallpapers(wallpapers,0);\n  }\n}\n else if (response instanceof TLRPC.TL_theme) {\n  TLRPC.TL_theme theme=(TLRPC.TL_theme)response;\n  result=getFileReference(theme.document,requester.location,needReplacement,locationReplacement);\n  if (result != null && cache) {\n    AndroidUtilities.runOnUIThread(() -> Theme.setThemeFileReference(theme));\n  }\n}\n else if (response instanceof TLRPC.Vector) {\n  TLRPC.Vector vector=(TLRPC.Vector)response;\n  if (!vector.objects.isEmpty()) {\n    for (int i=0, size10=vector.objects.size(); i < size10; i++) {\n      Object object=vector.objects.get(i);\n      if (object instanceof TLRPC.User) {\n        TLRPC.User user=(TLRPC.User)object;\n        result=getFileReference(user,requester.location,needReplacement,locationReplacement);\n        if (cache && result != null) {\n          ArrayList<TLRPC.User> arrayList1=new ArrayList<>();\n          arrayList1.add(user);\n          getMessagesStorage().putUsersAndChats(arrayList1,null,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putUser(user,false));\n        }\n      }\n else       if (object instanceof TLRPC.Chat) {\n        TLRPC.Chat chat=(TLRPC.Chat)object;\n        result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n        if (cache && result != null) {\n          ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n          arrayList1.add(chat);\n          getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n        }\n      }\n      if (result != null) {\n        break;\n      }\n    }\n  }\n}\n else if (response instanceof TLRPC.TL_messages_chats) {\n  TLRPC.TL_messages_chats res=(TLRPC.TL_messages_chats)response;\n  if (!res.chats.isEmpty()) {\n    for (int i=0, size10=res.chats.size(); i < size10; i++) {\n      TLRPC.Chat chat=res.chats.get(i);\n      result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        if (cache) {\n          ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n          arrayList1.add(chat);\n          getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n        }\n        break;\n      }\n    }\n  }\n}\n else if (response instanceof TLRPC.TL_messages_savedGifs) {\n  TLRPC.TL_messages_savedGifs savedGifs=(TLRPC.TL_messages_savedGifs)response;\n  for (int b=0, size2=savedGifs.gifs.size(); b < size2; b++) {\n    result=getFileReference(savedGifs.gifs.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,savedGifs.gifs,true,0,true);\n  }\n}\n else if (response instanceof TLRPC.TL_messages_stickerSet) {\n  TLRPC.TL_messages_stickerSet stickerSet=(TLRPC.TL_messages_stickerSet)response;\n  if (result == null) {\n    for (int b=0, size2=stickerSet.documents.size(); b < size2; b++) {\n      result=getFileReference(stickerSet.documents.get(b),requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        break;\n      }\n    }\n  }\n  if (cache) {\n    AndroidUtilities.runOnUIThread(() -> getMediaDataController().replaceStickerSet(stickerSet));\n  }\n}\n else if (response instanceof TLRPC.TL_messages_recentStickers) {\n  TLRPC.TL_messages_recentStickers recentStickers=(TLRPC.TL_messages_recentStickers)response;\n  for (int b=0, size2=recentStickers.stickers.size(); b < size2; b++) {\n    result=getFileReference(recentStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,recentStickers.stickers,false,0,true);\n  }\n}\n else if (response instanceof TLRPC.TL_messages_favedStickers) {\n  TLRPC.TL_messages_favedStickers favedStickers=(TLRPC.TL_messages_favedStickers)response;\n  for (int b=0, size2=favedStickers.stickers.size(); b < size2; b++) {\n    result=getFileReference(favedStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_FAVE,favedStickers.stickers,false,0,true);\n  }\n}\n else if (response instanceof TLRPC.photos_Photos) {\n  TLRPC.photos_Photos res=(TLRPC.photos_Photos)response;\n  for (int b=0, size=res.photos.size(); b < size; b++) {\n    result=getFileReference(res.photos.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 837,
      "astHeight" : 19
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 7872,
        "startLineNumber" : 686,
        "startColumnNumber" : 19,
        "endLineNumber" : 811,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (response instanceof TLRPC.TL_account_wallPapers) {\n  TLRPC.TL_account_wallPapers accountWallPapers=(TLRPC.TL_account_wallPapers)response;\n  for (int i=0, size10=accountWallPapers.wallpapers.size(); i < size10; i++) {\n    result=getFileReference(((TLRPC.TL_wallPaper)accountWallPapers.wallpapers.get(i)).document,requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (result != null && cache) {\n    getMessagesStorage().putWallpapers(accountWallPapers.wallpapers,1);\n  }\n}\n else if (response instanceof TLRPC.TL_wallPaper) {\n  TLRPC.TL_wallPaper wallPaper=(TLRPC.TL_wallPaper)response;\n  result=getFileReference(wallPaper.document,requester.location,needReplacement,locationReplacement);\n  if (result != null && cache) {\n    ArrayList<TLRPC.WallPaper> wallpapers=new ArrayList<>();\n    wallpapers.add(wallPaper);\n    getMessagesStorage().putWallpapers(wallpapers,0);\n  }\n}\n else if (response instanceof TLRPC.TL_theme) {\n  TLRPC.TL_theme theme=(TLRPC.TL_theme)response;\n  result=getFileReference(theme.document,requester.location,needReplacement,locationReplacement);\n  if (result != null && cache) {\n    AndroidUtilities.runOnUIThread(() -> Theme.setThemeFileReference(theme));\n  }\n}\n else if (response instanceof TLRPC.Vector) {\n  TLRPC.Vector vector=(TLRPC.Vector)response;\n  if (!vector.objects.isEmpty()) {\n    for (int i=0, size10=vector.objects.size(); i < size10; i++) {\n      Object object=vector.objects.get(i);\n      if (object instanceof TLRPC.User) {\n        TLRPC.User user=(TLRPC.User)object;\n        result=getFileReference(user,requester.location,needReplacement,locationReplacement);\n        if (cache && result != null) {\n          ArrayList<TLRPC.User> arrayList1=new ArrayList<>();\n          arrayList1.add(user);\n          getMessagesStorage().putUsersAndChats(arrayList1,null,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putUser(user,false));\n        }\n      }\n else       if (object instanceof TLRPC.Chat) {\n        TLRPC.Chat chat=(TLRPC.Chat)object;\n        result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n        if (cache && result != null) {\n          ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n          arrayList1.add(chat);\n          getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n        }\n      }\n      if (result != null) {\n        break;\n      }\n    }\n  }\n}\n else if (response instanceof TLRPC.TL_messages_chats) {\n  TLRPC.TL_messages_chats res=(TLRPC.TL_messages_chats)response;\n  if (!res.chats.isEmpty()) {\n    for (int i=0, size10=res.chats.size(); i < size10; i++) {\n      TLRPC.Chat chat=res.chats.get(i);\n      result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        if (cache) {\n          ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n          arrayList1.add(chat);\n          getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n        }\n        break;\n      }\n    }\n  }\n}\n else if (response instanceof TLRPC.TL_messages_savedGifs) {\n  TLRPC.TL_messages_savedGifs savedGifs=(TLRPC.TL_messages_savedGifs)response;\n  for (int b=0, size2=savedGifs.gifs.size(); b < size2; b++) {\n    result=getFileReference(savedGifs.gifs.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,savedGifs.gifs,true,0,true);\n  }\n}\n else if (response instanceof TLRPC.TL_messages_stickerSet) {\n  TLRPC.TL_messages_stickerSet stickerSet=(TLRPC.TL_messages_stickerSet)response;\n  if (result == null) {\n    for (int b=0, size2=stickerSet.documents.size(); b < size2; b++) {\n      result=getFileReference(stickerSet.documents.get(b),requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        break;\n      }\n    }\n  }\n  if (cache) {\n    AndroidUtilities.runOnUIThread(() -> getMediaDataController().replaceStickerSet(stickerSet));\n  }\n}\n else if (response instanceof TLRPC.TL_messages_recentStickers) {\n  TLRPC.TL_messages_recentStickers recentStickers=(TLRPC.TL_messages_recentStickers)response;\n  for (int b=0, size2=recentStickers.stickers.size(); b < size2; b++) {\n    result=getFileReference(recentStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,recentStickers.stickers,false,0,true);\n  }\n}\n else if (response instanceof TLRPC.TL_messages_favedStickers) {\n  TLRPC.TL_messages_favedStickers favedStickers=(TLRPC.TL_messages_favedStickers)response;\n  for (int b=0, size2=favedStickers.stickers.size(); b < size2; b++) {\n    result=getFileReference(favedStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_FAVE,favedStickers.stickers,false,0,true);\n  }\n}\n else if (response instanceof TLRPC.photos_Photos) {\n  TLRPC.photos_Photos res=(TLRPC.photos_Photos)response;\n  for (int b=0, size=res.photos.size(); b < size; b++) {\n    result=getFileReference(res.photos.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 923,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 8059,
        "startLineNumber" : 684,
        "startColumnNumber" : 19,
        "endLineNumber" : 811,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (response instanceof TLRPC.WebPage) {\n  result=getFileReference((TLRPC.WebPage)response,requester.location,needReplacement,locationReplacement);\n}\n else if (response instanceof TLRPC.TL_account_wallPapers) {\n  TLRPC.TL_account_wallPapers accountWallPapers=(TLRPC.TL_account_wallPapers)response;\n  for (int i=0, size10=accountWallPapers.wallpapers.size(); i < size10; i++) {\n    result=getFileReference(((TLRPC.TL_wallPaper)accountWallPapers.wallpapers.get(i)).document,requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (result != null && cache) {\n    getMessagesStorage().putWallpapers(accountWallPapers.wallpapers,1);\n  }\n}\n else if (response instanceof TLRPC.TL_wallPaper) {\n  TLRPC.TL_wallPaper wallPaper=(TLRPC.TL_wallPaper)response;\n  result=getFileReference(wallPaper.document,requester.location,needReplacement,locationReplacement);\n  if (result != null && cache) {\n    ArrayList<TLRPC.WallPaper> wallpapers=new ArrayList<>();\n    wallpapers.add(wallPaper);\n    getMessagesStorage().putWallpapers(wallpapers,0);\n  }\n}\n else if (response instanceof TLRPC.TL_theme) {\n  TLRPC.TL_theme theme=(TLRPC.TL_theme)response;\n  result=getFileReference(theme.document,requester.location,needReplacement,locationReplacement);\n  if (result != null && cache) {\n    AndroidUtilities.runOnUIThread(() -> Theme.setThemeFileReference(theme));\n  }\n}\n else if (response instanceof TLRPC.Vector) {\n  TLRPC.Vector vector=(TLRPC.Vector)response;\n  if (!vector.objects.isEmpty()) {\n    for (int i=0, size10=vector.objects.size(); i < size10; i++) {\n      Object object=vector.objects.get(i);\n      if (object instanceof TLRPC.User) {\n        TLRPC.User user=(TLRPC.User)object;\n        result=getFileReference(user,requester.location,needReplacement,locationReplacement);\n        if (cache && result != null) {\n          ArrayList<TLRPC.User> arrayList1=new ArrayList<>();\n          arrayList1.add(user);\n          getMessagesStorage().putUsersAndChats(arrayList1,null,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putUser(user,false));\n        }\n      }\n else       if (object instanceof TLRPC.Chat) {\n        TLRPC.Chat chat=(TLRPC.Chat)object;\n        result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n        if (cache && result != null) {\n          ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n          arrayList1.add(chat);\n          getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n        }\n      }\n      if (result != null) {\n        break;\n      }\n    }\n  }\n}\n else if (response instanceof TLRPC.TL_messages_chats) {\n  TLRPC.TL_messages_chats res=(TLRPC.TL_messages_chats)response;\n  if (!res.chats.isEmpty()) {\n    for (int i=0, size10=res.chats.size(); i < size10; i++) {\n      TLRPC.Chat chat=res.chats.get(i);\n      result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        if (cache) {\n          ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n          arrayList1.add(chat);\n          getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n        }\n        break;\n      }\n    }\n  }\n}\n else if (response instanceof TLRPC.TL_messages_savedGifs) {\n  TLRPC.TL_messages_savedGifs savedGifs=(TLRPC.TL_messages_savedGifs)response;\n  for (int b=0, size2=savedGifs.gifs.size(); b < size2; b++) {\n    result=getFileReference(savedGifs.gifs.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,savedGifs.gifs,true,0,true);\n  }\n}\n else if (response instanceof TLRPC.TL_messages_stickerSet) {\n  TLRPC.TL_messages_stickerSet stickerSet=(TLRPC.TL_messages_stickerSet)response;\n  if (result == null) {\n    for (int b=0, size2=stickerSet.documents.size(); b < size2; b++) {\n      result=getFileReference(stickerSet.documents.get(b),requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        break;\n      }\n    }\n  }\n  if (cache) {\n    AndroidUtilities.runOnUIThread(() -> getMediaDataController().replaceStickerSet(stickerSet));\n  }\n}\n else if (response instanceof TLRPC.TL_messages_recentStickers) {\n  TLRPC.TL_messages_recentStickers recentStickers=(TLRPC.TL_messages_recentStickers)response;\n  for (int b=0, size2=recentStickers.stickers.size(); b < size2; b++) {\n    result=getFileReference(recentStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,recentStickers.stickers,false,0,true);\n  }\n}\n else if (response instanceof TLRPC.TL_messages_favedStickers) {\n  TLRPC.TL_messages_favedStickers favedStickers=(TLRPC.TL_messages_favedStickers)response;\n  for (int b=0, size2=favedStickers.stickers.size(); b < size2; b++) {\n    result=getFileReference(favedStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_FAVE,favedStickers.stickers,false,0,true);\n  }\n}\n else if (response instanceof TLRPC.photos_Photos) {\n  TLRPC.photos_Photos res=(TLRPC.photos_Photos)response;\n  for (int b=0, size=res.photos.size(); b < size; b++) {\n    result=getFileReference(res.photos.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 947,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 11239,
        "startLineNumber" : 638,
        "startColumnNumber" : 12,
        "endLineNumber" : 811,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (response instanceof TLRPC.messages_Messages) {\n  TLRPC.messages_Messages res=(TLRPC.messages_Messages)response;\n  if (!res.messages.isEmpty()) {\n    for (int i=0, size3=res.messages.size(); i < size3; i++) {\n      TLRPC.Message message=res.messages.get(i);\n      if (message.media != null) {\n        if (message.media.document != null) {\n          result=getFileReference(message.media.document,requester.location,needReplacement,locationReplacement);\n        }\n else         if (message.media.game != null) {\n          result=getFileReference(message.media.game.document,requester.location,needReplacement,locationReplacement);\n          if (result == null) {\n            result=getFileReference(message.media.game.photo,requester.location,needReplacement,locationReplacement);\n          }\n        }\n else         if (message.media.photo != null) {\n          result=getFileReference(message.media.photo,requester.location,needReplacement,locationReplacement);\n        }\n else         if (message.media.webpage != null) {\n          result=getFileReference(message.media.webpage,requester.location,needReplacement,locationReplacement);\n        }\n      }\n else       if (message.action instanceof TLRPC.TL_messageActionChatEditPhoto) {\n        result=getFileReference(message.action.photo,requester.location,needReplacement,locationReplacement);\n      }\n      if (result != null) {\n        if (cache) {\n          if (message.peer_id != null && message.peer_id.channel_id != 0) {\n            for (int a=0, N2=res.chats.size(); a < N2; a++) {\n              TLRPC.Chat chat=res.chats.get(a);\n              if (chat.id == message.peer_id.channel_id) {\n                if (chat.megagroup) {\n                  message.flags|=TLRPC.MESSAGE_FLAG_MEGAGROUP;\n                }\n                break;\n              }\n            }\n          }\n          getMessagesStorage().replaceMessageIfExists(message,res.users,res.chats,false);\n        }\n        break;\n      }\n    }\n    if (result == null) {\n      getMessagesStorage().replaceMessageIfExists(res.messages.get(0),res.users,res.chats,true);\n      if (BuildVars.DEBUG_VERSION) {\n        FileLog.d(\"file ref not found in messages, replacing message\");\n      }\n    }\n  }\n}\n else if (response instanceof TLRPC.WebPage) {\n  result=getFileReference((TLRPC.WebPage)response,requester.location,needReplacement,locationReplacement);\n}\n else if (response instanceof TLRPC.TL_account_wallPapers) {\n  TLRPC.TL_account_wallPapers accountWallPapers=(TLRPC.TL_account_wallPapers)response;\n  for (int i=0, size10=accountWallPapers.wallpapers.size(); i < size10; i++) {\n    result=getFileReference(((TLRPC.TL_wallPaper)accountWallPapers.wallpapers.get(i)).document,requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (result != null && cache) {\n    getMessagesStorage().putWallpapers(accountWallPapers.wallpapers,1);\n  }\n}\n else if (response instanceof TLRPC.TL_wallPaper) {\n  TLRPC.TL_wallPaper wallPaper=(TLRPC.TL_wallPaper)response;\n  result=getFileReference(wallPaper.document,requester.location,needReplacement,locationReplacement);\n  if (result != null && cache) {\n    ArrayList<TLRPC.WallPaper> wallpapers=new ArrayList<>();\n    wallpapers.add(wallPaper);\n    getMessagesStorage().putWallpapers(wallpapers,0);\n  }\n}\n else if (response instanceof TLRPC.TL_theme) {\n  TLRPC.TL_theme theme=(TLRPC.TL_theme)response;\n  result=getFileReference(theme.document,requester.location,needReplacement,locationReplacement);\n  if (result != null && cache) {\n    AndroidUtilities.runOnUIThread(() -> Theme.setThemeFileReference(theme));\n  }\n}\n else if (response instanceof TLRPC.Vector) {\n  TLRPC.Vector vector=(TLRPC.Vector)response;\n  if (!vector.objects.isEmpty()) {\n    for (int i=0, size10=vector.objects.size(); i < size10; i++) {\n      Object object=vector.objects.get(i);\n      if (object instanceof TLRPC.User) {\n        TLRPC.User user=(TLRPC.User)object;\n        result=getFileReference(user,requester.location,needReplacement,locationReplacement);\n        if (cache && result != null) {\n          ArrayList<TLRPC.User> arrayList1=new ArrayList<>();\n          arrayList1.add(user);\n          getMessagesStorage().putUsersAndChats(arrayList1,null,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putUser(user,false));\n        }\n      }\n else       if (object instanceof TLRPC.Chat) {\n        TLRPC.Chat chat=(TLRPC.Chat)object;\n        result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n        if (cache && result != null) {\n          ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n          arrayList1.add(chat);\n          getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n        }\n      }\n      if (result != null) {\n        break;\n      }\n    }\n  }\n}\n else if (response instanceof TLRPC.TL_messages_chats) {\n  TLRPC.TL_messages_chats res=(TLRPC.TL_messages_chats)response;\n  if (!res.chats.isEmpty()) {\n    for (int i=0, size10=res.chats.size(); i < size10; i++) {\n      TLRPC.Chat chat=res.chats.get(i);\n      result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        if (cache) {\n          ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n          arrayList1.add(chat);\n          getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n          AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n        }\n        break;\n      }\n    }\n  }\n}\n else if (response instanceof TLRPC.TL_messages_savedGifs) {\n  TLRPC.TL_messages_savedGifs savedGifs=(TLRPC.TL_messages_savedGifs)response;\n  for (int b=0, size2=savedGifs.gifs.size(); b < size2; b++) {\n    result=getFileReference(savedGifs.gifs.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,savedGifs.gifs,true,0,true);\n  }\n}\n else if (response instanceof TLRPC.TL_messages_stickerSet) {\n  TLRPC.TL_messages_stickerSet stickerSet=(TLRPC.TL_messages_stickerSet)response;\n  if (result == null) {\n    for (int b=0, size2=stickerSet.documents.size(); b < size2; b++) {\n      result=getFileReference(stickerSet.documents.get(b),requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        break;\n      }\n    }\n  }\n  if (cache) {\n    AndroidUtilities.runOnUIThread(() -> getMediaDataController().replaceStickerSet(stickerSet));\n  }\n}\n else if (response instanceof TLRPC.TL_messages_recentStickers) {\n  TLRPC.TL_messages_recentStickers recentStickers=(TLRPC.TL_messages_recentStickers)response;\n  for (int b=0, size2=recentStickers.stickers.size(); b < size2; b++) {\n    result=getFileReference(recentStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,recentStickers.stickers,false,0,true);\n  }\n}\n else if (response instanceof TLRPC.TL_messages_favedStickers) {\n  TLRPC.TL_messages_favedStickers favedStickers=(TLRPC.TL_messages_favedStickers)response;\n  for (int b=0, size2=favedStickers.stickers.size(); b < size2; b++) {\n    result=getFileReference(favedStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n  if (cache) {\n    getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_FAVE,favedStickers.stickers,false,0,true);\n  }\n}\n else if (response instanceof TLRPC.photos_Photos) {\n  TLRPC.photos_Photos res=(TLRPC.photos_Photos)response;\n  for (int b=0, size=res.photos.size(); b < size; b++) {\n    result=getFileReference(res.photos.get(b),requester.location,needReplacement,locationReplacement);\n    if (result != null) {\n      break;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 1287,
      "astHeight" : 22
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ForStatement,body]",
      "nodePosition" : {
        "charLength" : 11918,
        "startLineNumber" : 628,
        "startColumnNumber" : 58,
        "endLineNumber" : 818,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  Requester requester=arrayList.get(q);\n  if (requester.completed) {\n    continue;\n  }\n  if (requester.location instanceof TLRPC.TL_inputFileLocation) {\n    locationReplacement=new TLRPC.InputFileLocation[1];\n    needReplacement=new boolean[1];\n  }\n  requester.completed=true;\n  if (response instanceof TLRPC.messages_Messages) {\n    TLRPC.messages_Messages res=(TLRPC.messages_Messages)response;\n    if (!res.messages.isEmpty()) {\n      for (int i=0, size3=res.messages.size(); i < size3; i++) {\n        TLRPC.Message message=res.messages.get(i);\n        if (message.media != null) {\n          if (message.media.document != null) {\n            result=getFileReference(message.media.document,requester.location,needReplacement,locationReplacement);\n          }\n else           if (message.media.game != null) {\n            result=getFileReference(message.media.game.document,requester.location,needReplacement,locationReplacement);\n            if (result == null) {\n              result=getFileReference(message.media.game.photo,requester.location,needReplacement,locationReplacement);\n            }\n          }\n else           if (message.media.photo != null) {\n            result=getFileReference(message.media.photo,requester.location,needReplacement,locationReplacement);\n          }\n else           if (message.media.webpage != null) {\n            result=getFileReference(message.media.webpage,requester.location,needReplacement,locationReplacement);\n          }\n        }\n else         if (message.action instanceof TLRPC.TL_messageActionChatEditPhoto) {\n          result=getFileReference(message.action.photo,requester.location,needReplacement,locationReplacement);\n        }\n        if (result != null) {\n          if (cache) {\n            if (message.peer_id != null && message.peer_id.channel_id != 0) {\n              for (int a=0, N2=res.chats.size(); a < N2; a++) {\n                TLRPC.Chat chat=res.chats.get(a);\n                if (chat.id == message.peer_id.channel_id) {\n                  if (chat.megagroup) {\n                    message.flags|=TLRPC.MESSAGE_FLAG_MEGAGROUP;\n                  }\n                  break;\n                }\n              }\n            }\n            getMessagesStorage().replaceMessageIfExists(message,res.users,res.chats,false);\n          }\n          break;\n        }\n      }\n      if (result == null) {\n        getMessagesStorage().replaceMessageIfExists(res.messages.get(0),res.users,res.chats,true);\n        if (BuildVars.DEBUG_VERSION) {\n          FileLog.d(\"file ref not found in messages, replacing message\");\n        }\n      }\n    }\n  }\n else   if (response instanceof TLRPC.WebPage) {\n    result=getFileReference((TLRPC.WebPage)response,requester.location,needReplacement,locationReplacement);\n  }\n else   if (response instanceof TLRPC.TL_account_wallPapers) {\n    TLRPC.TL_account_wallPapers accountWallPapers=(TLRPC.TL_account_wallPapers)response;\n    for (int i=0, size10=accountWallPapers.wallpapers.size(); i < size10; i++) {\n      result=getFileReference(((TLRPC.TL_wallPaper)accountWallPapers.wallpapers.get(i)).document,requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        break;\n      }\n    }\n    if (result != null && cache) {\n      getMessagesStorage().putWallpapers(accountWallPapers.wallpapers,1);\n    }\n  }\n else   if (response instanceof TLRPC.TL_wallPaper) {\n    TLRPC.TL_wallPaper wallPaper=(TLRPC.TL_wallPaper)response;\n    result=getFileReference(wallPaper.document,requester.location,needReplacement,locationReplacement);\n    if (result != null && cache) {\n      ArrayList<TLRPC.WallPaper> wallpapers=new ArrayList<>();\n      wallpapers.add(wallPaper);\n      getMessagesStorage().putWallpapers(wallpapers,0);\n    }\n  }\n else   if (response instanceof TLRPC.TL_theme) {\n    TLRPC.TL_theme theme=(TLRPC.TL_theme)response;\n    result=getFileReference(theme.document,requester.location,needReplacement,locationReplacement);\n    if (result != null && cache) {\n      AndroidUtilities.runOnUIThread(() -> Theme.setThemeFileReference(theme));\n    }\n  }\n else   if (response instanceof TLRPC.Vector) {\n    TLRPC.Vector vector=(TLRPC.Vector)response;\n    if (!vector.objects.isEmpty()) {\n      for (int i=0, size10=vector.objects.size(); i < size10; i++) {\n        Object object=vector.objects.get(i);\n        if (object instanceof TLRPC.User) {\n          TLRPC.User user=(TLRPC.User)object;\n          result=getFileReference(user,requester.location,needReplacement,locationReplacement);\n          if (cache && result != null) {\n            ArrayList<TLRPC.User> arrayList1=new ArrayList<>();\n            arrayList1.add(user);\n            getMessagesStorage().putUsersAndChats(arrayList1,null,true,true);\n            AndroidUtilities.runOnUIThread(() -> getMessagesController().putUser(user,false));\n          }\n        }\n else         if (object instanceof TLRPC.Chat) {\n          TLRPC.Chat chat=(TLRPC.Chat)object;\n          result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n          if (cache && result != null) {\n            ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n            arrayList1.add(chat);\n            getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n            AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n          }\n        }\n        if (result != null) {\n          break;\n        }\n      }\n    }\n  }\n else   if (response instanceof TLRPC.TL_messages_chats) {\n    TLRPC.TL_messages_chats res=(TLRPC.TL_messages_chats)response;\n    if (!res.chats.isEmpty()) {\n      for (int i=0, size10=res.chats.size(); i < size10; i++) {\n        TLRPC.Chat chat=res.chats.get(i);\n        result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n        if (result != null) {\n          if (cache) {\n            ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n            arrayList1.add(chat);\n            getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n            AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n          }\n          break;\n        }\n      }\n    }\n  }\n else   if (response instanceof TLRPC.TL_messages_savedGifs) {\n    TLRPC.TL_messages_savedGifs savedGifs=(TLRPC.TL_messages_savedGifs)response;\n    for (int b=0, size2=savedGifs.gifs.size(); b < size2; b++) {\n      result=getFileReference(savedGifs.gifs.get(b),requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        break;\n      }\n    }\n    if (cache) {\n      getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,savedGifs.gifs,true,0,true);\n    }\n  }\n else   if (response instanceof TLRPC.TL_messages_stickerSet) {\n    TLRPC.TL_messages_stickerSet stickerSet=(TLRPC.TL_messages_stickerSet)response;\n    if (result == null) {\n      for (int b=0, size2=stickerSet.documents.size(); b < size2; b++) {\n        result=getFileReference(stickerSet.documents.get(b),requester.location,needReplacement,locationReplacement);\n        if (result != null) {\n          break;\n        }\n      }\n    }\n    if (cache) {\n      AndroidUtilities.runOnUIThread(() -> getMediaDataController().replaceStickerSet(stickerSet));\n    }\n  }\n else   if (response instanceof TLRPC.TL_messages_recentStickers) {\n    TLRPC.TL_messages_recentStickers recentStickers=(TLRPC.TL_messages_recentStickers)response;\n    for (int b=0, size2=recentStickers.stickers.size(); b < size2; b++) {\n      result=getFileReference(recentStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        break;\n      }\n    }\n    if (cache) {\n      getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,recentStickers.stickers,false,0,true);\n    }\n  }\n else   if (response instanceof TLRPC.TL_messages_favedStickers) {\n    TLRPC.TL_messages_favedStickers favedStickers=(TLRPC.TL_messages_favedStickers)response;\n    for (int b=0, size2=favedStickers.stickers.size(); b < size2; b++) {\n      result=getFileReference(favedStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        break;\n      }\n    }\n    if (cache) {\n      getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_FAVE,favedStickers.stickers,false,0,true);\n    }\n  }\n else   if (response instanceof TLRPC.photos_Photos) {\n    TLRPC.photos_Photos res=(TLRPC.photos_Photos)response;\n    for (int b=0, size=res.photos.size(); b < size; b++) {\n      result=getFileReference(res.photos.get(b),requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        break;\n      }\n    }\n  }\n  if (result != null) {\n    onUpdateObjectReference(requester,result,locationReplacement != null ? locationReplacement[0] : null);\n    found=true;\n  }\n else {\n    sendErrorToObject(requester.args,1);\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 1368,
      "astHeight" : 23
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 11968,
        "startLineNumber" : 628,
        "startColumnNumber" : 8,
        "endLineNumber" : 818,
        "endColumnNumber" : 9
      },
      "nodeContext" : "for (int q=0, N=arrayList.size(); q < N; q++) {\n  Requester requester=arrayList.get(q);\n  if (requester.completed) {\n    continue;\n  }\n  if (requester.location instanceof TLRPC.TL_inputFileLocation) {\n    locationReplacement=new TLRPC.InputFileLocation[1];\n    needReplacement=new boolean[1];\n  }\n  requester.completed=true;\n  if (response instanceof TLRPC.messages_Messages) {\n    TLRPC.messages_Messages res=(TLRPC.messages_Messages)response;\n    if (!res.messages.isEmpty()) {\n      for (int i=0, size3=res.messages.size(); i < size3; i++) {\n        TLRPC.Message message=res.messages.get(i);\n        if (message.media != null) {\n          if (message.media.document != null) {\n            result=getFileReference(message.media.document,requester.location,needReplacement,locationReplacement);\n          }\n else           if (message.media.game != null) {\n            result=getFileReference(message.media.game.document,requester.location,needReplacement,locationReplacement);\n            if (result == null) {\n              result=getFileReference(message.media.game.photo,requester.location,needReplacement,locationReplacement);\n            }\n          }\n else           if (message.media.photo != null) {\n            result=getFileReference(message.media.photo,requester.location,needReplacement,locationReplacement);\n          }\n else           if (message.media.webpage != null) {\n            result=getFileReference(message.media.webpage,requester.location,needReplacement,locationReplacement);\n          }\n        }\n else         if (message.action instanceof TLRPC.TL_messageActionChatEditPhoto) {\n          result=getFileReference(message.action.photo,requester.location,needReplacement,locationReplacement);\n        }\n        if (result != null) {\n          if (cache) {\n            if (message.peer_id != null && message.peer_id.channel_id != 0) {\n              for (int a=0, N2=res.chats.size(); a < N2; a++) {\n                TLRPC.Chat chat=res.chats.get(a);\n                if (chat.id == message.peer_id.channel_id) {\n                  if (chat.megagroup) {\n                    message.flags|=TLRPC.MESSAGE_FLAG_MEGAGROUP;\n                  }\n                  break;\n                }\n              }\n            }\n            getMessagesStorage().replaceMessageIfExists(message,res.users,res.chats,false);\n          }\n          break;\n        }\n      }\n      if (result == null) {\n        getMessagesStorage().replaceMessageIfExists(res.messages.get(0),res.users,res.chats,true);\n        if (BuildVars.DEBUG_VERSION) {\n          FileLog.d(\"file ref not found in messages, replacing message\");\n        }\n      }\n    }\n  }\n else   if (response instanceof TLRPC.WebPage) {\n    result=getFileReference((TLRPC.WebPage)response,requester.location,needReplacement,locationReplacement);\n  }\n else   if (response instanceof TLRPC.TL_account_wallPapers) {\n    TLRPC.TL_account_wallPapers accountWallPapers=(TLRPC.TL_account_wallPapers)response;\n    for (int i=0, size10=accountWallPapers.wallpapers.size(); i < size10; i++) {\n      result=getFileReference(((TLRPC.TL_wallPaper)accountWallPapers.wallpapers.get(i)).document,requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        break;\n      }\n    }\n    if (result != null && cache) {\n      getMessagesStorage().putWallpapers(accountWallPapers.wallpapers,1);\n    }\n  }\n else   if (response instanceof TLRPC.TL_wallPaper) {\n    TLRPC.TL_wallPaper wallPaper=(TLRPC.TL_wallPaper)response;\n    result=getFileReference(wallPaper.document,requester.location,needReplacement,locationReplacement);\n    if (result != null && cache) {\n      ArrayList<TLRPC.WallPaper> wallpapers=new ArrayList<>();\n      wallpapers.add(wallPaper);\n      getMessagesStorage().putWallpapers(wallpapers,0);\n    }\n  }\n else   if (response instanceof TLRPC.TL_theme) {\n    TLRPC.TL_theme theme=(TLRPC.TL_theme)response;\n    result=getFileReference(theme.document,requester.location,needReplacement,locationReplacement);\n    if (result != null && cache) {\n      AndroidUtilities.runOnUIThread(() -> Theme.setThemeFileReference(theme));\n    }\n  }\n else   if (response instanceof TLRPC.Vector) {\n    TLRPC.Vector vector=(TLRPC.Vector)response;\n    if (!vector.objects.isEmpty()) {\n      for (int i=0, size10=vector.objects.size(); i < size10; i++) {\n        Object object=vector.objects.get(i);\n        if (object instanceof TLRPC.User) {\n          TLRPC.User user=(TLRPC.User)object;\n          result=getFileReference(user,requester.location,needReplacement,locationReplacement);\n          if (cache && result != null) {\n            ArrayList<TLRPC.User> arrayList1=new ArrayList<>();\n            arrayList1.add(user);\n            getMessagesStorage().putUsersAndChats(arrayList1,null,true,true);\n            AndroidUtilities.runOnUIThread(() -> getMessagesController().putUser(user,false));\n          }\n        }\n else         if (object instanceof TLRPC.Chat) {\n          TLRPC.Chat chat=(TLRPC.Chat)object;\n          result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n          if (cache && result != null) {\n            ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n            arrayList1.add(chat);\n            getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n            AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n          }\n        }\n        if (result != null) {\n          break;\n        }\n      }\n    }\n  }\n else   if (response instanceof TLRPC.TL_messages_chats) {\n    TLRPC.TL_messages_chats res=(TLRPC.TL_messages_chats)response;\n    if (!res.chats.isEmpty()) {\n      for (int i=0, size10=res.chats.size(); i < size10; i++) {\n        TLRPC.Chat chat=res.chats.get(i);\n        result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n        if (result != null) {\n          if (cache) {\n            ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n            arrayList1.add(chat);\n            getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n            AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n          }\n          break;\n        }\n      }\n    }\n  }\n else   if (response instanceof TLRPC.TL_messages_savedGifs) {\n    TLRPC.TL_messages_savedGifs savedGifs=(TLRPC.TL_messages_savedGifs)response;\n    for (int b=0, size2=savedGifs.gifs.size(); b < size2; b++) {\n      result=getFileReference(savedGifs.gifs.get(b),requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        break;\n      }\n    }\n    if (cache) {\n      getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,savedGifs.gifs,true,0,true);\n    }\n  }\n else   if (response instanceof TLRPC.TL_messages_stickerSet) {\n    TLRPC.TL_messages_stickerSet stickerSet=(TLRPC.TL_messages_stickerSet)response;\n    if (result == null) {\n      for (int b=0, size2=stickerSet.documents.size(); b < size2; b++) {\n        result=getFileReference(stickerSet.documents.get(b),requester.location,needReplacement,locationReplacement);\n        if (result != null) {\n          break;\n        }\n      }\n    }\n    if (cache) {\n      AndroidUtilities.runOnUIThread(() -> getMediaDataController().replaceStickerSet(stickerSet));\n    }\n  }\n else   if (response instanceof TLRPC.TL_messages_recentStickers) {\n    TLRPC.TL_messages_recentStickers recentStickers=(TLRPC.TL_messages_recentStickers)response;\n    for (int b=0, size2=recentStickers.stickers.size(); b < size2; b++) {\n      result=getFileReference(recentStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        break;\n      }\n    }\n    if (cache) {\n      getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,recentStickers.stickers,false,0,true);\n    }\n  }\n else   if (response instanceof TLRPC.TL_messages_favedStickers) {\n    TLRPC.TL_messages_favedStickers favedStickers=(TLRPC.TL_messages_favedStickers)response;\n    for (int b=0, size2=favedStickers.stickers.size(); b < size2; b++) {\n      result=getFileReference(favedStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        break;\n      }\n    }\n    if (cache) {\n      getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_FAVE,favedStickers.stickers,false,0,true);\n    }\n  }\n else   if (response instanceof TLRPC.photos_Photos) {\n    TLRPC.photos_Photos res=(TLRPC.photos_Photos)response;\n    for (int b=0, size=res.photos.size(); b < size; b++) {\n      result=getFileReference(res.photos.get(b),requester.location,needReplacement,locationReplacement);\n      if (result != null) {\n        break;\n      }\n    }\n  }\n  if (result != null) {\n    onUpdateObjectReference(requester,result,locationReplacement != null ? locationReplacement[0] : null);\n    found=true;\n  }\n else {\n    sendErrorToObject(requester.args,1);\n  }\n}\n",
      "nodeType" : "ForStatement",
      "astNodeNumber" : 1384,
      "astHeight" : 24
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 13674,
        "startLineNumber" : 590,
        "startColumnNumber" : 110,
        "endLineNumber" : 824,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  boolean found=false;\n  String cacheKey=parentKey;\n  if (response instanceof TLRPC.TL_account_wallPapers) {\n    cacheKey=\"wallpaper\";\n  }\n else   if (response instanceof TLRPC.TL_messages_savedGifs) {\n    cacheKey=\"gif\";\n  }\n else   if (response instanceof TLRPC.TL_messages_recentStickers) {\n    cacheKey=\"recent\";\n  }\n else   if (response instanceof TLRPC.TL_messages_favedStickers) {\n    cacheKey=\"fav\";\n  }\n  if (parentKey != null) {\n    ArrayList<Requester> arrayList=parentRequester.get(parentKey);\n    if (arrayList != null) {\n      for (int q=0, N=arrayList.size(); q < N; q++) {\n        Requester requester=arrayList.get(q);\n        if (requester.completed) {\n          continue;\n        }\n        if (onRequestComplete(requester.locationKey,null,response,cache && !found)) {\n          found=true;\n        }\n      }\n      if (found) {\n        putReponseToCache(cacheKey,response);\n      }\n      parentRequester.remove(parentKey);\n    }\n  }\n  byte[] result=null;\n  TLRPC.InputFileLocation[] locationReplacement=null;\n  boolean[] needReplacement=null;\n  ArrayList<Requester> arrayList=locationRequester.get(locationKey);\n  if (arrayList == null) {\n    return found;\n  }\n  cacheKey=locationKey;\n  for (int q=0, N=arrayList.size(); q < N; q++) {\n    Requester requester=arrayList.get(q);\n    if (requester.completed) {\n      continue;\n    }\n    if (requester.location instanceof TLRPC.TL_inputFileLocation) {\n      locationReplacement=new TLRPC.InputFileLocation[1];\n      needReplacement=new boolean[1];\n    }\n    requester.completed=true;\n    if (response instanceof TLRPC.messages_Messages) {\n      TLRPC.messages_Messages res=(TLRPC.messages_Messages)response;\n      if (!res.messages.isEmpty()) {\n        for (int i=0, size3=res.messages.size(); i < size3; i++) {\n          TLRPC.Message message=res.messages.get(i);\n          if (message.media != null) {\n            if (message.media.document != null) {\n              result=getFileReference(message.media.document,requester.location,needReplacement,locationReplacement);\n            }\n else             if (message.media.game != null) {\n              result=getFileReference(message.media.game.document,requester.location,needReplacement,locationReplacement);\n              if (result == null) {\n                result=getFileReference(message.media.game.photo,requester.location,needReplacement,locationReplacement);\n              }\n            }\n else             if (message.media.photo != null) {\n              result=getFileReference(message.media.photo,requester.location,needReplacement,locationReplacement);\n            }\n else             if (message.media.webpage != null) {\n              result=getFileReference(message.media.webpage,requester.location,needReplacement,locationReplacement);\n            }\n          }\n else           if (message.action instanceof TLRPC.TL_messageActionChatEditPhoto) {\n            result=getFileReference(message.action.photo,requester.location,needReplacement,locationReplacement);\n          }\n          if (result != null) {\n            if (cache) {\n              if (message.peer_id != null && message.peer_id.channel_id != 0) {\n                for (int a=0, N2=res.chats.size(); a < N2; a++) {\n                  TLRPC.Chat chat=res.chats.get(a);\n                  if (chat.id == message.peer_id.channel_id) {\n                    if (chat.megagroup) {\n                      message.flags|=TLRPC.MESSAGE_FLAG_MEGAGROUP;\n                    }\n                    break;\n                  }\n                }\n              }\n              getMessagesStorage().replaceMessageIfExists(message,res.users,res.chats,false);\n            }\n            break;\n          }\n        }\n        if (result == null) {\n          getMessagesStorage().replaceMessageIfExists(res.messages.get(0),res.users,res.chats,true);\n          if (BuildVars.DEBUG_VERSION) {\n            FileLog.d(\"file ref not found in messages, replacing message\");\n          }\n        }\n      }\n    }\n else     if (response instanceof TLRPC.WebPage) {\n      result=getFileReference((TLRPC.WebPage)response,requester.location,needReplacement,locationReplacement);\n    }\n else     if (response instanceof TLRPC.TL_account_wallPapers) {\n      TLRPC.TL_account_wallPapers accountWallPapers=(TLRPC.TL_account_wallPapers)response;\n      for (int i=0, size10=accountWallPapers.wallpapers.size(); i < size10; i++) {\n        result=getFileReference(((TLRPC.TL_wallPaper)accountWallPapers.wallpapers.get(i)).document,requester.location,needReplacement,locationReplacement);\n        if (result != null) {\n          break;\n        }\n      }\n      if (result != null && cache) {\n        getMessagesStorage().putWallpapers(accountWallPapers.wallpapers,1);\n      }\n    }\n else     if (response instanceof TLRPC.TL_wallPaper) {\n      TLRPC.TL_wallPaper wallPaper=(TLRPC.TL_wallPaper)response;\n      result=getFileReference(wallPaper.document,requester.location,needReplacement,locationReplacement);\n      if (result != null && cache) {\n        ArrayList<TLRPC.WallPaper> wallpapers=new ArrayList<>();\n        wallpapers.add(wallPaper);\n        getMessagesStorage().putWallpapers(wallpapers,0);\n      }\n    }\n else     if (response instanceof TLRPC.TL_theme) {\n      TLRPC.TL_theme theme=(TLRPC.TL_theme)response;\n      result=getFileReference(theme.document,requester.location,needReplacement,locationReplacement);\n      if (result != null && cache) {\n        AndroidUtilities.runOnUIThread(() -> Theme.setThemeFileReference(theme));\n      }\n    }\n else     if (response instanceof TLRPC.Vector) {\n      TLRPC.Vector vector=(TLRPC.Vector)response;\n      if (!vector.objects.isEmpty()) {\n        for (int i=0, size10=vector.objects.size(); i < size10; i++) {\n          Object object=vector.objects.get(i);\n          if (object instanceof TLRPC.User) {\n            TLRPC.User user=(TLRPC.User)object;\n            result=getFileReference(user,requester.location,needReplacement,locationReplacement);\n            if (cache && result != null) {\n              ArrayList<TLRPC.User> arrayList1=new ArrayList<>();\n              arrayList1.add(user);\n              getMessagesStorage().putUsersAndChats(arrayList1,null,true,true);\n              AndroidUtilities.runOnUIThread(() -> getMessagesController().putUser(user,false));\n            }\n          }\n else           if (object instanceof TLRPC.Chat) {\n            TLRPC.Chat chat=(TLRPC.Chat)object;\n            result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n            if (cache && result != null) {\n              ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n              arrayList1.add(chat);\n              getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n              AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n            }\n          }\n          if (result != null) {\n            break;\n          }\n        }\n      }\n    }\n else     if (response instanceof TLRPC.TL_messages_chats) {\n      TLRPC.TL_messages_chats res=(TLRPC.TL_messages_chats)response;\n      if (!res.chats.isEmpty()) {\n        for (int i=0, size10=res.chats.size(); i < size10; i++) {\n          TLRPC.Chat chat=res.chats.get(i);\n          result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n          if (result != null) {\n            if (cache) {\n              ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n              arrayList1.add(chat);\n              getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n              AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n            }\n            break;\n          }\n        }\n      }\n    }\n else     if (response instanceof TLRPC.TL_messages_savedGifs) {\n      TLRPC.TL_messages_savedGifs savedGifs=(TLRPC.TL_messages_savedGifs)response;\n      for (int b=0, size2=savedGifs.gifs.size(); b < size2; b++) {\n        result=getFileReference(savedGifs.gifs.get(b),requester.location,needReplacement,locationReplacement);\n        if (result != null) {\n          break;\n        }\n      }\n      if (cache) {\n        getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,savedGifs.gifs,true,0,true);\n      }\n    }\n else     if (response instanceof TLRPC.TL_messages_stickerSet) {\n      TLRPC.TL_messages_stickerSet stickerSet=(TLRPC.TL_messages_stickerSet)response;\n      if (result == null) {\n        for (int b=0, size2=stickerSet.documents.size(); b < size2; b++) {\n          result=getFileReference(stickerSet.documents.get(b),requester.location,needReplacement,locationReplacement);\n          if (result != null) {\n            break;\n          }\n        }\n      }\n      if (cache) {\n        AndroidUtilities.runOnUIThread(() -> getMediaDataController().replaceStickerSet(stickerSet));\n      }\n    }\n else     if (response instanceof TLRPC.TL_messages_recentStickers) {\n      TLRPC.TL_messages_recentStickers recentStickers=(TLRPC.TL_messages_recentStickers)response;\n      for (int b=0, size2=recentStickers.stickers.size(); b < size2; b++) {\n        result=getFileReference(recentStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n        if (result != null) {\n          break;\n        }\n      }\n      if (cache) {\n        getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,recentStickers.stickers,false,0,true);\n      }\n    }\n else     if (response instanceof TLRPC.TL_messages_favedStickers) {\n      TLRPC.TL_messages_favedStickers favedStickers=(TLRPC.TL_messages_favedStickers)response;\n      for (int b=0, size2=favedStickers.stickers.size(); b < size2; b++) {\n        result=getFileReference(favedStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n        if (result != null) {\n          break;\n        }\n      }\n      if (cache) {\n        getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_FAVE,favedStickers.stickers,false,0,true);\n      }\n    }\n else     if (response instanceof TLRPC.photos_Photos) {\n      TLRPC.photos_Photos res=(TLRPC.photos_Photos)response;\n      for (int b=0, size=res.photos.size(); b < size; b++) {\n        result=getFileReference(res.photos.get(b),requester.location,needReplacement,locationReplacement);\n        if (result != null) {\n          break;\n        }\n      }\n    }\n    if (result != null) {\n      onUpdateObjectReference(requester,result,locationReplacement != null ? locationReplacement[0] : null);\n      found=true;\n    }\n else {\n      sendErrorToObject(requester.args,1);\n    }\n  }\n  locationRequester.remove(locationKey);\n  if (found) {\n    putReponseToCache(cacheKey,response);\n  }\n  return found;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 1590,
      "astHeight" : 25
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 13780,
        "startLineNumber" : 590,
        "startColumnNumber" : 4,
        "endLineNumber" : 824,
        "endColumnNumber" : 5
      },
      "nodeContext" : "private boolean onRequestComplete(String locationKey,String parentKey,TLObject response,boolean cache){\n  boolean found=false;\n  String cacheKey=parentKey;\n  if (response instanceof TLRPC.TL_account_wallPapers) {\n    cacheKey=\"wallpaper\";\n  }\n else   if (response instanceof TLRPC.TL_messages_savedGifs) {\n    cacheKey=\"gif\";\n  }\n else   if (response instanceof TLRPC.TL_messages_recentStickers) {\n    cacheKey=\"recent\";\n  }\n else   if (response instanceof TLRPC.TL_messages_favedStickers) {\n    cacheKey=\"fav\";\n  }\n  if (parentKey != null) {\n    ArrayList<Requester> arrayList=parentRequester.get(parentKey);\n    if (arrayList != null) {\n      for (int q=0, N=arrayList.size(); q < N; q++) {\n        Requester requester=arrayList.get(q);\n        if (requester.completed) {\n          continue;\n        }\n        if (onRequestComplete(requester.locationKey,null,response,cache && !found)) {\n          found=true;\n        }\n      }\n      if (found) {\n        putReponseToCache(cacheKey,response);\n      }\n      parentRequester.remove(parentKey);\n    }\n  }\n  byte[] result=null;\n  TLRPC.InputFileLocation[] locationReplacement=null;\n  boolean[] needReplacement=null;\n  ArrayList<Requester> arrayList=locationRequester.get(locationKey);\n  if (arrayList == null) {\n    return found;\n  }\n  cacheKey=locationKey;\n  for (int q=0, N=arrayList.size(); q < N; q++) {\n    Requester requester=arrayList.get(q);\n    if (requester.completed) {\n      continue;\n    }\n    if (requester.location instanceof TLRPC.TL_inputFileLocation) {\n      locationReplacement=new TLRPC.InputFileLocation[1];\n      needReplacement=new boolean[1];\n    }\n    requester.completed=true;\n    if (response instanceof TLRPC.messages_Messages) {\n      TLRPC.messages_Messages res=(TLRPC.messages_Messages)response;\n      if (!res.messages.isEmpty()) {\n        for (int i=0, size3=res.messages.size(); i < size3; i++) {\n          TLRPC.Message message=res.messages.get(i);\n          if (message.media != null) {\n            if (message.media.document != null) {\n              result=getFileReference(message.media.document,requester.location,needReplacement,locationReplacement);\n            }\n else             if (message.media.game != null) {\n              result=getFileReference(message.media.game.document,requester.location,needReplacement,locationReplacement);\n              if (result == null) {\n                result=getFileReference(message.media.game.photo,requester.location,needReplacement,locationReplacement);\n              }\n            }\n else             if (message.media.photo != null) {\n              result=getFileReference(message.media.photo,requester.location,needReplacement,locationReplacement);\n            }\n else             if (message.media.webpage != null) {\n              result=getFileReference(message.media.webpage,requester.location,needReplacement,locationReplacement);\n            }\n          }\n else           if (message.action instanceof TLRPC.TL_messageActionChatEditPhoto) {\n            result=getFileReference(message.action.photo,requester.location,needReplacement,locationReplacement);\n          }\n          if (result != null) {\n            if (cache) {\n              if (message.peer_id != null && message.peer_id.channel_id != 0) {\n                for (int a=0, N2=res.chats.size(); a < N2; a++) {\n                  TLRPC.Chat chat=res.chats.get(a);\n                  if (chat.id == message.peer_id.channel_id) {\n                    if (chat.megagroup) {\n                      message.flags|=TLRPC.MESSAGE_FLAG_MEGAGROUP;\n                    }\n                    break;\n                  }\n                }\n              }\n              getMessagesStorage().replaceMessageIfExists(message,res.users,res.chats,false);\n            }\n            break;\n          }\n        }\n        if (result == null) {\n          getMessagesStorage().replaceMessageIfExists(res.messages.get(0),res.users,res.chats,true);\n          if (BuildVars.DEBUG_VERSION) {\n            FileLog.d(\"file ref not found in messages, replacing message\");\n          }\n        }\n      }\n    }\n else     if (response instanceof TLRPC.WebPage) {\n      result=getFileReference((TLRPC.WebPage)response,requester.location,needReplacement,locationReplacement);\n    }\n else     if (response instanceof TLRPC.TL_account_wallPapers) {\n      TLRPC.TL_account_wallPapers accountWallPapers=(TLRPC.TL_account_wallPapers)response;\n      for (int i=0, size10=accountWallPapers.wallpapers.size(); i < size10; i++) {\n        result=getFileReference(((TLRPC.TL_wallPaper)accountWallPapers.wallpapers.get(i)).document,requester.location,needReplacement,locationReplacement);\n        if (result != null) {\n          break;\n        }\n      }\n      if (result != null && cache) {\n        getMessagesStorage().putWallpapers(accountWallPapers.wallpapers,1);\n      }\n    }\n else     if (response instanceof TLRPC.TL_wallPaper) {\n      TLRPC.TL_wallPaper wallPaper=(TLRPC.TL_wallPaper)response;\n      result=getFileReference(wallPaper.document,requester.location,needReplacement,locationReplacement);\n      if (result != null && cache) {\n        ArrayList<TLRPC.WallPaper> wallpapers=new ArrayList<>();\n        wallpapers.add(wallPaper);\n        getMessagesStorage().putWallpapers(wallpapers,0);\n      }\n    }\n else     if (response instanceof TLRPC.TL_theme) {\n      TLRPC.TL_theme theme=(TLRPC.TL_theme)response;\n      result=getFileReference(theme.document,requester.location,needReplacement,locationReplacement);\n      if (result != null && cache) {\n        AndroidUtilities.runOnUIThread(() -> Theme.setThemeFileReference(theme));\n      }\n    }\n else     if (response instanceof TLRPC.Vector) {\n      TLRPC.Vector vector=(TLRPC.Vector)response;\n      if (!vector.objects.isEmpty()) {\n        for (int i=0, size10=vector.objects.size(); i < size10; i++) {\n          Object object=vector.objects.get(i);\n          if (object instanceof TLRPC.User) {\n            TLRPC.User user=(TLRPC.User)object;\n            result=getFileReference(user,requester.location,needReplacement,locationReplacement);\n            if (cache && result != null) {\n              ArrayList<TLRPC.User> arrayList1=new ArrayList<>();\n              arrayList1.add(user);\n              getMessagesStorage().putUsersAndChats(arrayList1,null,true,true);\n              AndroidUtilities.runOnUIThread(() -> getMessagesController().putUser(user,false));\n            }\n          }\n else           if (object instanceof TLRPC.Chat) {\n            TLRPC.Chat chat=(TLRPC.Chat)object;\n            result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n            if (cache && result != null) {\n              ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n              arrayList1.add(chat);\n              getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n              AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n            }\n          }\n          if (result != null) {\n            break;\n          }\n        }\n      }\n    }\n else     if (response instanceof TLRPC.TL_messages_chats) {\n      TLRPC.TL_messages_chats res=(TLRPC.TL_messages_chats)response;\n      if (!res.chats.isEmpty()) {\n        for (int i=0, size10=res.chats.size(); i < size10; i++) {\n          TLRPC.Chat chat=res.chats.get(i);\n          result=getFileReference(chat,requester.location,needReplacement,locationReplacement);\n          if (result != null) {\n            if (cache) {\n              ArrayList<TLRPC.Chat> arrayList1=new ArrayList<>();\n              arrayList1.add(chat);\n              getMessagesStorage().putUsersAndChats(null,arrayList1,true,true);\n              AndroidUtilities.runOnUIThread(() -> getMessagesController().putChat(chat,false));\n            }\n            break;\n          }\n        }\n      }\n    }\n else     if (response instanceof TLRPC.TL_messages_savedGifs) {\n      TLRPC.TL_messages_savedGifs savedGifs=(TLRPC.TL_messages_savedGifs)response;\n      for (int b=0, size2=savedGifs.gifs.size(); b < size2; b++) {\n        result=getFileReference(savedGifs.gifs.get(b),requester.location,needReplacement,locationReplacement);\n        if (result != null) {\n          break;\n        }\n      }\n      if (cache) {\n        getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,savedGifs.gifs,true,0,true);\n      }\n    }\n else     if (response instanceof TLRPC.TL_messages_stickerSet) {\n      TLRPC.TL_messages_stickerSet stickerSet=(TLRPC.TL_messages_stickerSet)response;\n      if (result == null) {\n        for (int b=0, size2=stickerSet.documents.size(); b < size2; b++) {\n          result=getFileReference(stickerSet.documents.get(b),requester.location,needReplacement,locationReplacement);\n          if (result != null) {\n            break;\n          }\n        }\n      }\n      if (cache) {\n        AndroidUtilities.runOnUIThread(() -> getMediaDataController().replaceStickerSet(stickerSet));\n      }\n    }\n else     if (response instanceof TLRPC.TL_messages_recentStickers) {\n      TLRPC.TL_messages_recentStickers recentStickers=(TLRPC.TL_messages_recentStickers)response;\n      for (int b=0, size2=recentStickers.stickers.size(); b < size2; b++) {\n        result=getFileReference(recentStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n        if (result != null) {\n          break;\n        }\n      }\n      if (cache) {\n        getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_IMAGE,recentStickers.stickers,false,0,true);\n      }\n    }\n else     if (response instanceof TLRPC.TL_messages_favedStickers) {\n      TLRPC.TL_messages_favedStickers favedStickers=(TLRPC.TL_messages_favedStickers)response;\n      for (int b=0, size2=favedStickers.stickers.size(); b < size2; b++) {\n        result=getFileReference(favedStickers.stickers.get(b),requester.location,needReplacement,locationReplacement);\n        if (result != null) {\n          break;\n        }\n      }\n      if (cache) {\n        getMediaDataController().processLoadedRecentDocuments(MediaDataController.TYPE_FAVE,favedStickers.stickers,false,0,true);\n      }\n    }\n else     if (response instanceof TLRPC.photos_Photos) {\n      TLRPC.photos_Photos res=(TLRPC.photos_Photos)response;\n      for (int b=0, size=res.photos.size(); b < size; b++) {\n        result=getFileReference(res.photos.get(b),requester.location,needReplacement,locationReplacement);\n        if (result != null) {\n          break;\n        }\n      }\n    }\n    if (result != null) {\n      onUpdateObjectReference(requester,result,locationReplacement != null ? locationReplacement[0] : null);\n      found=true;\n    }\n else {\n      sendErrorToObject(requester.args,1);\n    }\n  }\n  locationRequester.remove(locationKey);\n  if (found) {\n    putReponseToCache(cacheKey,response);\n  }\n  return found;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 1609,
      "astHeight" : 26
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 25,
        "startLineNumber" : 713,
        "startColumnNumber" : 20,
        "endLineNumber" : 713,
        "endColumnNumber" : 45
      },
      "nodeContext" : "!vector.objects.isEmpty()",
      "nodeType" : "PrefixExpression",
      "astNodeNumber" : 6,
      "astHeight" : 4
    },
    "tokenLength" : 3,
    "type" : "boolean"
  } ],
  "positionList" : [ {
    "charLength" : 24,
    "startLineNumber" : 713,
    "startColumnNumber" : 21,
    "endLineNumber" : 713,
    "endColumnNumber" : 45
  } ],
  "layoutRelationDataList" : [ ]
}
{
  "id" : 497,
  "expression" : "FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,AndroidUtilities.getPhotoSize())",
  "projectName" : "DrKLO@Telegram",
  "commitID" : "11fbfb1329df700b203e1852a71c4c11b5ab12f4",
  "filePath" : "/TMessagesProj/src/main/java/org/telegram/ui/WallpapersListActivity.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,AndroidUtilities.getPhotoSize())",
    "nodeType" : "MethodInvocation",
    "nodePosition" : {
      "charLength" : 91,
      "startLineNumber" : 1278,
      "startColumnNumber" : 51,
      "endLineNumber" : 1278,
      "endColumnNumber" : 142
    },
    "astNodeNumber" : 11,
    "astHeight" : 4,
    "parentDataList" : [ {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.VariableDeclarationStatement,fragments]",
      "nodePosition" : {
        "charLength" : 98,
        "startLineNumber" : 1278,
        "startColumnNumber" : 44,
        "endLineNumber" : 1278,
        "endColumnNumber" : 142
      },
      "nodeContext" : "size=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,AndroidUtilities.getPhotoSize())",
      "nodeType" : "VariableDeclarationFragment",
      "astNodeNumber" : 13,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 115,
        "startLineNumber" : 1278,
        "startColumnNumber" : 28,
        "endLineNumber" : 1278,
        "endColumnNumber" : 143
      },
      "nodeContext" : "TLRPC.PhotoSize size=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,AndroidUtilities.getPhotoSize());\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 18,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 751,
        "startLineNumber" : 1277,
        "startColumnNumber" : 50,
        "endLineNumber" : 1289,
        "endColumnNumber" : 25
      },
      "nodeContext" : "{\n  TLRPC.PhotoSize size=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,AndroidUtilities.getPhotoSize());\n  TLRPC.PhotoSize size2=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,320);\n  if (size == null) {\n    continue;\n  }\n  bingImage.width=size.w;\n  bingImage.height=size.h;\n  bingImage.photoSize=size;\n  bingImage.photo=result.photo;\n  bingImage.size=size.size;\n  bingImage.thumbPhotoSize=size2;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 85,
      "astHeight" : 7
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1857,
        "startLineNumber" : 1277,
        "startColumnNumber" : 24,
        "endLineNumber" : 1308,
        "endColumnNumber" : 25
      },
      "nodeContext" : "if (result.photo != null) {\n  TLRPC.PhotoSize size=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,AndroidUtilities.getPhotoSize());\n  TLRPC.PhotoSize size2=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,320);\n  if (size == null) {\n    continue;\n  }\n  bingImage.width=size.w;\n  bingImage.height=size.h;\n  bingImage.photoSize=size;\n  bingImage.photo=result.photo;\n  bingImage.size=size.size;\n  bingImage.thumbPhotoSize=size2;\n}\n else {\n  if (result.content == null) {\n    continue;\n  }\n  for (int b=0; b < result.content.attributes.size(); b++) {\n    TLRPC.DocumentAttribute attribute=result.content.attributes.get(b);\n    if (attribute instanceof TLRPC.TL_documentAttributeImageSize) {\n      bingImage.width=attribute.w;\n      bingImage.height=attribute.h;\n      break;\n    }\n  }\n  if (result.thumb != null) {\n    bingImage.thumbUrl=result.thumb.url;\n  }\n else {\n    bingImage.thumbUrl=null;\n  }\n  bingImage.imageUrl=result.content.url;\n  bingImage.size=result.content.size;\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 202,
      "astHeight" : 10
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ForStatement,body]",
      "nodePosition" : {
        "charLength" : 2559,
        "startLineNumber" : 1267,
        "startColumnNumber" : 80,
        "endLineNumber" : 1315,
        "endColumnNumber" : 21
      },
      "nodeContext" : "{\n  TLRPC.BotInlineResult result=res.results.get(a);\n  if (!\"photo\".equals(result.type)) {\n    continue;\n  }\n  if (searchResultKeys.containsKey(result.id)) {\n    continue;\n  }\n  MediaController.SearchImage bingImage=new MediaController.SearchImage();\n  if (result.photo != null) {\n    TLRPC.PhotoSize size=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,AndroidUtilities.getPhotoSize());\n    TLRPC.PhotoSize size2=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,320);\n    if (size == null) {\n      continue;\n    }\n    bingImage.width=size.w;\n    bingImage.height=size.h;\n    bingImage.photoSize=size;\n    bingImage.photo=result.photo;\n    bingImage.size=size.size;\n    bingImage.thumbPhotoSize=size2;\n  }\n else {\n    if (result.content == null) {\n      continue;\n    }\n    for (int b=0; b < result.content.attributes.size(); b++) {\n      TLRPC.DocumentAttribute attribute=result.content.attributes.get(b);\n      if (attribute instanceof TLRPC.TL_documentAttributeImageSize) {\n        bingImage.width=attribute.w;\n        bingImage.height=attribute.h;\n        break;\n      }\n    }\n    if (result.thumb != null) {\n      bingImage.thumbUrl=result.thumb.url;\n    }\n else {\n      bingImage.thumbUrl=null;\n    }\n    bingImage.imageUrl=result.content.url;\n    bingImage.size=result.content.size;\n  }\n  bingImage.id=result.id;\n  bingImage.type=0;\n  searchResult.add(bingImage);\n  searchResultKeys.put(bingImage.id,bingImage);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 274,
      "astHeight" : 11
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 2619,
        "startLineNumber" : 1267,
        "startColumnNumber" : 20,
        "endLineNumber" : 1315,
        "endColumnNumber" : 21
      },
      "nodeContext" : "for (int a=0, count=res.results.size(); a < count; a++) {\n  TLRPC.BotInlineResult result=res.results.get(a);\n  if (!\"photo\".equals(result.type)) {\n    continue;\n  }\n  if (searchResultKeys.containsKey(result.id)) {\n    continue;\n  }\n  MediaController.SearchImage bingImage=new MediaController.SearchImage();\n  if (result.photo != null) {\n    TLRPC.PhotoSize size=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,AndroidUtilities.getPhotoSize());\n    TLRPC.PhotoSize size2=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,320);\n    if (size == null) {\n      continue;\n    }\n    bingImage.width=size.w;\n    bingImage.height=size.h;\n    bingImage.photoSize=size;\n    bingImage.photo=result.photo;\n    bingImage.size=size.size;\n    bingImage.thumbPhotoSize=size2;\n  }\n else {\n    if (result.content == null) {\n      continue;\n    }\n    for (int b=0; b < result.content.attributes.size(); b++) {\n      TLRPC.DocumentAttribute attribute=result.content.attributes.get(b);\n      if (attribute instanceof TLRPC.TL_documentAttributeImageSize) {\n        bingImage.width=attribute.w;\n        bingImage.height=attribute.h;\n        break;\n      }\n    }\n    if (result.thumb != null) {\n      bingImage.thumbUrl=result.thumb.url;\n    }\n else {\n      bingImage.thumbUrl=null;\n    }\n    bingImage.imageUrl=result.content.url;\n    bingImage.size=result.content.size;\n  }\n  bingImage.id=result.id;\n  bingImage.type=0;\n  searchResult.add(bingImage);\n  searchResultKeys.put(bingImage.id,bingImage);\n}\n",
      "nodeType" : "ForStatement",
      "astNodeNumber" : 292,
      "astHeight" : 12
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 2922,
        "startLineNumber" : 1263,
        "startColumnNumber" : 38,
        "endLineNumber" : 1317,
        "endColumnNumber" : 17
      },
      "nodeContext" : "{\n  TLRPC.messages_BotResults res=(TLRPC.messages_BotResults)response;\n  nextImagesSearchOffset=res.next_offset;\n  for (int a=0, count=res.results.size(); a < count; a++) {\n    TLRPC.BotInlineResult result=res.results.get(a);\n    if (!\"photo\".equals(result.type)) {\n      continue;\n    }\n    if (searchResultKeys.containsKey(result.id)) {\n      continue;\n    }\n    MediaController.SearchImage bingImage=new MediaController.SearchImage();\n    if (result.photo != null) {\n      TLRPC.PhotoSize size=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,AndroidUtilities.getPhotoSize());\n      TLRPC.PhotoSize size2=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,320);\n      if (size == null) {\n        continue;\n      }\n      bingImage.width=size.w;\n      bingImage.height=size.h;\n      bingImage.photoSize=size;\n      bingImage.photo=result.photo;\n      bingImage.size=size.size;\n      bingImage.thumbPhotoSize=size2;\n    }\n else {\n      if (result.content == null) {\n        continue;\n      }\n      for (int b=0; b < result.content.attributes.size(); b++) {\n        TLRPC.DocumentAttribute attribute=result.content.attributes.get(b);\n        if (attribute instanceof TLRPC.TL_documentAttributeImageSize) {\n          bingImage.width=attribute.w;\n          bingImage.height=attribute.h;\n          break;\n        }\n      }\n      if (result.thumb != null) {\n        bingImage.thumbUrl=result.thumb.url;\n      }\n else {\n        bingImage.thumbUrl=null;\n      }\n      bingImage.imageUrl=result.content.url;\n      bingImage.size=result.content.size;\n    }\n    bingImage.id=result.id;\n    bingImage.type=0;\n    searchResult.add(bingImage);\n    searchResultKeys.put(bingImage.id,bingImage);\n  }\n  bingSearchEndReached=oldCount == searchResult.size() || nextImagesSearchOffset == null;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 324,
      "astHeight" : 13
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 2944,
        "startLineNumber" : 1263,
        "startColumnNumber" : 16,
        "endLineNumber" : 1317,
        "endColumnNumber" : 17
      },
      "nodeContext" : "if (response != null) {\n  TLRPC.messages_BotResults res=(TLRPC.messages_BotResults)response;\n  nextImagesSearchOffset=res.next_offset;\n  for (int a=0, count=res.results.size(); a < count; a++) {\n    TLRPC.BotInlineResult result=res.results.get(a);\n    if (!\"photo\".equals(result.type)) {\n      continue;\n    }\n    if (searchResultKeys.containsKey(result.id)) {\n      continue;\n    }\n    MediaController.SearchImage bingImage=new MediaController.SearchImage();\n    if (result.photo != null) {\n      TLRPC.PhotoSize size=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,AndroidUtilities.getPhotoSize());\n      TLRPC.PhotoSize size2=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,320);\n      if (size == null) {\n        continue;\n      }\n      bingImage.width=size.w;\n      bingImage.height=size.h;\n      bingImage.photoSize=size;\n      bingImage.photo=result.photo;\n      bingImage.size=size.size;\n      bingImage.thumbPhotoSize=size2;\n    }\n else {\n      if (result.content == null) {\n        continue;\n      }\n      for (int b=0; b < result.content.attributes.size(); b++) {\n        TLRPC.DocumentAttribute attribute=result.content.attributes.get(b);\n        if (attribute instanceof TLRPC.TL_documentAttributeImageSize) {\n          bingImage.width=attribute.w;\n          bingImage.height=attribute.h;\n          break;\n        }\n      }\n      if (result.thumb != null) {\n        bingImage.thumbUrl=result.thumb.url;\n      }\n else {\n        bingImage.thumbUrl=null;\n      }\n      bingImage.imageUrl=result.content.url;\n      bingImage.size=result.content.size;\n    }\n    bingImage.id=result.id;\n    bingImage.type=0;\n    searchResult.add(bingImage);\n    searchResultKeys.put(bingImage.id,bingImage);\n  }\n  bingSearchEndReached=oldCount == searchResult.size() || nextImagesSearchOffset == null;\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 328,
      "astHeight" : 14
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.LambdaExpression,body]",
      "nodePosition" : {
        "charLength" : 3787,
        "startLineNumber" : 1257,
        "startColumnNumber" : 147,
        "endLineNumber" : 1328,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  if (token != lastSearchToken) {\n    return;\n  }\n  imageReqId=0;\n  int oldCount=searchResult.size();\n  if (response != null) {\n    TLRPC.messages_BotResults res=(TLRPC.messages_BotResults)response;\n    nextImagesSearchOffset=res.next_offset;\n    for (int a=0, count=res.results.size(); a < count; a++) {\n      TLRPC.BotInlineResult result=res.results.get(a);\n      if (!\"photo\".equals(result.type)) {\n        continue;\n      }\n      if (searchResultKeys.containsKey(result.id)) {\n        continue;\n      }\n      MediaController.SearchImage bingImage=new MediaController.SearchImage();\n      if (result.photo != null) {\n        TLRPC.PhotoSize size=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,AndroidUtilities.getPhotoSize());\n        TLRPC.PhotoSize size2=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,320);\n        if (size == null) {\n          continue;\n        }\n        bingImage.width=size.w;\n        bingImage.height=size.h;\n        bingImage.photoSize=size;\n        bingImage.photo=result.photo;\n        bingImage.size=size.size;\n        bingImage.thumbPhotoSize=size2;\n      }\n else {\n        if (result.content == null) {\n          continue;\n        }\n        for (int b=0; b < result.content.attributes.size(); b++) {\n          TLRPC.DocumentAttribute attribute=result.content.attributes.get(b);\n          if (attribute instanceof TLRPC.TL_documentAttributeImageSize) {\n            bingImage.width=attribute.w;\n            bingImage.height=attribute.h;\n            break;\n          }\n        }\n        if (result.thumb != null) {\n          bingImage.thumbUrl=result.thumb.url;\n        }\n else {\n          bingImage.thumbUrl=null;\n        }\n        bingImage.imageUrl=result.content.url;\n        bingImage.size=result.content.size;\n      }\n      bingImage.id=result.id;\n      bingImage.type=0;\n      searchResult.add(bingImage);\n      searchResultKeys.put(bingImage.id,bingImage);\n    }\n    bingSearchEndReached=oldCount == searchResult.size() || nextImagesSearchOffset == null;\n  }\n  if (oldCount != searchResult.size()) {\n    int prevLastRow=oldCount % columnsCount;\n    int oldRowCount=(int)Math.ceil(oldCount / (float)columnsCount);\n    if (prevLastRow != 0) {\n      notifyItemChanged((int)Math.ceil(oldCount / (float)columnsCount) - 1);\n    }\n    int newRowCount=(int)Math.ceil(searchResult.size() / (float)columnsCount);\n    searchAdapter.notifyItemRangeInserted(oldRowCount,newRowCount - oldRowCount);\n  }\n  searchEmptyView.showTextView();\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 422,
      "astHeight" : 15
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 3793,
        "startLineNumber" : 1257,
        "startColumnNumber" : 141,
        "endLineNumber" : 1328,
        "endColumnNumber" : 13
      },
      "nodeContext" : "() -> {\n  if (token != lastSearchToken) {\n    return;\n  }\n  imageReqId=0;\n  int oldCount=searchResult.size();\n  if (response != null) {\n    TLRPC.messages_BotResults res=(TLRPC.messages_BotResults)response;\n    nextImagesSearchOffset=res.next_offset;\n    for (int a=0, count=res.results.size(); a < count; a++) {\n      TLRPC.BotInlineResult result=res.results.get(a);\n      if (!\"photo\".equals(result.type)) {\n        continue;\n      }\n      if (searchResultKeys.containsKey(result.id)) {\n        continue;\n      }\n      MediaController.SearchImage bingImage=new MediaController.SearchImage();\n      if (result.photo != null) {\n        TLRPC.PhotoSize size=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,AndroidUtilities.getPhotoSize());\n        TLRPC.PhotoSize size2=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,320);\n        if (size == null) {\n          continue;\n        }\n        bingImage.width=size.w;\n        bingImage.height=size.h;\n        bingImage.photoSize=size;\n        bingImage.photo=result.photo;\n        bingImage.size=size.size;\n        bingImage.thumbPhotoSize=size2;\n      }\n else {\n        if (result.content == null) {\n          continue;\n        }\n        for (int b=0; b < result.content.attributes.size(); b++) {\n          TLRPC.DocumentAttribute attribute=result.content.attributes.get(b);\n          if (attribute instanceof TLRPC.TL_documentAttributeImageSize) {\n            bingImage.width=attribute.w;\n            bingImage.height=attribute.h;\n            break;\n          }\n        }\n        if (result.thumb != null) {\n          bingImage.thumbUrl=result.thumb.url;\n        }\n else {\n          bingImage.thumbUrl=null;\n        }\n        bingImage.imageUrl=result.content.url;\n        bingImage.size=result.content.size;\n      }\n      bingImage.id=result.id;\n      bingImage.type=0;\n      searchResult.add(bingImage);\n      searchResultKeys.put(bingImage.id,bingImage);\n    }\n    bingSearchEndReached=oldCount == searchResult.size() || nextImagesSearchOffset == null;\n  }\n  if (oldCount != searchResult.size()) {\n    int prevLastRow=oldCount % columnsCount;\n    int oldRowCount=(int)Math.ceil(oldCount / (float)columnsCount);\n    if (prevLastRow != 0) {\n      notifyItemChanged((int)Math.ceil(oldCount / (float)columnsCount) - 1);\n    }\n    int newRowCount=(int)Math.ceil(searchResult.size() / (float)columnsCount);\n    searchAdapter.notifyItemRangeInserted(oldRowCount,newRowCount - oldRowCount);\n  }\n  searchEmptyView.showTextView();\n}\n",
      "nodeType" : "LambdaExpression",
      "astNodeNumber" : 423,
      "astHeight" : 16
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 115,
        "startLineNumber" : 1278,
        "startColumnNumber" : 28,
        "endLineNumber" : 1278,
        "endColumnNumber" : 143
      },
      "nodeContext" : "TLRPC.PhotoSize size=FileLoader.getClosestPhotoSizeWithSize(result.photo.sizes,AndroidUtilities.getPhotoSize());\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 18,
      "astHeight" : 6
    },
    "tokenLength" : 7,
    "type" : "org.telegram.tgnet.TLRPC.PhotoSize"
  } ],
  "positionList" : [ {
    "charLength" : 91,
    "startLineNumber" : 1278,
    "startColumnNumber" : 51,
    "endLineNumber" : 1278,
    "endColumnNumber" : 142
  } ],
  "layoutRelationDataList" : [ ]
}
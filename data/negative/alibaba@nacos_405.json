{
  "id" : 405,
  "expression" : "writer",
  "projectName" : "alibaba@nacos",
  "commitID" : "4e7346db1d6657ffe07c96bebd2d348229c2812f",
  "filePath" : "/config/src/main/java/com/alibaba/nacos/config/server/service/repository/embedded/DerbySnapshotOperation.java",
  "occurrences" : 4,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "writer",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 6,
      "startLineNumber" : 84,
      "startColumnNumber" : 41,
      "endLineNumber" : 84,
      "endColumnNumber" : 47
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.VariableDeclarationFragment,initializer]",
      "nodePosition" : {
        "charLength" : 16,
        "startLineNumber" : 84,
        "startColumnNumber" : 41,
        "endLineNumber" : 84,
        "endColumnNumber" : 57
      },
      "nodeContext" : "writer.getPath()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.VariableDeclarationStatement,fragments]",
      "nodePosition" : {
        "charLength" : 28,
        "startLineNumber" : 84,
        "startColumnNumber" : 29,
        "endLineNumber" : 84,
        "endColumnNumber" : 57
      },
      "nodeContext" : "writePath=writer.getPath()",
      "nodeType" : "VariableDeclarationFragment",
      "astNodeNumber" : 5,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 42,
        "startLineNumber" : 84,
        "startColumnNumber" : 16,
        "endLineNumber" : 84,
        "endColumnNumber" : 58
      },
      "nodeContext" : "final String writePath=writer.getPath();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 9,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.TryStatement,body]",
      "nodePosition" : {
        "charLength" : 888,
        "startLineNumber" : 83,
        "startColumnNumber" : 16,
        "endLineNumber" : 100,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  final String writePath=writer.getPath();\n  final String parentPath=Paths.get(writePath,snapshotDir).toString();\n  DiskUtils.deleteDirectory(parentPath);\n  DiskUtils.forceMkdir(parentPath);\n  doDerbyBackup(parentPath);\n  final String outputFile=Paths.get(writePath,snapshotArchive).toString();\n  final Checksum checksum=new CRC64();\n  DiskUtils.compress(writePath,snapshotDir,outputFile,checksum);\n  DiskUtils.deleteDirectory(parentPath);\n  final LocalFileMeta meta=new LocalFileMeta();\n  meta.append(checkSumKey,Long.toHexString(checksum.getValue()));\n  callFinally.accept(writer.addFile(snapshotArchive,meta),null);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 102,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1266,
        "startLineNumber" : 83,
        "startColumnNumber" : 12,
        "endLineNumber" : 107,
        "endColumnNumber" : 13
      },
      "nodeContext" : "try {\n  final String writePath=writer.getPath();\n  final String parentPath=Paths.get(writePath,snapshotDir).toString();\n  DiskUtils.deleteDirectory(parentPath);\n  DiskUtils.forceMkdir(parentPath);\n  doDerbyBackup(parentPath);\n  final String outputFile=Paths.get(writePath,snapshotArchive).toString();\n  final Checksum checksum=new CRC64();\n  DiskUtils.compress(writePath,snapshotDir,outputFile,checksum);\n  DiskUtils.deleteDirectory(parentPath);\n  final LocalFileMeta meta=new LocalFileMeta();\n  meta.append(checkSumKey,Long.toHexString(checksum.getValue()));\n  callFinally.accept(writer.addFile(snapshotArchive,meta),null);\n}\n catch (Throwable t) {\n  LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n  callFinally.accept(false,t);\n}\n finally {\n  lock.unlock();\n  TimerContext.end(DERBY_SNAPSHOT_SAVE,LogUtil.FATAL_LOG);\n}\n",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 142,
      "astHeight" : 7
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.LambdaExpression,body]",
      "nodePosition" : {
        "charLength" : 1422,
        "startLineNumber" : 78,
        "startColumnNumber" : 38,
        "endLineNumber" : 108,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  TimerContext.start(DERBY_SNAPSHOT_SAVE);\n  final Lock lock=writeLock;\n  lock.lock();\n  try {\n    final String writePath=writer.getPath();\n    final String parentPath=Paths.get(writePath,snapshotDir).toString();\n    DiskUtils.deleteDirectory(parentPath);\n    DiskUtils.forceMkdir(parentPath);\n    doDerbyBackup(parentPath);\n    final String outputFile=Paths.get(writePath,snapshotArchive).toString();\n    final Checksum checksum=new CRC64();\n    DiskUtils.compress(writePath,snapshotDir,outputFile,checksum);\n    DiskUtils.deleteDirectory(parentPath);\n    final LocalFileMeta meta=new LocalFileMeta();\n    meta.append(checkSumKey,Long.toHexString(checksum.getValue()));\n    callFinally.accept(writer.addFile(snapshotArchive,meta),null);\n  }\n catch (  Throwable t) {\n    LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n    callFinally.accept(false,t);\n  }\n finally {\n    lock.unlock();\n    TimerContext.end(DERBY_SNAPSHOT_SAVE,LogUtil.FATAL_LOG);\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 159,
      "astHeight" : 8
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 1428,
        "startLineNumber" : 78,
        "startColumnNumber" : 32,
        "endLineNumber" : 108,
        "endColumnNumber" : 9
      },
      "nodeContext" : "() -> {\n  TimerContext.start(DERBY_SNAPSHOT_SAVE);\n  final Lock lock=writeLock;\n  lock.lock();\n  try {\n    final String writePath=writer.getPath();\n    final String parentPath=Paths.get(writePath,snapshotDir).toString();\n    DiskUtils.deleteDirectory(parentPath);\n    DiskUtils.forceMkdir(parentPath);\n    doDerbyBackup(parentPath);\n    final String outputFile=Paths.get(writePath,snapshotArchive).toString();\n    final Checksum checksum=new CRC64();\n    DiskUtils.compress(writePath,snapshotDir,outputFile,checksum);\n    DiskUtils.deleteDirectory(parentPath);\n    final LocalFileMeta meta=new LocalFileMeta();\n    meta.append(checkSumKey,Long.toHexString(checksum.getValue()));\n    callFinally.accept(writer.addFile(snapshotArchive,meta),null);\n  }\n catch (  Throwable t) {\n    LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n    callFinally.accept(false,t);\n  }\n finally {\n    lock.unlock();\n    TimerContext.end(DERBY_SNAPSHOT_SAVE,LogUtil.FATAL_LOG);\n  }\n}\n",
      "nodeType" : "LambdaExpression",
      "astNodeNumber" : 160,
      "astHeight" : 9
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 42,
        "startLineNumber" : 84,
        "startColumnNumber" : 16,
        "endLineNumber" : 84,
        "endColumnNumber" : 58
      },
      "nodeContext" : "final String writePath=writer.getPath();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 9,
      "astHeight" : 4
    },
    "tokenLength" : 1,
    "type" : "com.alibaba.nacos.consistency.snapshot.Writer"
  }, {
    "nodeContext" : "writer",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 6,
      "startLineNumber" : 99,
      "startColumnNumber" : 35,
      "endLineNumber" : 99,
      "endColumnNumber" : 41
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 37,
        "startLineNumber" : 99,
        "startColumnNumber" : 35,
        "endLineNumber" : 99,
        "endColumnNumber" : 72
      },
      "nodeContext" : "writer.addFile(snapshotArchive,meta)",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 5,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 63,
        "startLineNumber" : 99,
        "startColumnNumber" : 16,
        "endLineNumber" : 99,
        "endColumnNumber" : 79
      },
      "nodeContext" : "callFinally.accept(writer.addFile(snapshotArchive,meta),null)",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 9,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 64,
        "startLineNumber" : 99,
        "startColumnNumber" : 16,
        "endLineNumber" : 99,
        "endColumnNumber" : 80
      },
      "nodeContext" : "callFinally.accept(writer.addFile(snapshotArchive,meta),null);\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 10,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.TryStatement,body]",
      "nodePosition" : {
        "charLength" : 888,
        "startLineNumber" : 83,
        "startColumnNumber" : 16,
        "endLineNumber" : 100,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  final String writePath=writer.getPath();\n  final String parentPath=Paths.get(writePath,snapshotDir).toString();\n  DiskUtils.deleteDirectory(parentPath);\n  DiskUtils.forceMkdir(parentPath);\n  doDerbyBackup(parentPath);\n  final String outputFile=Paths.get(writePath,snapshotArchive).toString();\n  final Checksum checksum=new CRC64();\n  DiskUtils.compress(writePath,snapshotDir,outputFile,checksum);\n  DiskUtils.deleteDirectory(parentPath);\n  final LocalFileMeta meta=new LocalFileMeta();\n  meta.append(checkSumKey,Long.toHexString(checksum.getValue()));\n  callFinally.accept(writer.addFile(snapshotArchive,meta),null);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 102,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1266,
        "startLineNumber" : 83,
        "startColumnNumber" : 12,
        "endLineNumber" : 107,
        "endColumnNumber" : 13
      },
      "nodeContext" : "try {\n  final String writePath=writer.getPath();\n  final String parentPath=Paths.get(writePath,snapshotDir).toString();\n  DiskUtils.deleteDirectory(parentPath);\n  DiskUtils.forceMkdir(parentPath);\n  doDerbyBackup(parentPath);\n  final String outputFile=Paths.get(writePath,snapshotArchive).toString();\n  final Checksum checksum=new CRC64();\n  DiskUtils.compress(writePath,snapshotDir,outputFile,checksum);\n  DiskUtils.deleteDirectory(parentPath);\n  final LocalFileMeta meta=new LocalFileMeta();\n  meta.append(checkSumKey,Long.toHexString(checksum.getValue()));\n  callFinally.accept(writer.addFile(snapshotArchive,meta),null);\n}\n catch (Throwable t) {\n  LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n  callFinally.accept(false,t);\n}\n finally {\n  lock.unlock();\n  TimerContext.end(DERBY_SNAPSHOT_SAVE,LogUtil.FATAL_LOG);\n}\n",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 142,
      "astHeight" : 7
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.LambdaExpression,body]",
      "nodePosition" : {
        "charLength" : 1422,
        "startLineNumber" : 78,
        "startColumnNumber" : 38,
        "endLineNumber" : 108,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  TimerContext.start(DERBY_SNAPSHOT_SAVE);\n  final Lock lock=writeLock;\n  lock.lock();\n  try {\n    final String writePath=writer.getPath();\n    final String parentPath=Paths.get(writePath,snapshotDir).toString();\n    DiskUtils.deleteDirectory(parentPath);\n    DiskUtils.forceMkdir(parentPath);\n    doDerbyBackup(parentPath);\n    final String outputFile=Paths.get(writePath,snapshotArchive).toString();\n    final Checksum checksum=new CRC64();\n    DiskUtils.compress(writePath,snapshotDir,outputFile,checksum);\n    DiskUtils.deleteDirectory(parentPath);\n    final LocalFileMeta meta=new LocalFileMeta();\n    meta.append(checkSumKey,Long.toHexString(checksum.getValue()));\n    callFinally.accept(writer.addFile(snapshotArchive,meta),null);\n  }\n catch (  Throwable t) {\n    LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n    callFinally.accept(false,t);\n  }\n finally {\n    lock.unlock();\n    TimerContext.end(DERBY_SNAPSHOT_SAVE,LogUtil.FATAL_LOG);\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 159,
      "astHeight" : 8
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 1428,
        "startLineNumber" : 78,
        "startColumnNumber" : 32,
        "endLineNumber" : 108,
        "endColumnNumber" : 9
      },
      "nodeContext" : "() -> {\n  TimerContext.start(DERBY_SNAPSHOT_SAVE);\n  final Lock lock=writeLock;\n  lock.lock();\n  try {\n    final String writePath=writer.getPath();\n    final String parentPath=Paths.get(writePath,snapshotDir).toString();\n    DiskUtils.deleteDirectory(parentPath);\n    DiskUtils.forceMkdir(parentPath);\n    doDerbyBackup(parentPath);\n    final String outputFile=Paths.get(writePath,snapshotArchive).toString();\n    final Checksum checksum=new CRC64();\n    DiskUtils.compress(writePath,snapshotDir,outputFile,checksum);\n    DiskUtils.deleteDirectory(parentPath);\n    final LocalFileMeta meta=new LocalFileMeta();\n    meta.append(checkSumKey,Long.toHexString(checksum.getValue()));\n    callFinally.accept(writer.addFile(snapshotArchive,meta),null);\n  }\n catch (  Throwable t) {\n    LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n    callFinally.accept(false,t);\n  }\n finally {\n    lock.unlock();\n    TimerContext.end(DERBY_SNAPSHOT_SAVE,LogUtil.FATAL_LOG);\n  }\n}\n",
      "nodeType" : "LambdaExpression",
      "astNodeNumber" : 160,
      "astHeight" : 9
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 64,
        "startLineNumber" : 99,
        "startColumnNumber" : 16,
        "endLineNumber" : 99,
        "endColumnNumber" : 80
      },
      "nodeContext" : "callFinally.accept(writer.addFile(snapshotArchive,meta),null);\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 10,
      "astHeight" : 4
    },
    "tokenLength" : 1,
    "type" : "com.alibaba.nacos.consistency.snapshot.Writer"
  }, {
    "nodeContext" : "writer",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 6,
      "startLineNumber" : 101,
      "startColumnNumber" : 97,
      "endLineNumber" : 101,
      "endColumnNumber" : 103
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 16,
        "startLineNumber" : 101,
        "startColumnNumber" : 97,
        "endLineNumber" : 101,
        "endColumnNumber" : 113
      },
      "nodeContext" : "writer.getPath()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 145,
        "startLineNumber" : 101,
        "startColumnNumber" : 16,
        "endLineNumber" : 102,
        "endColumnNumber" : 46
      },
      "nodeContext" : "LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t)",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 13,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 146,
        "startLineNumber" : 101,
        "startColumnNumber" : 16,
        "endLineNumber" : 102,
        "endColumnNumber" : 47
      },
      "nodeContext" : "LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 14,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.CatchClause,body]",
      "nodePosition" : {
        "charLength" : 224,
        "startLineNumber" : 100,
        "startColumnNumber" : 34,
        "endLineNumber" : 104,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n  callFinally.accept(false,t);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 21,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TryStatement,catchClauses]",
      "nodePosition" : {
        "charLength" : 244,
        "startLineNumber" : 100,
        "startColumnNumber" : 14,
        "endLineNumber" : 104,
        "endColumnNumber" : 13
      },
      "nodeContext" : "catch (Throwable t) {\n  LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n  callFinally.accept(false,t);\n}\n",
      "nodeType" : "CatchClause",
      "astNodeNumber" : 26,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1266,
        "startLineNumber" : 83,
        "startColumnNumber" : 12,
        "endLineNumber" : 107,
        "endColumnNumber" : 13
      },
      "nodeContext" : "try {\n  final String writePath=writer.getPath();\n  final String parentPath=Paths.get(writePath,snapshotDir).toString();\n  DiskUtils.deleteDirectory(parentPath);\n  DiskUtils.forceMkdir(parentPath);\n  doDerbyBackup(parentPath);\n  final String outputFile=Paths.get(writePath,snapshotArchive).toString();\n  final Checksum checksum=new CRC64();\n  DiskUtils.compress(writePath,snapshotDir,outputFile,checksum);\n  DiskUtils.deleteDirectory(parentPath);\n  final LocalFileMeta meta=new LocalFileMeta();\n  meta.append(checkSumKey,Long.toHexString(checksum.getValue()));\n  callFinally.accept(writer.addFile(snapshotArchive,meta),null);\n}\n catch (Throwable t) {\n  LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n  callFinally.accept(false,t);\n}\n finally {\n  lock.unlock();\n  TimerContext.end(DERBY_SNAPSHOT_SAVE,LogUtil.FATAL_LOG);\n}\n",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 142,
      "astHeight" : 7
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.LambdaExpression,body]",
      "nodePosition" : {
        "charLength" : 1422,
        "startLineNumber" : 78,
        "startColumnNumber" : 38,
        "endLineNumber" : 108,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  TimerContext.start(DERBY_SNAPSHOT_SAVE);\n  final Lock lock=writeLock;\n  lock.lock();\n  try {\n    final String writePath=writer.getPath();\n    final String parentPath=Paths.get(writePath,snapshotDir).toString();\n    DiskUtils.deleteDirectory(parentPath);\n    DiskUtils.forceMkdir(parentPath);\n    doDerbyBackup(parentPath);\n    final String outputFile=Paths.get(writePath,snapshotArchive).toString();\n    final Checksum checksum=new CRC64();\n    DiskUtils.compress(writePath,snapshotDir,outputFile,checksum);\n    DiskUtils.deleteDirectory(parentPath);\n    final LocalFileMeta meta=new LocalFileMeta();\n    meta.append(checkSumKey,Long.toHexString(checksum.getValue()));\n    callFinally.accept(writer.addFile(snapshotArchive,meta),null);\n  }\n catch (  Throwable t) {\n    LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n    callFinally.accept(false,t);\n  }\n finally {\n    lock.unlock();\n    TimerContext.end(DERBY_SNAPSHOT_SAVE,LogUtil.FATAL_LOG);\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 159,
      "astHeight" : 8
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 1428,
        "startLineNumber" : 78,
        "startColumnNumber" : 32,
        "endLineNumber" : 108,
        "endColumnNumber" : 9
      },
      "nodeContext" : "() -> {\n  TimerContext.start(DERBY_SNAPSHOT_SAVE);\n  final Lock lock=writeLock;\n  lock.lock();\n  try {\n    final String writePath=writer.getPath();\n    final String parentPath=Paths.get(writePath,snapshotDir).toString();\n    DiskUtils.deleteDirectory(parentPath);\n    DiskUtils.forceMkdir(parentPath);\n    doDerbyBackup(parentPath);\n    final String outputFile=Paths.get(writePath,snapshotArchive).toString();\n    final Checksum checksum=new CRC64();\n    DiskUtils.compress(writePath,snapshotDir,outputFile,checksum);\n    DiskUtils.deleteDirectory(parentPath);\n    final LocalFileMeta meta=new LocalFileMeta();\n    meta.append(checkSumKey,Long.toHexString(checksum.getValue()));\n    callFinally.accept(writer.addFile(snapshotArchive,meta),null);\n  }\n catch (  Throwable t) {\n    LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n    callFinally.accept(false,t);\n  }\n finally {\n    lock.unlock();\n    TimerContext.end(DERBY_SNAPSHOT_SAVE,LogUtil.FATAL_LOG);\n  }\n}\n",
      "nodeType" : "LambdaExpression",
      "astNodeNumber" : 160,
      "astHeight" : 9
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 16,
        "startLineNumber" : 101,
        "startColumnNumber" : 97,
        "endLineNumber" : 101,
        "endColumnNumber" : 113
      },
      "nodeContext" : "writer.getPath()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    },
    "tokenLength" : 1,
    "type" : "com.alibaba.nacos.consistency.snapshot.Writer"
  }, {
    "nodeContext" : "writer",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 6,
      "startLineNumber" : 102,
      "startColumnNumber" : 24,
      "endLineNumber" : 102,
      "endColumnNumber" : 30
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 18,
        "startLineNumber" : 102,
        "startColumnNumber" : 24,
        "endLineNumber" : 102,
        "endColumnNumber" : 42
      },
      "nodeContext" : "writer.listFiles()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 145,
        "startLineNumber" : 101,
        "startColumnNumber" : 16,
        "endLineNumber" : 102,
        "endColumnNumber" : 46
      },
      "nodeContext" : "LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t)",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 13,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 146,
        "startLineNumber" : 101,
        "startColumnNumber" : 16,
        "endLineNumber" : 102,
        "endColumnNumber" : 47
      },
      "nodeContext" : "LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 14,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.CatchClause,body]",
      "nodePosition" : {
        "charLength" : 224,
        "startLineNumber" : 100,
        "startColumnNumber" : 34,
        "endLineNumber" : 104,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n  callFinally.accept(false,t);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 21,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TryStatement,catchClauses]",
      "nodePosition" : {
        "charLength" : 244,
        "startLineNumber" : 100,
        "startColumnNumber" : 14,
        "endLineNumber" : 104,
        "endColumnNumber" : 13
      },
      "nodeContext" : "catch (Throwable t) {\n  LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n  callFinally.accept(false,t);\n}\n",
      "nodeType" : "CatchClause",
      "astNodeNumber" : 26,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1266,
        "startLineNumber" : 83,
        "startColumnNumber" : 12,
        "endLineNumber" : 107,
        "endColumnNumber" : 13
      },
      "nodeContext" : "try {\n  final String writePath=writer.getPath();\n  final String parentPath=Paths.get(writePath,snapshotDir).toString();\n  DiskUtils.deleteDirectory(parentPath);\n  DiskUtils.forceMkdir(parentPath);\n  doDerbyBackup(parentPath);\n  final String outputFile=Paths.get(writePath,snapshotArchive).toString();\n  final Checksum checksum=new CRC64();\n  DiskUtils.compress(writePath,snapshotDir,outputFile,checksum);\n  DiskUtils.deleteDirectory(parentPath);\n  final LocalFileMeta meta=new LocalFileMeta();\n  meta.append(checkSumKey,Long.toHexString(checksum.getValue()));\n  callFinally.accept(writer.addFile(snapshotArchive,meta),null);\n}\n catch (Throwable t) {\n  LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n  callFinally.accept(false,t);\n}\n finally {\n  lock.unlock();\n  TimerContext.end(DERBY_SNAPSHOT_SAVE,LogUtil.FATAL_LOG);\n}\n",
      "nodeType" : "TryStatement",
      "astNodeNumber" : 142,
      "astHeight" : 7
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.LambdaExpression,body]",
      "nodePosition" : {
        "charLength" : 1422,
        "startLineNumber" : 78,
        "startColumnNumber" : 38,
        "endLineNumber" : 108,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  TimerContext.start(DERBY_SNAPSHOT_SAVE);\n  final Lock lock=writeLock;\n  lock.lock();\n  try {\n    final String writePath=writer.getPath();\n    final String parentPath=Paths.get(writePath,snapshotDir).toString();\n    DiskUtils.deleteDirectory(parentPath);\n    DiskUtils.forceMkdir(parentPath);\n    doDerbyBackup(parentPath);\n    final String outputFile=Paths.get(writePath,snapshotArchive).toString();\n    final Checksum checksum=new CRC64();\n    DiskUtils.compress(writePath,snapshotDir,outputFile,checksum);\n    DiskUtils.deleteDirectory(parentPath);\n    final LocalFileMeta meta=new LocalFileMeta();\n    meta.append(checkSumKey,Long.toHexString(checksum.getValue()));\n    callFinally.accept(writer.addFile(snapshotArchive,meta),null);\n  }\n catch (  Throwable t) {\n    LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n    callFinally.accept(false,t);\n  }\n finally {\n    lock.unlock();\n    TimerContext.end(DERBY_SNAPSHOT_SAVE,LogUtil.FATAL_LOG);\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 159,
      "astHeight" : 8
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 1428,
        "startLineNumber" : 78,
        "startColumnNumber" : 32,
        "endLineNumber" : 108,
        "endColumnNumber" : 9
      },
      "nodeContext" : "() -> {\n  TimerContext.start(DERBY_SNAPSHOT_SAVE);\n  final Lock lock=writeLock;\n  lock.lock();\n  try {\n    final String writePath=writer.getPath();\n    final String parentPath=Paths.get(writePath,snapshotDir).toString();\n    DiskUtils.deleteDirectory(parentPath);\n    DiskUtils.forceMkdir(parentPath);\n    doDerbyBackup(parentPath);\n    final String outputFile=Paths.get(writePath,snapshotArchive).toString();\n    final Checksum checksum=new CRC64();\n    DiskUtils.compress(writePath,snapshotDir,outputFile,checksum);\n    DiskUtils.deleteDirectory(parentPath);\n    final LocalFileMeta meta=new LocalFileMeta();\n    meta.append(checkSumKey,Long.toHexString(checksum.getValue()));\n    callFinally.accept(writer.addFile(snapshotArchive,meta),null);\n  }\n catch (  Throwable t) {\n    LogUtil.FATAL_LOG.error(\"Fail to compress snapshot, path={}, file list={}, {}.\",writer.getPath(),writer.listFiles(),t);\n    callFinally.accept(false,t);\n  }\n finally {\n    lock.unlock();\n    TimerContext.end(DERBY_SNAPSHOT_SAVE,LogUtil.FATAL_LOG);\n  }\n}\n",
      "nodeType" : "LambdaExpression",
      "astNodeNumber" : 160,
      "astHeight" : 9
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 18,
        "startLineNumber" : 102,
        "startColumnNumber" : 24,
        "endLineNumber" : 102,
        "endColumnNumber" : 42
      },
      "nodeContext" : "writer.listFiles()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    },
    "tokenLength" : 1,
    "type" : "com.alibaba.nacos.consistency.snapshot.Writer"
  } ],
  "positionList" : [ {
    "charLength" : 6,
    "startLineNumber" : 84,
    "startColumnNumber" : 41,
    "endLineNumber" : 84,
    "endColumnNumber" : 47
  }, {
    "charLength" : 6,
    "startLineNumber" : 99,
    "startColumnNumber" : 35,
    "endLineNumber" : 99,
    "endColumnNumber" : 41
  }, {
    "charLength" : 6,
    "startLineNumber" : 101,
    "startColumnNumber" : 97,
    "endLineNumber" : 101,
    "endColumnNumber" : 103
  }, {
    "charLength" : 6,
    "startLineNumber" : 102,
    "startColumnNumber" : 24,
    "endLineNumber" : 102,
    "endColumnNumber" : 30
  } ],
  "layoutRelationDataList" : [ {
    "firstKey" : 0,
    "secondKey" : 1,
    "layout" : 3
  }, {
    "firstKey" : 0,
    "secondKey" : 2,
    "layout" : 4
  }, {
    "firstKey" : 0,
    "secondKey" : 3,
    "layout" : 4
  }, {
    "firstKey" : 1,
    "secondKey" : 0,
    "layout" : 3
  }, {
    "firstKey" : 1,
    "secondKey" : 2,
    "layout" : 4
  }, {
    "firstKey" : 1,
    "secondKey" : 3,
    "layout" : 4
  }, {
    "firstKey" : 2,
    "secondKey" : 0,
    "layout" : 5
  }, {
    "firstKey" : 2,
    "secondKey" : 1,
    "layout" : 5
  }, {
    "firstKey" : 2,
    "secondKey" : 3,
    "layout" : 1
  }, {
    "firstKey" : 3,
    "secondKey" : 0,
    "layout" : 5
  }, {
    "firstKey" : 3,
    "secondKey" : 1,
    "layout" : 5
  }, {
    "firstKey" : 3,
    "secondKey" : 2,
    "layout" : 1
  } ]
}
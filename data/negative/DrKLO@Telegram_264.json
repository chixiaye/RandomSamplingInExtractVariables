{
  "id" : 264,
  "expression" : "event",
  "projectName" : "DrKLO@Telegram",
  "commitID" : "11fbfb1329df700b203e1852a71c4c11b5ab12f4",
  "filePath" : "/TMessagesProj/src/main/java/org/telegram/ui/ContentPreviewViewer.java",
  "occurrences" : 12,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "event",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 5,
      "startLineNumber" : 350,
      "startColumnNumber" : 16,
      "endLineNumber" : 350,
      "endColumnNumber" : 21
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,leftOperand]",
      "nodePosition" : {
        "charLength" : 17,
        "startLineNumber" : 350,
        "startColumnNumber" : 16,
        "endLineNumber" : 350,
        "endColumnNumber" : 33
      },
      "nodeContext" : "event.getAction()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,leftOperand]",
      "nodePosition" : {
        "charLength" : 42,
        "startLineNumber" : 350,
        "startColumnNumber" : 16,
        "endLineNumber" : 350,
        "endColumnNumber" : 58
      },
      "nodeContext" : "event.getAction() == MotionEvent.ACTION_UP",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 7,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,leftOperand]",
      "nodePosition" : {
        "charLength" : 92,
        "startLineNumber" : 350,
        "startColumnNumber" : 16,
        "endLineNumber" : 350,
        "endColumnNumber" : 108
      },
      "nodeContext" : "event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 15,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 146,
        "startLineNumber" : 350,
        "startColumnNumber" : 16,
        "endLineNumber" : 350,
        "endColumnNumber" : 162
      },
      "nodeContext" : "event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 23,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8148,
        "startLineNumber" : 350,
        "startColumnNumber" : 12,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n  AndroidUtilities.runOnUIThread(() -> {\n    if (listView instanceof RecyclerListView) {\n      listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n    }\n  }\n,150);\n  if (openPreviewRunnable != null) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n else   if (isVisible()) {\n    close();\n    if (currentPreviewCell != null) {\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=null;\n    }\n  }\n}\n else if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 683,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 8172,
        "startLineNumber" : 349,
        "startColumnNumber" : 56,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 684,
      "astHeight" : 22
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8220,
        "startLineNumber" : 349,
        "startColumnNumber" : 8,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "if (openPreviewRunnable != null || isVisible()) {\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 691,
      "astHeight" : 23
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 8307,
        "startLineNumber" : 347,
        "startColumnNumber" : 179,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 698,
      "astHeight" : 24
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 8482,
        "startLineNumber" : 347,
        "startColumnNumber" : 4,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public boolean onTouch(MotionEvent event,final RecyclerListView listView,final int height,final Object listener,ContentPreviewViewerDelegate contentPreviewViewerDelegate){\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 724,
      "astHeight" : 25
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 146,
        "startLineNumber" : 350,
        "startColumnNumber" : 16,
        "endLineNumber" : 350,
        "endColumnNumber" : 162
      },
      "nodeContext" : "event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 23,
      "astHeight" : 5
    },
    "tokenLength" : 1,
    "type" : "org.telegram.ui.MotionEvent"
  }, {
    "nodeContext" : "event",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 5,
      "startLineNumber" : 350,
      "startColumnNumber" : 62,
      "endLineNumber" : 350,
      "endColumnNumber" : 67
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,leftOperand]",
      "nodePosition" : {
        "charLength" : 17,
        "startLineNumber" : 350,
        "startColumnNumber" : 62,
        "endLineNumber" : 350,
        "endColumnNumber" : 79
      },
      "nodeContext" : "event.getAction()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,rightOperand]",
      "nodePosition" : {
        "charLength" : 46,
        "startLineNumber" : 350,
        "startColumnNumber" : 62,
        "endLineNumber" : 350,
        "endColumnNumber" : 108
      },
      "nodeContext" : "event.getAction() == MotionEvent.ACTION_CANCEL",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 7,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,leftOperand]",
      "nodePosition" : {
        "charLength" : 92,
        "startLineNumber" : 350,
        "startColumnNumber" : 16,
        "endLineNumber" : 350,
        "endColumnNumber" : 108
      },
      "nodeContext" : "event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 15,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 146,
        "startLineNumber" : 350,
        "startColumnNumber" : 16,
        "endLineNumber" : 350,
        "endColumnNumber" : 162
      },
      "nodeContext" : "event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 23,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8148,
        "startLineNumber" : 350,
        "startColumnNumber" : 12,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n  AndroidUtilities.runOnUIThread(() -> {\n    if (listView instanceof RecyclerListView) {\n      listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n    }\n  }\n,150);\n  if (openPreviewRunnable != null) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n else   if (isVisible()) {\n    close();\n    if (currentPreviewCell != null) {\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=null;\n    }\n  }\n}\n else if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 683,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 8172,
        "startLineNumber" : 349,
        "startColumnNumber" : 56,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 684,
      "astHeight" : 22
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8220,
        "startLineNumber" : 349,
        "startColumnNumber" : 8,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "if (openPreviewRunnable != null || isVisible()) {\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 691,
      "astHeight" : 23
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 8307,
        "startLineNumber" : 347,
        "startColumnNumber" : 179,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 698,
      "astHeight" : 24
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 8482,
        "startLineNumber" : 347,
        "startColumnNumber" : 4,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public boolean onTouch(MotionEvent event,final RecyclerListView listView,final int height,final Object listener,ContentPreviewViewerDelegate contentPreviewViewerDelegate){\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 724,
      "astHeight" : 25
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 146,
        "startLineNumber" : 350,
        "startColumnNumber" : 16,
        "endLineNumber" : 350,
        "endColumnNumber" : 162
      },
      "nodeContext" : "event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 23,
      "astHeight" : 5
    },
    "tokenLength" : 1,
    "type" : "org.telegram.ui.MotionEvent"
  }, {
    "nodeContext" : "event",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 5,
      "startLineNumber" : 350,
      "startColumnNumber" : 112,
      "endLineNumber" : 350,
      "endColumnNumber" : 117
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,leftOperand]",
      "nodePosition" : {
        "charLength" : 17,
        "startLineNumber" : 350,
        "startColumnNumber" : 112,
        "endLineNumber" : 350,
        "endColumnNumber" : 129
      },
      "nodeContext" : "event.getAction()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,rightOperand]",
      "nodePosition" : {
        "charLength" : 50,
        "startLineNumber" : 350,
        "startColumnNumber" : 112,
        "endLineNumber" : 350,
        "endColumnNumber" : 162
      },
      "nodeContext" : "event.getAction() == MotionEvent.ACTION_POINTER_UP",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 7,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 146,
        "startLineNumber" : 350,
        "startColumnNumber" : 16,
        "endLineNumber" : 350,
        "endColumnNumber" : 162
      },
      "nodeContext" : "event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 23,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8148,
        "startLineNumber" : 350,
        "startColumnNumber" : 12,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n  AndroidUtilities.runOnUIThread(() -> {\n    if (listView instanceof RecyclerListView) {\n      listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n    }\n  }\n,150);\n  if (openPreviewRunnable != null) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n else   if (isVisible()) {\n    close();\n    if (currentPreviewCell != null) {\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=null;\n    }\n  }\n}\n else if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 683,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 8172,
        "startLineNumber" : 349,
        "startColumnNumber" : 56,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 684,
      "astHeight" : 22
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8220,
        "startLineNumber" : 349,
        "startColumnNumber" : 8,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "if (openPreviewRunnable != null || isVisible()) {\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 691,
      "astHeight" : 23
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 8307,
        "startLineNumber" : 347,
        "startColumnNumber" : 179,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 698,
      "astHeight" : 24
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 8482,
        "startLineNumber" : 347,
        "startColumnNumber" : 4,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public boolean onTouch(MotionEvent event,final RecyclerListView listView,final int height,final Object listener,ContentPreviewViewerDelegate contentPreviewViewerDelegate){\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 724,
      "astHeight" : 25
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 146,
        "startLineNumber" : 350,
        "startColumnNumber" : 16,
        "endLineNumber" : 350,
        "endColumnNumber" : 162
      },
      "nodeContext" : "event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 23,
      "astHeight" : 5
    },
    "tokenLength" : 1,
    "type" : "org.telegram.ui.MotionEvent"
  }, {
    "nodeContext" : "event",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 5,
      "startLineNumber" : 372,
      "startColumnNumber" : 23,
      "endLineNumber" : 372,
      "endColumnNumber" : 28
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,leftOperand]",
      "nodePosition" : {
        "charLength" : 17,
        "startLineNumber" : 372,
        "startColumnNumber" : 23,
        "endLineNumber" : 372,
        "endColumnNumber" : 40
      },
      "nodeContext" : "event.getAction()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 44,
        "startLineNumber" : 372,
        "startColumnNumber" : 23,
        "endLineNumber" : 372,
        "endColumnNumber" : 67
      },
      "nodeContext" : "event.getAction() != MotionEvent.ACTION_DOWN",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 7,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 6789,
        "startLineNumber" : 372,
        "startColumnNumber" : 19,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 560,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8148,
        "startLineNumber" : 350,
        "startColumnNumber" : 12,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n  AndroidUtilities.runOnUIThread(() -> {\n    if (listView instanceof RecyclerListView) {\n      listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n    }\n  }\n,150);\n  if (openPreviewRunnable != null) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n else   if (isVisible()) {\n    close();\n    if (currentPreviewCell != null) {\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=null;\n    }\n  }\n}\n else if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 683,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 8172,
        "startLineNumber" : 349,
        "startColumnNumber" : 56,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 684,
      "astHeight" : 22
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8220,
        "startLineNumber" : 349,
        "startColumnNumber" : 8,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "if (openPreviewRunnable != null || isVisible()) {\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 691,
      "astHeight" : 23
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 8307,
        "startLineNumber" : 347,
        "startColumnNumber" : 179,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 698,
      "astHeight" : 24
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 8482,
        "startLineNumber" : 347,
        "startColumnNumber" : 4,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public boolean onTouch(MotionEvent event,final RecyclerListView listView,final int height,final Object listener,ContentPreviewViewerDelegate contentPreviewViewerDelegate){\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 724,
      "astHeight" : 25
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 44,
        "startLineNumber" : 372,
        "startColumnNumber" : 23,
        "endLineNumber" : 372,
        "endColumnNumber" : 67
      },
      "nodeContext" : "event.getAction() != MotionEvent.ACTION_DOWN",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 7,
      "astHeight" : 3
    },
    "tokenLength" : 1,
    "type" : "org.telegram.ui.MotionEvent"
  }, {
    "nodeContext" : "event",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 5,
      "startLineNumber" : 374,
      "startColumnNumber" : 24,
      "endLineNumber" : 374,
      "endColumnNumber" : 29
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,leftOperand]",
      "nodePosition" : {
        "charLength" : 17,
        "startLineNumber" : 374,
        "startColumnNumber" : 24,
        "endLineNumber" : 374,
        "endColumnNumber" : 41
      },
      "nodeContext" : "event.getAction()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 44,
        "startLineNumber" : 374,
        "startColumnNumber" : 24,
        "endLineNumber" : 374,
        "endColumnNumber" : 68
      },
      "nodeContext" : "event.getAction() == MotionEvent.ACTION_MOVE",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 7,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 6020,
        "startLineNumber" : 374,
        "startColumnNumber" : 20,
        "endLineNumber" : 467,
        "endColumnNumber" : 21
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_MOVE) {\n  if (currentContentType == CONTENT_TYPE_GIF) {\n    if (visibleDialog == null && showProgress == 1.0f) {\n      if (lastTouchY == -10000) {\n        lastTouchY=event.getY();\n        currentMoveY=0;\n        moveY=0;\n      }\n else {\n        float newY=event.getY();\n        currentMoveY+=newY - lastTouchY;\n        lastTouchY=newY;\n        if (currentMoveY > 0) {\n          currentMoveY=0;\n        }\n else         if (currentMoveY < -AndroidUtilities.dp(60)) {\n          currentMoveY=-AndroidUtilities.dp(60);\n        }\n        moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n        containerView.invalidate();\n        if (currentMoveY <= -AndroidUtilities.dp(55)) {\n          AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n          showSheetRunnable.run();\n          return true;\n        }\n      }\n    }\n    return true;\n  }\n  int x=(int)event.getX();\n  int y=(int)event.getY();\n  int count=listView.getChildCount();\n  for (int a=0; a < count; a++) {\n    View view=null;\n    if (listView instanceof RecyclerListView) {\n      view=listView.getChildAt(a);\n    }\n    if (view == null) {\n      return false;\n    }\n    int top=view.getTop();\n    int bottom=view.getBottom();\n    int left=view.getLeft();\n    int right=view.getRight();\n    if (top > y || bottom < y || left > x || right < x) {\n      continue;\n    }\n    int contentType=CONTENT_TYPE_NONE;\n    if (view instanceof StickerEmojiCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof StickerCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof ContextLinkCell) {\n      ContextLinkCell cell=(ContextLinkCell)view;\n      if (cell.isSticker()) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (cell.isGif()) {\n        contentType=CONTENT_TYPE_GIF;\n        centerImage.setRoundRadius(AndroidUtilities.dp(6));\n      }\n    }\n    if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n      break;\n    }\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      ((StickerCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ((ContextLinkCell)currentPreviewCell).setScaled(false);\n    }\n    currentPreviewCell=view;\n    setKeyboardHeight(height);\n    clearsInputField=false;\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n      open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n      stickerEmojiCell.setScaled(true);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      StickerCell stickerCell=(StickerCell)currentPreviewCell;\n      open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n      stickerCell.setScaled(true);\n      clearsInputField=stickerCell.isClearsInputField();\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n      open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n      if (contentType != CONTENT_TYPE_GIF) {\n        contextLinkCell.setScaled(true);\n      }\n    }\n    return true;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 493,
      "astHeight" : 16
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 6093,
        "startLineNumber" : 373,
        "startColumnNumber" : 31,
        "endLineNumber" : 469,
        "endColumnNumber" : 17
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (currentContentType == CONTENT_TYPE_GIF) {\n      if (visibleDialog == null && showProgress == 1.0f) {\n        if (lastTouchY == -10000) {\n          lastTouchY=event.getY();\n          currentMoveY=0;\n          moveY=0;\n        }\n else {\n          float newY=event.getY();\n          currentMoveY+=newY - lastTouchY;\n          lastTouchY=newY;\n          if (currentMoveY > 0) {\n            currentMoveY=0;\n          }\n else           if (currentMoveY < -AndroidUtilities.dp(60)) {\n            currentMoveY=-AndroidUtilities.dp(60);\n          }\n          moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n          containerView.invalidate();\n          if (currentMoveY <= -AndroidUtilities.dp(55)) {\n            AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n            showSheetRunnable.run();\n            return true;\n          }\n        }\n      }\n      return true;\n    }\n    int x=(int)event.getX();\n    int y=(int)event.getY();\n    int count=listView.getChildCount();\n    for (int a=0; a < count; a++) {\n      View view=null;\n      if (listView instanceof RecyclerListView) {\n        view=listView.getChildAt(a);\n      }\n      if (view == null) {\n        return false;\n      }\n      int top=view.getTop();\n      int bottom=view.getBottom();\n      int left=view.getLeft();\n      int right=view.getRight();\n      if (top > y || bottom < y || left > x || right < x) {\n        continue;\n      }\n      int contentType=CONTENT_TYPE_NONE;\n      if (view instanceof StickerEmojiCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof StickerCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof ContextLinkCell) {\n        ContextLinkCell cell=(ContextLinkCell)view;\n        if (cell.isSticker()) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (cell.isGif()) {\n          contentType=CONTENT_TYPE_GIF;\n          centerImage.setRoundRadius(AndroidUtilities.dp(6));\n        }\n      }\n      if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n        break;\n      }\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=view;\n      setKeyboardHeight(height);\n      clearsInputField=false;\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n        open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n        stickerEmojiCell.setScaled(true);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        StickerCell stickerCell=(StickerCell)currentPreviewCell;\n        open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n        stickerCell.setScaled(true);\n        clearsInputField=stickerCell.isClearsInputField();\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n        open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n        if (contentType != CONTENT_TYPE_GIF) {\n          contextLinkCell.setScaled(true);\n        }\n      }\n      return true;\n    }\n  }\n  return true;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 496,
      "astHeight" : 17
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 6707,
        "startLineNumber" : 373,
        "startColumnNumber" : 16,
        "endLineNumber" : 479,
        "endColumnNumber" : 17
      },
      "nodeContext" : "if (isVisible) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (currentContentType == CONTENT_TYPE_GIF) {\n      if (visibleDialog == null && showProgress == 1.0f) {\n        if (lastTouchY == -10000) {\n          lastTouchY=event.getY();\n          currentMoveY=0;\n          moveY=0;\n        }\n else {\n          float newY=event.getY();\n          currentMoveY+=newY - lastTouchY;\n          lastTouchY=newY;\n          if (currentMoveY > 0) {\n            currentMoveY=0;\n          }\n else           if (currentMoveY < -AndroidUtilities.dp(60)) {\n            currentMoveY=-AndroidUtilities.dp(60);\n          }\n          moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n          containerView.invalidate();\n          if (currentMoveY <= -AndroidUtilities.dp(55)) {\n            AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n            showSheetRunnable.run();\n            return true;\n          }\n        }\n      }\n      return true;\n    }\n    int x=(int)event.getX();\n    int y=(int)event.getY();\n    int count=listView.getChildCount();\n    for (int a=0; a < count; a++) {\n      View view=null;\n      if (listView instanceof RecyclerListView) {\n        view=listView.getChildAt(a);\n      }\n      if (view == null) {\n        return false;\n      }\n      int top=view.getTop();\n      int bottom=view.getBottom();\n      int left=view.getLeft();\n      int right=view.getRight();\n      if (top > y || bottom < y || left > x || right < x) {\n        continue;\n      }\n      int contentType=CONTENT_TYPE_NONE;\n      if (view instanceof StickerEmojiCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof StickerCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof ContextLinkCell) {\n        ContextLinkCell cell=(ContextLinkCell)view;\n        if (cell.isSticker()) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (cell.isGif()) {\n          contentType=CONTENT_TYPE_GIF;\n          centerImage.setRoundRadius(AndroidUtilities.dp(6));\n        }\n      }\n      if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n        break;\n      }\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=view;\n      setKeyboardHeight(height);\n      clearsInputField=false;\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n        open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n        stickerEmojiCell.setScaled(true);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        StickerCell stickerCell=(StickerCell)currentPreviewCell;\n        open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n        stickerCell.setScaled(true);\n        clearsInputField=stickerCell.isClearsInputField();\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n        open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n        if (contentType != CONTENT_TYPE_GIF) {\n          contextLinkCell.setScaled(true);\n        }\n      }\n      return true;\n    }\n  }\n  return true;\n}\n else if (openPreviewRunnable != null) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n else {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 551,
      "astHeight" : 18
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 6739,
        "startLineNumber" : 372,
        "startColumnNumber" : 69,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 552,
      "astHeight" : 19
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 6789,
        "startLineNumber" : 372,
        "startColumnNumber" : 19,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 560,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8148,
        "startLineNumber" : 350,
        "startColumnNumber" : 12,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n  AndroidUtilities.runOnUIThread(() -> {\n    if (listView instanceof RecyclerListView) {\n      listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n    }\n  }\n,150);\n  if (openPreviewRunnable != null) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n else   if (isVisible()) {\n    close();\n    if (currentPreviewCell != null) {\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=null;\n    }\n  }\n}\n else if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 683,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 8172,
        "startLineNumber" : 349,
        "startColumnNumber" : 56,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 684,
      "astHeight" : 22
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8220,
        "startLineNumber" : 349,
        "startColumnNumber" : 8,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "if (openPreviewRunnable != null || isVisible()) {\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 691,
      "astHeight" : 23
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 8307,
        "startLineNumber" : 347,
        "startColumnNumber" : 179,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 698,
      "astHeight" : 24
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 8482,
        "startLineNumber" : 347,
        "startColumnNumber" : 4,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public boolean onTouch(MotionEvent event,final RecyclerListView listView,final int height,final Object listener,ContentPreviewViewerDelegate contentPreviewViewerDelegate){\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 724,
      "astHeight" : 25
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 44,
        "startLineNumber" : 374,
        "startColumnNumber" : 24,
        "endLineNumber" : 374,
        "endColumnNumber" : 68
      },
      "nodeContext" : "event.getAction() == MotionEvent.ACTION_MOVE",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 7,
      "astHeight" : 3
    },
    "tokenLength" : 1,
    "type" : "org.telegram.ui.MotionEvent"
  }, {
    "nodeContext" : "event",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 5,
      "startLineNumber" : 378,
      "startColumnNumber" : 49,
      "endLineNumber" : 378,
      "endColumnNumber" : 54
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.Assignment,rightHandSide]",
      "nodePosition" : {
        "charLength" : 12,
        "startLineNumber" : 378,
        "startColumnNumber" : 49,
        "endLineNumber" : 378,
        "endColumnNumber" : 61
      },
      "nodeContext" : "event.getY()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.ExpressionStatement,expression]",
      "nodePosition" : {
        "charLength" : 25,
        "startLineNumber" : 378,
        "startColumnNumber" : 36,
        "endLineNumber" : 378,
        "endColumnNumber" : 61
      },
      "nodeContext" : "lastTouchY=event.getY()",
      "nodeType" : "Assignment",
      "astNodeNumber" : 5,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 26,
        "startLineNumber" : 378,
        "startColumnNumber" : 36,
        "endLineNumber" : 378,
        "endColumnNumber" : 62
      },
      "nodeContext" : "lastTouchY=event.getY();\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 6,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 199,
        "startLineNumber" : 377,
        "startColumnNumber" : 58,
        "endLineNumber" : 381,
        "endColumnNumber" : 33
      },
      "nodeContext" : "{\n  lastTouchY=event.getY();\n  currentMoveY=0;\n  moveY=0;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 15,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1285,
        "startLineNumber" : 377,
        "startColumnNumber" : 32,
        "endLineNumber" : 397,
        "endColumnNumber" : 33
      },
      "nodeContext" : "if (lastTouchY == -10000) {\n  lastTouchY=event.getY();\n  currentMoveY=0;\n  moveY=0;\n}\n else {\n  float newY=event.getY();\n  currentMoveY+=newY - lastTouchY;\n  lastTouchY=newY;\n  if (currentMoveY > 0) {\n    currentMoveY=0;\n  }\n else   if (currentMoveY < -AndroidUtilities.dp(60)) {\n    currentMoveY=-AndroidUtilities.dp(60);\n  }\n  moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n  containerView.invalidate();\n  if (currentMoveY <= -AndroidUtilities.dp(55)) {\n    AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n    showSheetRunnable.run();\n    return true;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 98,
      "astHeight" : 10
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 1349,
        "startLineNumber" : 376,
        "startColumnNumber" : 79,
        "endLineNumber" : 398,
        "endColumnNumber" : 29
      },
      "nodeContext" : "{\n  if (lastTouchY == -10000) {\n    lastTouchY=event.getY();\n    currentMoveY=0;\n    moveY=0;\n  }\n else {\n    float newY=event.getY();\n    currentMoveY+=newY - lastTouchY;\n    lastTouchY=newY;\n    if (currentMoveY > 0) {\n      currentMoveY=0;\n    }\n else     if (currentMoveY < -AndroidUtilities.dp(60)) {\n      currentMoveY=-AndroidUtilities.dp(60);\n    }\n    moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n    containerView.invalidate();\n    if (currentMoveY <= -AndroidUtilities.dp(55)) {\n      AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n      showSheetRunnable.run();\n      return true;\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 99,
      "astHeight" : 11
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1400,
        "startLineNumber" : 376,
        "startColumnNumber" : 28,
        "endLineNumber" : 398,
        "endColumnNumber" : 29
      },
      "nodeContext" : "if (visibleDialog == null && showProgress == 1.0f) {\n  if (lastTouchY == -10000) {\n    lastTouchY=event.getY();\n    currentMoveY=0;\n    moveY=0;\n  }\n else {\n    float newY=event.getY();\n    currentMoveY+=newY - lastTouchY;\n    lastTouchY=newY;\n    if (currentMoveY > 0) {\n      currentMoveY=0;\n    }\n else     if (currentMoveY < -AndroidUtilities.dp(60)) {\n      currentMoveY=-AndroidUtilities.dp(60);\n    }\n    moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n    containerView.invalidate();\n    if (currentMoveY <= -AndroidUtilities.dp(55)) {\n      AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n      showSheetRunnable.run();\n      return true;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 107,
      "astHeight" : 12
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 1497,
        "startLineNumber" : 375,
        "startColumnNumber" : 68,
        "endLineNumber" : 400,
        "endColumnNumber" : 25
      },
      "nodeContext" : "{\n  if (visibleDialog == null && showProgress == 1.0f) {\n    if (lastTouchY == -10000) {\n      lastTouchY=event.getY();\n      currentMoveY=0;\n      moveY=0;\n    }\n else {\n      float newY=event.getY();\n      currentMoveY+=newY - lastTouchY;\n      lastTouchY=newY;\n      if (currentMoveY > 0) {\n        currentMoveY=0;\n      }\n else       if (currentMoveY < -AndroidUtilities.dp(60)) {\n        currentMoveY=-AndroidUtilities.dp(60);\n      }\n      moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n      containerView.invalidate();\n      if (currentMoveY <= -AndroidUtilities.dp(55)) {\n        AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n        showSheetRunnable.run();\n        return true;\n      }\n    }\n  }\n  return true;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 110,
      "astHeight" : 13
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1541,
        "startLineNumber" : 375,
        "startColumnNumber" : 24,
        "endLineNumber" : 400,
        "endColumnNumber" : 25
      },
      "nodeContext" : "if (currentContentType == CONTENT_TYPE_GIF) {\n  if (visibleDialog == null && showProgress == 1.0f) {\n    if (lastTouchY == -10000) {\n      lastTouchY=event.getY();\n      currentMoveY=0;\n      moveY=0;\n    }\n else {\n      float newY=event.getY();\n      currentMoveY+=newY - lastTouchY;\n      lastTouchY=newY;\n      if (currentMoveY > 0) {\n        currentMoveY=0;\n      }\n else       if (currentMoveY < -AndroidUtilities.dp(60)) {\n        currentMoveY=-AndroidUtilities.dp(60);\n      }\n      moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n      containerView.invalidate();\n      if (currentMoveY <= -AndroidUtilities.dp(55)) {\n        AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n        showSheetRunnable.run();\n        return true;\n      }\n    }\n  }\n  return true;\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 114,
      "astHeight" : 14
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 5970,
        "startLineNumber" : 374,
        "startColumnNumber" : 70,
        "endLineNumber" : 467,
        "endColumnNumber" : 21
      },
      "nodeContext" : "{\n  if (currentContentType == CONTENT_TYPE_GIF) {\n    if (visibleDialog == null && showProgress == 1.0f) {\n      if (lastTouchY == -10000) {\n        lastTouchY=event.getY();\n        currentMoveY=0;\n        moveY=0;\n      }\n else {\n        float newY=event.getY();\n        currentMoveY+=newY - lastTouchY;\n        lastTouchY=newY;\n        if (currentMoveY > 0) {\n          currentMoveY=0;\n        }\n else         if (currentMoveY < -AndroidUtilities.dp(60)) {\n          currentMoveY=-AndroidUtilities.dp(60);\n        }\n        moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n        containerView.invalidate();\n        if (currentMoveY <= -AndroidUtilities.dp(55)) {\n          AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n          showSheetRunnable.run();\n          return true;\n        }\n      }\n    }\n    return true;\n  }\n  int x=(int)event.getX();\n  int y=(int)event.getY();\n  int count=listView.getChildCount();\n  for (int a=0; a < count; a++) {\n    View view=null;\n    if (listView instanceof RecyclerListView) {\n      view=listView.getChildAt(a);\n    }\n    if (view == null) {\n      return false;\n    }\n    int top=view.getTop();\n    int bottom=view.getBottom();\n    int left=view.getLeft();\n    int right=view.getRight();\n    if (top > y || bottom < y || left > x || right < x) {\n      continue;\n    }\n    int contentType=CONTENT_TYPE_NONE;\n    if (view instanceof StickerEmojiCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof StickerCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof ContextLinkCell) {\n      ContextLinkCell cell=(ContextLinkCell)view;\n      if (cell.isSticker()) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (cell.isGif()) {\n        contentType=CONTENT_TYPE_GIF;\n        centerImage.setRoundRadius(AndroidUtilities.dp(6));\n      }\n    }\n    if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n      break;\n    }\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      ((StickerCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ((ContextLinkCell)currentPreviewCell).setScaled(false);\n    }\n    currentPreviewCell=view;\n    setKeyboardHeight(height);\n    clearsInputField=false;\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n      open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n      stickerEmojiCell.setScaled(true);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      StickerCell stickerCell=(StickerCell)currentPreviewCell;\n      open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n      stickerCell.setScaled(true);\n      clearsInputField=stickerCell.isClearsInputField();\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n      open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n      if (contentType != CONTENT_TYPE_GIF) {\n        contextLinkCell.setScaled(true);\n      }\n    }\n    return true;\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 485,
      "astHeight" : 15
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 6020,
        "startLineNumber" : 374,
        "startColumnNumber" : 20,
        "endLineNumber" : 467,
        "endColumnNumber" : 21
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_MOVE) {\n  if (currentContentType == CONTENT_TYPE_GIF) {\n    if (visibleDialog == null && showProgress == 1.0f) {\n      if (lastTouchY == -10000) {\n        lastTouchY=event.getY();\n        currentMoveY=0;\n        moveY=0;\n      }\n else {\n        float newY=event.getY();\n        currentMoveY+=newY - lastTouchY;\n        lastTouchY=newY;\n        if (currentMoveY > 0) {\n          currentMoveY=0;\n        }\n else         if (currentMoveY < -AndroidUtilities.dp(60)) {\n          currentMoveY=-AndroidUtilities.dp(60);\n        }\n        moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n        containerView.invalidate();\n        if (currentMoveY <= -AndroidUtilities.dp(55)) {\n          AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n          showSheetRunnable.run();\n          return true;\n        }\n      }\n    }\n    return true;\n  }\n  int x=(int)event.getX();\n  int y=(int)event.getY();\n  int count=listView.getChildCount();\n  for (int a=0; a < count; a++) {\n    View view=null;\n    if (listView instanceof RecyclerListView) {\n      view=listView.getChildAt(a);\n    }\n    if (view == null) {\n      return false;\n    }\n    int top=view.getTop();\n    int bottom=view.getBottom();\n    int left=view.getLeft();\n    int right=view.getRight();\n    if (top > y || bottom < y || left > x || right < x) {\n      continue;\n    }\n    int contentType=CONTENT_TYPE_NONE;\n    if (view instanceof StickerEmojiCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof StickerCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof ContextLinkCell) {\n      ContextLinkCell cell=(ContextLinkCell)view;\n      if (cell.isSticker()) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (cell.isGif()) {\n        contentType=CONTENT_TYPE_GIF;\n        centerImage.setRoundRadius(AndroidUtilities.dp(6));\n      }\n    }\n    if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n      break;\n    }\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      ((StickerCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ((ContextLinkCell)currentPreviewCell).setScaled(false);\n    }\n    currentPreviewCell=view;\n    setKeyboardHeight(height);\n    clearsInputField=false;\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n      open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n      stickerEmojiCell.setScaled(true);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      StickerCell stickerCell=(StickerCell)currentPreviewCell;\n      open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n      stickerCell.setScaled(true);\n      clearsInputField=stickerCell.isClearsInputField();\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n      open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n      if (contentType != CONTENT_TYPE_GIF) {\n        contextLinkCell.setScaled(true);\n      }\n    }\n    return true;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 493,
      "astHeight" : 16
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 6093,
        "startLineNumber" : 373,
        "startColumnNumber" : 31,
        "endLineNumber" : 469,
        "endColumnNumber" : 17
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (currentContentType == CONTENT_TYPE_GIF) {\n      if (visibleDialog == null && showProgress == 1.0f) {\n        if (lastTouchY == -10000) {\n          lastTouchY=event.getY();\n          currentMoveY=0;\n          moveY=0;\n        }\n else {\n          float newY=event.getY();\n          currentMoveY+=newY - lastTouchY;\n          lastTouchY=newY;\n          if (currentMoveY > 0) {\n            currentMoveY=0;\n          }\n else           if (currentMoveY < -AndroidUtilities.dp(60)) {\n            currentMoveY=-AndroidUtilities.dp(60);\n          }\n          moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n          containerView.invalidate();\n          if (currentMoveY <= -AndroidUtilities.dp(55)) {\n            AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n            showSheetRunnable.run();\n            return true;\n          }\n        }\n      }\n      return true;\n    }\n    int x=(int)event.getX();\n    int y=(int)event.getY();\n    int count=listView.getChildCount();\n    for (int a=0; a < count; a++) {\n      View view=null;\n      if (listView instanceof RecyclerListView) {\n        view=listView.getChildAt(a);\n      }\n      if (view == null) {\n        return false;\n      }\n      int top=view.getTop();\n      int bottom=view.getBottom();\n      int left=view.getLeft();\n      int right=view.getRight();\n      if (top > y || bottom < y || left > x || right < x) {\n        continue;\n      }\n      int contentType=CONTENT_TYPE_NONE;\n      if (view instanceof StickerEmojiCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof StickerCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof ContextLinkCell) {\n        ContextLinkCell cell=(ContextLinkCell)view;\n        if (cell.isSticker()) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (cell.isGif()) {\n          contentType=CONTENT_TYPE_GIF;\n          centerImage.setRoundRadius(AndroidUtilities.dp(6));\n        }\n      }\n      if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n        break;\n      }\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=view;\n      setKeyboardHeight(height);\n      clearsInputField=false;\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n        open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n        stickerEmojiCell.setScaled(true);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        StickerCell stickerCell=(StickerCell)currentPreviewCell;\n        open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n        stickerCell.setScaled(true);\n        clearsInputField=stickerCell.isClearsInputField();\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n        open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n        if (contentType != CONTENT_TYPE_GIF) {\n          contextLinkCell.setScaled(true);\n        }\n      }\n      return true;\n    }\n  }\n  return true;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 496,
      "astHeight" : 17
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 6707,
        "startLineNumber" : 373,
        "startColumnNumber" : 16,
        "endLineNumber" : 479,
        "endColumnNumber" : 17
      },
      "nodeContext" : "if (isVisible) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (currentContentType == CONTENT_TYPE_GIF) {\n      if (visibleDialog == null && showProgress == 1.0f) {\n        if (lastTouchY == -10000) {\n          lastTouchY=event.getY();\n          currentMoveY=0;\n          moveY=0;\n        }\n else {\n          float newY=event.getY();\n          currentMoveY+=newY - lastTouchY;\n          lastTouchY=newY;\n          if (currentMoveY > 0) {\n            currentMoveY=0;\n          }\n else           if (currentMoveY < -AndroidUtilities.dp(60)) {\n            currentMoveY=-AndroidUtilities.dp(60);\n          }\n          moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n          containerView.invalidate();\n          if (currentMoveY <= -AndroidUtilities.dp(55)) {\n            AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n            showSheetRunnable.run();\n            return true;\n          }\n        }\n      }\n      return true;\n    }\n    int x=(int)event.getX();\n    int y=(int)event.getY();\n    int count=listView.getChildCount();\n    for (int a=0; a < count; a++) {\n      View view=null;\n      if (listView instanceof RecyclerListView) {\n        view=listView.getChildAt(a);\n      }\n      if (view == null) {\n        return false;\n      }\n      int top=view.getTop();\n      int bottom=view.getBottom();\n      int left=view.getLeft();\n      int right=view.getRight();\n      if (top > y || bottom < y || left > x || right < x) {\n        continue;\n      }\n      int contentType=CONTENT_TYPE_NONE;\n      if (view instanceof StickerEmojiCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof StickerCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof ContextLinkCell) {\n        ContextLinkCell cell=(ContextLinkCell)view;\n        if (cell.isSticker()) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (cell.isGif()) {\n          contentType=CONTENT_TYPE_GIF;\n          centerImage.setRoundRadius(AndroidUtilities.dp(6));\n        }\n      }\n      if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n        break;\n      }\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=view;\n      setKeyboardHeight(height);\n      clearsInputField=false;\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n        open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n        stickerEmojiCell.setScaled(true);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        StickerCell stickerCell=(StickerCell)currentPreviewCell;\n        open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n        stickerCell.setScaled(true);\n        clearsInputField=stickerCell.isClearsInputField();\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n        open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n        if (contentType != CONTENT_TYPE_GIF) {\n          contextLinkCell.setScaled(true);\n        }\n      }\n      return true;\n    }\n  }\n  return true;\n}\n else if (openPreviewRunnable != null) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n else {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 551,
      "astHeight" : 18
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 6739,
        "startLineNumber" : 372,
        "startColumnNumber" : 69,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 552,
      "astHeight" : 19
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 6789,
        "startLineNumber" : 372,
        "startColumnNumber" : 19,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 560,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8148,
        "startLineNumber" : 350,
        "startColumnNumber" : 12,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n  AndroidUtilities.runOnUIThread(() -> {\n    if (listView instanceof RecyclerListView) {\n      listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n    }\n  }\n,150);\n  if (openPreviewRunnable != null) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n else   if (isVisible()) {\n    close();\n    if (currentPreviewCell != null) {\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=null;\n    }\n  }\n}\n else if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 683,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 8172,
        "startLineNumber" : 349,
        "startColumnNumber" : 56,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 684,
      "astHeight" : 22
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8220,
        "startLineNumber" : 349,
        "startColumnNumber" : 8,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "if (openPreviewRunnable != null || isVisible()) {\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 691,
      "astHeight" : 23
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 8307,
        "startLineNumber" : 347,
        "startColumnNumber" : 179,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 698,
      "astHeight" : 24
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 8482,
        "startLineNumber" : 347,
        "startColumnNumber" : 4,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public boolean onTouch(MotionEvent event,final RecyclerListView listView,final int height,final Object listener,ContentPreviewViewerDelegate contentPreviewViewerDelegate){\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 724,
      "astHeight" : 25
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 26,
        "startLineNumber" : 378,
        "startColumnNumber" : 36,
        "endLineNumber" : 378,
        "endColumnNumber" : 62
      },
      "nodeContext" : "lastTouchY=event.getY();\n",
      "nodeType" : "ExpressionStatement",
      "astNodeNumber" : 6,
      "astHeight" : 4
    },
    "tokenLength" : 1,
    "type" : "org.telegram.ui.MotionEvent"
  }, {
    "nodeContext" : "event",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 5,
      "startLineNumber" : 382,
      "startColumnNumber" : 49,
      "endLineNumber" : 382,
      "endColumnNumber" : 54
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.VariableDeclarationFragment,initializer]",
      "nodePosition" : {
        "charLength" : 12,
        "startLineNumber" : 382,
        "startColumnNumber" : 49,
        "endLineNumber" : 382,
        "endColumnNumber" : 61
      },
      "nodeContext" : "event.getY()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.VariableDeclarationStatement,fragments]",
      "nodePosition" : {
        "charLength" : 19,
        "startLineNumber" : 382,
        "startColumnNumber" : 42,
        "endLineNumber" : 382,
        "endColumnNumber" : 61
      },
      "nodeContext" : "newY=event.getY()",
      "nodeType" : "VariableDeclarationFragment",
      "astNodeNumber" : 5,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 26,
        "startLineNumber" : 382,
        "startColumnNumber" : 36,
        "endLineNumber" : 382,
        "endColumnNumber" : 62
      },
      "nodeContext" : "float newY=event.getY();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 7,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 1054,
        "startLineNumber" : 381,
        "startColumnNumber" : 39,
        "endLineNumber" : 397,
        "endColumnNumber" : 33
      },
      "nodeContext" : "{\n  float newY=event.getY();\n  currentMoveY+=newY - lastTouchY;\n  lastTouchY=newY;\n  if (currentMoveY > 0) {\n    currentMoveY=0;\n  }\n else   if (currentMoveY < -AndroidUtilities.dp(60)) {\n    currentMoveY=-AndroidUtilities.dp(60);\n  }\n  moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n  containerView.invalidate();\n  if (currentMoveY <= -AndroidUtilities.dp(55)) {\n    AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n    showSheetRunnable.run();\n    return true;\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 78,
      "astHeight" : 9
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1285,
        "startLineNumber" : 377,
        "startColumnNumber" : 32,
        "endLineNumber" : 397,
        "endColumnNumber" : 33
      },
      "nodeContext" : "if (lastTouchY == -10000) {\n  lastTouchY=event.getY();\n  currentMoveY=0;\n  moveY=0;\n}\n else {\n  float newY=event.getY();\n  currentMoveY+=newY - lastTouchY;\n  lastTouchY=newY;\n  if (currentMoveY > 0) {\n    currentMoveY=0;\n  }\n else   if (currentMoveY < -AndroidUtilities.dp(60)) {\n    currentMoveY=-AndroidUtilities.dp(60);\n  }\n  moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n  containerView.invalidate();\n  if (currentMoveY <= -AndroidUtilities.dp(55)) {\n    AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n    showSheetRunnable.run();\n    return true;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 98,
      "astHeight" : 10
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 1349,
        "startLineNumber" : 376,
        "startColumnNumber" : 79,
        "endLineNumber" : 398,
        "endColumnNumber" : 29
      },
      "nodeContext" : "{\n  if (lastTouchY == -10000) {\n    lastTouchY=event.getY();\n    currentMoveY=0;\n    moveY=0;\n  }\n else {\n    float newY=event.getY();\n    currentMoveY+=newY - lastTouchY;\n    lastTouchY=newY;\n    if (currentMoveY > 0) {\n      currentMoveY=0;\n    }\n else     if (currentMoveY < -AndroidUtilities.dp(60)) {\n      currentMoveY=-AndroidUtilities.dp(60);\n    }\n    moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n    containerView.invalidate();\n    if (currentMoveY <= -AndroidUtilities.dp(55)) {\n      AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n      showSheetRunnable.run();\n      return true;\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 99,
      "astHeight" : 11
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1400,
        "startLineNumber" : 376,
        "startColumnNumber" : 28,
        "endLineNumber" : 398,
        "endColumnNumber" : 29
      },
      "nodeContext" : "if (visibleDialog == null && showProgress == 1.0f) {\n  if (lastTouchY == -10000) {\n    lastTouchY=event.getY();\n    currentMoveY=0;\n    moveY=0;\n  }\n else {\n    float newY=event.getY();\n    currentMoveY+=newY - lastTouchY;\n    lastTouchY=newY;\n    if (currentMoveY > 0) {\n      currentMoveY=0;\n    }\n else     if (currentMoveY < -AndroidUtilities.dp(60)) {\n      currentMoveY=-AndroidUtilities.dp(60);\n    }\n    moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n    containerView.invalidate();\n    if (currentMoveY <= -AndroidUtilities.dp(55)) {\n      AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n      showSheetRunnable.run();\n      return true;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 107,
      "astHeight" : 12
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 1497,
        "startLineNumber" : 375,
        "startColumnNumber" : 68,
        "endLineNumber" : 400,
        "endColumnNumber" : 25
      },
      "nodeContext" : "{\n  if (visibleDialog == null && showProgress == 1.0f) {\n    if (lastTouchY == -10000) {\n      lastTouchY=event.getY();\n      currentMoveY=0;\n      moveY=0;\n    }\n else {\n      float newY=event.getY();\n      currentMoveY+=newY - lastTouchY;\n      lastTouchY=newY;\n      if (currentMoveY > 0) {\n        currentMoveY=0;\n      }\n else       if (currentMoveY < -AndroidUtilities.dp(60)) {\n        currentMoveY=-AndroidUtilities.dp(60);\n      }\n      moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n      containerView.invalidate();\n      if (currentMoveY <= -AndroidUtilities.dp(55)) {\n        AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n        showSheetRunnable.run();\n        return true;\n      }\n    }\n  }\n  return true;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 110,
      "astHeight" : 13
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 1541,
        "startLineNumber" : 375,
        "startColumnNumber" : 24,
        "endLineNumber" : 400,
        "endColumnNumber" : 25
      },
      "nodeContext" : "if (currentContentType == CONTENT_TYPE_GIF) {\n  if (visibleDialog == null && showProgress == 1.0f) {\n    if (lastTouchY == -10000) {\n      lastTouchY=event.getY();\n      currentMoveY=0;\n      moveY=0;\n    }\n else {\n      float newY=event.getY();\n      currentMoveY+=newY - lastTouchY;\n      lastTouchY=newY;\n      if (currentMoveY > 0) {\n        currentMoveY=0;\n      }\n else       if (currentMoveY < -AndroidUtilities.dp(60)) {\n        currentMoveY=-AndroidUtilities.dp(60);\n      }\n      moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n      containerView.invalidate();\n      if (currentMoveY <= -AndroidUtilities.dp(55)) {\n        AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n        showSheetRunnable.run();\n        return true;\n      }\n    }\n  }\n  return true;\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 114,
      "astHeight" : 14
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 5970,
        "startLineNumber" : 374,
        "startColumnNumber" : 70,
        "endLineNumber" : 467,
        "endColumnNumber" : 21
      },
      "nodeContext" : "{\n  if (currentContentType == CONTENT_TYPE_GIF) {\n    if (visibleDialog == null && showProgress == 1.0f) {\n      if (lastTouchY == -10000) {\n        lastTouchY=event.getY();\n        currentMoveY=0;\n        moveY=0;\n      }\n else {\n        float newY=event.getY();\n        currentMoveY+=newY - lastTouchY;\n        lastTouchY=newY;\n        if (currentMoveY > 0) {\n          currentMoveY=0;\n        }\n else         if (currentMoveY < -AndroidUtilities.dp(60)) {\n          currentMoveY=-AndroidUtilities.dp(60);\n        }\n        moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n        containerView.invalidate();\n        if (currentMoveY <= -AndroidUtilities.dp(55)) {\n          AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n          showSheetRunnable.run();\n          return true;\n        }\n      }\n    }\n    return true;\n  }\n  int x=(int)event.getX();\n  int y=(int)event.getY();\n  int count=listView.getChildCount();\n  for (int a=0; a < count; a++) {\n    View view=null;\n    if (listView instanceof RecyclerListView) {\n      view=listView.getChildAt(a);\n    }\n    if (view == null) {\n      return false;\n    }\n    int top=view.getTop();\n    int bottom=view.getBottom();\n    int left=view.getLeft();\n    int right=view.getRight();\n    if (top > y || bottom < y || left > x || right < x) {\n      continue;\n    }\n    int contentType=CONTENT_TYPE_NONE;\n    if (view instanceof StickerEmojiCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof StickerCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof ContextLinkCell) {\n      ContextLinkCell cell=(ContextLinkCell)view;\n      if (cell.isSticker()) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (cell.isGif()) {\n        contentType=CONTENT_TYPE_GIF;\n        centerImage.setRoundRadius(AndroidUtilities.dp(6));\n      }\n    }\n    if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n      break;\n    }\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      ((StickerCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ((ContextLinkCell)currentPreviewCell).setScaled(false);\n    }\n    currentPreviewCell=view;\n    setKeyboardHeight(height);\n    clearsInputField=false;\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n      open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n      stickerEmojiCell.setScaled(true);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      StickerCell stickerCell=(StickerCell)currentPreviewCell;\n      open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n      stickerCell.setScaled(true);\n      clearsInputField=stickerCell.isClearsInputField();\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n      open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n      if (contentType != CONTENT_TYPE_GIF) {\n        contextLinkCell.setScaled(true);\n      }\n    }\n    return true;\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 485,
      "astHeight" : 15
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 6020,
        "startLineNumber" : 374,
        "startColumnNumber" : 20,
        "endLineNumber" : 467,
        "endColumnNumber" : 21
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_MOVE) {\n  if (currentContentType == CONTENT_TYPE_GIF) {\n    if (visibleDialog == null && showProgress == 1.0f) {\n      if (lastTouchY == -10000) {\n        lastTouchY=event.getY();\n        currentMoveY=0;\n        moveY=0;\n      }\n else {\n        float newY=event.getY();\n        currentMoveY+=newY - lastTouchY;\n        lastTouchY=newY;\n        if (currentMoveY > 0) {\n          currentMoveY=0;\n        }\n else         if (currentMoveY < -AndroidUtilities.dp(60)) {\n          currentMoveY=-AndroidUtilities.dp(60);\n        }\n        moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n        containerView.invalidate();\n        if (currentMoveY <= -AndroidUtilities.dp(55)) {\n          AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n          showSheetRunnable.run();\n          return true;\n        }\n      }\n    }\n    return true;\n  }\n  int x=(int)event.getX();\n  int y=(int)event.getY();\n  int count=listView.getChildCount();\n  for (int a=0; a < count; a++) {\n    View view=null;\n    if (listView instanceof RecyclerListView) {\n      view=listView.getChildAt(a);\n    }\n    if (view == null) {\n      return false;\n    }\n    int top=view.getTop();\n    int bottom=view.getBottom();\n    int left=view.getLeft();\n    int right=view.getRight();\n    if (top > y || bottom < y || left > x || right < x) {\n      continue;\n    }\n    int contentType=CONTENT_TYPE_NONE;\n    if (view instanceof StickerEmojiCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof StickerCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof ContextLinkCell) {\n      ContextLinkCell cell=(ContextLinkCell)view;\n      if (cell.isSticker()) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (cell.isGif()) {\n        contentType=CONTENT_TYPE_GIF;\n        centerImage.setRoundRadius(AndroidUtilities.dp(6));\n      }\n    }\n    if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n      break;\n    }\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      ((StickerCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ((ContextLinkCell)currentPreviewCell).setScaled(false);\n    }\n    currentPreviewCell=view;\n    setKeyboardHeight(height);\n    clearsInputField=false;\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n      open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n      stickerEmojiCell.setScaled(true);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      StickerCell stickerCell=(StickerCell)currentPreviewCell;\n      open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n      stickerCell.setScaled(true);\n      clearsInputField=stickerCell.isClearsInputField();\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n      open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n      if (contentType != CONTENT_TYPE_GIF) {\n        contextLinkCell.setScaled(true);\n      }\n    }\n    return true;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 493,
      "astHeight" : 16
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 6093,
        "startLineNumber" : 373,
        "startColumnNumber" : 31,
        "endLineNumber" : 469,
        "endColumnNumber" : 17
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (currentContentType == CONTENT_TYPE_GIF) {\n      if (visibleDialog == null && showProgress == 1.0f) {\n        if (lastTouchY == -10000) {\n          lastTouchY=event.getY();\n          currentMoveY=0;\n          moveY=0;\n        }\n else {\n          float newY=event.getY();\n          currentMoveY+=newY - lastTouchY;\n          lastTouchY=newY;\n          if (currentMoveY > 0) {\n            currentMoveY=0;\n          }\n else           if (currentMoveY < -AndroidUtilities.dp(60)) {\n            currentMoveY=-AndroidUtilities.dp(60);\n          }\n          moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n          containerView.invalidate();\n          if (currentMoveY <= -AndroidUtilities.dp(55)) {\n            AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n            showSheetRunnable.run();\n            return true;\n          }\n        }\n      }\n      return true;\n    }\n    int x=(int)event.getX();\n    int y=(int)event.getY();\n    int count=listView.getChildCount();\n    for (int a=0; a < count; a++) {\n      View view=null;\n      if (listView instanceof RecyclerListView) {\n        view=listView.getChildAt(a);\n      }\n      if (view == null) {\n        return false;\n      }\n      int top=view.getTop();\n      int bottom=view.getBottom();\n      int left=view.getLeft();\n      int right=view.getRight();\n      if (top > y || bottom < y || left > x || right < x) {\n        continue;\n      }\n      int contentType=CONTENT_TYPE_NONE;\n      if (view instanceof StickerEmojiCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof StickerCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof ContextLinkCell) {\n        ContextLinkCell cell=(ContextLinkCell)view;\n        if (cell.isSticker()) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (cell.isGif()) {\n          contentType=CONTENT_TYPE_GIF;\n          centerImage.setRoundRadius(AndroidUtilities.dp(6));\n        }\n      }\n      if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n        break;\n      }\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=view;\n      setKeyboardHeight(height);\n      clearsInputField=false;\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n        open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n        stickerEmojiCell.setScaled(true);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        StickerCell stickerCell=(StickerCell)currentPreviewCell;\n        open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n        stickerCell.setScaled(true);\n        clearsInputField=stickerCell.isClearsInputField();\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n        open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n        if (contentType != CONTENT_TYPE_GIF) {\n          contextLinkCell.setScaled(true);\n        }\n      }\n      return true;\n    }\n  }\n  return true;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 496,
      "astHeight" : 17
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 6707,
        "startLineNumber" : 373,
        "startColumnNumber" : 16,
        "endLineNumber" : 479,
        "endColumnNumber" : 17
      },
      "nodeContext" : "if (isVisible) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (currentContentType == CONTENT_TYPE_GIF) {\n      if (visibleDialog == null && showProgress == 1.0f) {\n        if (lastTouchY == -10000) {\n          lastTouchY=event.getY();\n          currentMoveY=0;\n          moveY=0;\n        }\n else {\n          float newY=event.getY();\n          currentMoveY+=newY - lastTouchY;\n          lastTouchY=newY;\n          if (currentMoveY > 0) {\n            currentMoveY=0;\n          }\n else           if (currentMoveY < -AndroidUtilities.dp(60)) {\n            currentMoveY=-AndroidUtilities.dp(60);\n          }\n          moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n          containerView.invalidate();\n          if (currentMoveY <= -AndroidUtilities.dp(55)) {\n            AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n            showSheetRunnable.run();\n            return true;\n          }\n        }\n      }\n      return true;\n    }\n    int x=(int)event.getX();\n    int y=(int)event.getY();\n    int count=listView.getChildCount();\n    for (int a=0; a < count; a++) {\n      View view=null;\n      if (listView instanceof RecyclerListView) {\n        view=listView.getChildAt(a);\n      }\n      if (view == null) {\n        return false;\n      }\n      int top=view.getTop();\n      int bottom=view.getBottom();\n      int left=view.getLeft();\n      int right=view.getRight();\n      if (top > y || bottom < y || left > x || right < x) {\n        continue;\n      }\n      int contentType=CONTENT_TYPE_NONE;\n      if (view instanceof StickerEmojiCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof StickerCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof ContextLinkCell) {\n        ContextLinkCell cell=(ContextLinkCell)view;\n        if (cell.isSticker()) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (cell.isGif()) {\n          contentType=CONTENT_TYPE_GIF;\n          centerImage.setRoundRadius(AndroidUtilities.dp(6));\n        }\n      }\n      if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n        break;\n      }\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=view;\n      setKeyboardHeight(height);\n      clearsInputField=false;\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n        open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n        stickerEmojiCell.setScaled(true);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        StickerCell stickerCell=(StickerCell)currentPreviewCell;\n        open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n        stickerCell.setScaled(true);\n        clearsInputField=stickerCell.isClearsInputField();\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n        open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n        if (contentType != CONTENT_TYPE_GIF) {\n          contextLinkCell.setScaled(true);\n        }\n      }\n      return true;\n    }\n  }\n  return true;\n}\n else if (openPreviewRunnable != null) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n else {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 551,
      "astHeight" : 18
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 6739,
        "startLineNumber" : 372,
        "startColumnNumber" : 69,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 552,
      "astHeight" : 19
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 6789,
        "startLineNumber" : 372,
        "startColumnNumber" : 19,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 560,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8148,
        "startLineNumber" : 350,
        "startColumnNumber" : 12,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n  AndroidUtilities.runOnUIThread(() -> {\n    if (listView instanceof RecyclerListView) {\n      listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n    }\n  }\n,150);\n  if (openPreviewRunnable != null) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n else   if (isVisible()) {\n    close();\n    if (currentPreviewCell != null) {\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=null;\n    }\n  }\n}\n else if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 683,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 8172,
        "startLineNumber" : 349,
        "startColumnNumber" : 56,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 684,
      "astHeight" : 22
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8220,
        "startLineNumber" : 349,
        "startColumnNumber" : 8,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "if (openPreviewRunnable != null || isVisible()) {\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 691,
      "astHeight" : 23
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 8307,
        "startLineNumber" : 347,
        "startColumnNumber" : 179,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 698,
      "astHeight" : 24
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 8482,
        "startLineNumber" : 347,
        "startColumnNumber" : 4,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public boolean onTouch(MotionEvent event,final RecyclerListView listView,final int height,final Object listener,ContentPreviewViewerDelegate contentPreviewViewerDelegate){\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 724,
      "astHeight" : 25
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 26,
        "startLineNumber" : 382,
        "startColumnNumber" : 36,
        "endLineNumber" : 382,
        "endColumnNumber" : 62
      },
      "nodeContext" : "float newY=event.getY();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 7,
      "astHeight" : 4
    },
    "tokenLength" : 1,
    "type" : "org.telegram.ui.MotionEvent"
  }, {
    "nodeContext" : "event",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 5,
      "startLineNumber" : 401,
      "startColumnNumber" : 38,
      "endLineNumber" : 401,
      "endColumnNumber" : 43
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.CastExpression,expression]",
      "nodePosition" : {
        "charLength" : 12,
        "startLineNumber" : 401,
        "startColumnNumber" : 38,
        "endLineNumber" : 401,
        "endColumnNumber" : 50
      },
      "nodeContext" : "event.getX()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.VariableDeclarationFragment,initializer]",
      "nodePosition" : {
        "charLength" : 18,
        "startLineNumber" : 401,
        "startColumnNumber" : 32,
        "endLineNumber" : 401,
        "endColumnNumber" : 50
      },
      "nodeContext" : "(int)event.getX()",
      "nodeType" : "CastExpression",
      "astNodeNumber" : 5,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.VariableDeclarationStatement,fragments]",
      "nodePosition" : {
        "charLength" : 22,
        "startLineNumber" : 401,
        "startColumnNumber" : 28,
        "endLineNumber" : 401,
        "endColumnNumber" : 50
      },
      "nodeContext" : "x=(int)event.getX()",
      "nodeType" : "VariableDeclarationFragment",
      "astNodeNumber" : 7,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 27,
        "startLineNumber" : 401,
        "startColumnNumber" : 24,
        "endLineNumber" : 401,
        "endColumnNumber" : 51
      },
      "nodeContext" : "int x=(int)event.getX();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 9,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 5970,
        "startLineNumber" : 374,
        "startColumnNumber" : 70,
        "endLineNumber" : 467,
        "endColumnNumber" : 21
      },
      "nodeContext" : "{\n  if (currentContentType == CONTENT_TYPE_GIF) {\n    if (visibleDialog == null && showProgress == 1.0f) {\n      if (lastTouchY == -10000) {\n        lastTouchY=event.getY();\n        currentMoveY=0;\n        moveY=0;\n      }\n else {\n        float newY=event.getY();\n        currentMoveY+=newY - lastTouchY;\n        lastTouchY=newY;\n        if (currentMoveY > 0) {\n          currentMoveY=0;\n        }\n else         if (currentMoveY < -AndroidUtilities.dp(60)) {\n          currentMoveY=-AndroidUtilities.dp(60);\n        }\n        moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n        containerView.invalidate();\n        if (currentMoveY <= -AndroidUtilities.dp(55)) {\n          AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n          showSheetRunnable.run();\n          return true;\n        }\n      }\n    }\n    return true;\n  }\n  int x=(int)event.getX();\n  int y=(int)event.getY();\n  int count=listView.getChildCount();\n  for (int a=0; a < count; a++) {\n    View view=null;\n    if (listView instanceof RecyclerListView) {\n      view=listView.getChildAt(a);\n    }\n    if (view == null) {\n      return false;\n    }\n    int top=view.getTop();\n    int bottom=view.getBottom();\n    int left=view.getLeft();\n    int right=view.getRight();\n    if (top > y || bottom < y || left > x || right < x) {\n      continue;\n    }\n    int contentType=CONTENT_TYPE_NONE;\n    if (view instanceof StickerEmojiCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof StickerCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof ContextLinkCell) {\n      ContextLinkCell cell=(ContextLinkCell)view;\n      if (cell.isSticker()) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (cell.isGif()) {\n        contentType=CONTENT_TYPE_GIF;\n        centerImage.setRoundRadius(AndroidUtilities.dp(6));\n      }\n    }\n    if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n      break;\n    }\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      ((StickerCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ((ContextLinkCell)currentPreviewCell).setScaled(false);\n    }\n    currentPreviewCell=view;\n    setKeyboardHeight(height);\n    clearsInputField=false;\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n      open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n      stickerEmojiCell.setScaled(true);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      StickerCell stickerCell=(StickerCell)currentPreviewCell;\n      open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n      stickerCell.setScaled(true);\n      clearsInputField=stickerCell.isClearsInputField();\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n      open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n      if (contentType != CONTENT_TYPE_GIF) {\n        contextLinkCell.setScaled(true);\n      }\n    }\n    return true;\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 485,
      "astHeight" : 15
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 6020,
        "startLineNumber" : 374,
        "startColumnNumber" : 20,
        "endLineNumber" : 467,
        "endColumnNumber" : 21
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_MOVE) {\n  if (currentContentType == CONTENT_TYPE_GIF) {\n    if (visibleDialog == null && showProgress == 1.0f) {\n      if (lastTouchY == -10000) {\n        lastTouchY=event.getY();\n        currentMoveY=0;\n        moveY=0;\n      }\n else {\n        float newY=event.getY();\n        currentMoveY+=newY - lastTouchY;\n        lastTouchY=newY;\n        if (currentMoveY > 0) {\n          currentMoveY=0;\n        }\n else         if (currentMoveY < -AndroidUtilities.dp(60)) {\n          currentMoveY=-AndroidUtilities.dp(60);\n        }\n        moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n        containerView.invalidate();\n        if (currentMoveY <= -AndroidUtilities.dp(55)) {\n          AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n          showSheetRunnable.run();\n          return true;\n        }\n      }\n    }\n    return true;\n  }\n  int x=(int)event.getX();\n  int y=(int)event.getY();\n  int count=listView.getChildCount();\n  for (int a=0; a < count; a++) {\n    View view=null;\n    if (listView instanceof RecyclerListView) {\n      view=listView.getChildAt(a);\n    }\n    if (view == null) {\n      return false;\n    }\n    int top=view.getTop();\n    int bottom=view.getBottom();\n    int left=view.getLeft();\n    int right=view.getRight();\n    if (top > y || bottom < y || left > x || right < x) {\n      continue;\n    }\n    int contentType=CONTENT_TYPE_NONE;\n    if (view instanceof StickerEmojiCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof StickerCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof ContextLinkCell) {\n      ContextLinkCell cell=(ContextLinkCell)view;\n      if (cell.isSticker()) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (cell.isGif()) {\n        contentType=CONTENT_TYPE_GIF;\n        centerImage.setRoundRadius(AndroidUtilities.dp(6));\n      }\n    }\n    if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n      break;\n    }\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      ((StickerCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ((ContextLinkCell)currentPreviewCell).setScaled(false);\n    }\n    currentPreviewCell=view;\n    setKeyboardHeight(height);\n    clearsInputField=false;\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n      open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n      stickerEmojiCell.setScaled(true);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      StickerCell stickerCell=(StickerCell)currentPreviewCell;\n      open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n      stickerCell.setScaled(true);\n      clearsInputField=stickerCell.isClearsInputField();\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n      open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n      if (contentType != CONTENT_TYPE_GIF) {\n        contextLinkCell.setScaled(true);\n      }\n    }\n    return true;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 493,
      "astHeight" : 16
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 6093,
        "startLineNumber" : 373,
        "startColumnNumber" : 31,
        "endLineNumber" : 469,
        "endColumnNumber" : 17
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (currentContentType == CONTENT_TYPE_GIF) {\n      if (visibleDialog == null && showProgress == 1.0f) {\n        if (lastTouchY == -10000) {\n          lastTouchY=event.getY();\n          currentMoveY=0;\n          moveY=0;\n        }\n else {\n          float newY=event.getY();\n          currentMoveY+=newY - lastTouchY;\n          lastTouchY=newY;\n          if (currentMoveY > 0) {\n            currentMoveY=0;\n          }\n else           if (currentMoveY < -AndroidUtilities.dp(60)) {\n            currentMoveY=-AndroidUtilities.dp(60);\n          }\n          moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n          containerView.invalidate();\n          if (currentMoveY <= -AndroidUtilities.dp(55)) {\n            AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n            showSheetRunnable.run();\n            return true;\n          }\n        }\n      }\n      return true;\n    }\n    int x=(int)event.getX();\n    int y=(int)event.getY();\n    int count=listView.getChildCount();\n    for (int a=0; a < count; a++) {\n      View view=null;\n      if (listView instanceof RecyclerListView) {\n        view=listView.getChildAt(a);\n      }\n      if (view == null) {\n        return false;\n      }\n      int top=view.getTop();\n      int bottom=view.getBottom();\n      int left=view.getLeft();\n      int right=view.getRight();\n      if (top > y || bottom < y || left > x || right < x) {\n        continue;\n      }\n      int contentType=CONTENT_TYPE_NONE;\n      if (view instanceof StickerEmojiCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof StickerCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof ContextLinkCell) {\n        ContextLinkCell cell=(ContextLinkCell)view;\n        if (cell.isSticker()) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (cell.isGif()) {\n          contentType=CONTENT_TYPE_GIF;\n          centerImage.setRoundRadius(AndroidUtilities.dp(6));\n        }\n      }\n      if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n        break;\n      }\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=view;\n      setKeyboardHeight(height);\n      clearsInputField=false;\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n        open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n        stickerEmojiCell.setScaled(true);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        StickerCell stickerCell=(StickerCell)currentPreviewCell;\n        open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n        stickerCell.setScaled(true);\n        clearsInputField=stickerCell.isClearsInputField();\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n        open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n        if (contentType != CONTENT_TYPE_GIF) {\n          contextLinkCell.setScaled(true);\n        }\n      }\n      return true;\n    }\n  }\n  return true;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 496,
      "astHeight" : 17
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 6707,
        "startLineNumber" : 373,
        "startColumnNumber" : 16,
        "endLineNumber" : 479,
        "endColumnNumber" : 17
      },
      "nodeContext" : "if (isVisible) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (currentContentType == CONTENT_TYPE_GIF) {\n      if (visibleDialog == null && showProgress == 1.0f) {\n        if (lastTouchY == -10000) {\n          lastTouchY=event.getY();\n          currentMoveY=0;\n          moveY=0;\n        }\n else {\n          float newY=event.getY();\n          currentMoveY+=newY - lastTouchY;\n          lastTouchY=newY;\n          if (currentMoveY > 0) {\n            currentMoveY=0;\n          }\n else           if (currentMoveY < -AndroidUtilities.dp(60)) {\n            currentMoveY=-AndroidUtilities.dp(60);\n          }\n          moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n          containerView.invalidate();\n          if (currentMoveY <= -AndroidUtilities.dp(55)) {\n            AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n            showSheetRunnable.run();\n            return true;\n          }\n        }\n      }\n      return true;\n    }\n    int x=(int)event.getX();\n    int y=(int)event.getY();\n    int count=listView.getChildCount();\n    for (int a=0; a < count; a++) {\n      View view=null;\n      if (listView instanceof RecyclerListView) {\n        view=listView.getChildAt(a);\n      }\n      if (view == null) {\n        return false;\n      }\n      int top=view.getTop();\n      int bottom=view.getBottom();\n      int left=view.getLeft();\n      int right=view.getRight();\n      if (top > y || bottom < y || left > x || right < x) {\n        continue;\n      }\n      int contentType=CONTENT_TYPE_NONE;\n      if (view instanceof StickerEmojiCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof StickerCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof ContextLinkCell) {\n        ContextLinkCell cell=(ContextLinkCell)view;\n        if (cell.isSticker()) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (cell.isGif()) {\n          contentType=CONTENT_TYPE_GIF;\n          centerImage.setRoundRadius(AndroidUtilities.dp(6));\n        }\n      }\n      if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n        break;\n      }\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=view;\n      setKeyboardHeight(height);\n      clearsInputField=false;\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n        open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n        stickerEmojiCell.setScaled(true);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        StickerCell stickerCell=(StickerCell)currentPreviewCell;\n        open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n        stickerCell.setScaled(true);\n        clearsInputField=stickerCell.isClearsInputField();\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n        open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n        if (contentType != CONTENT_TYPE_GIF) {\n          contextLinkCell.setScaled(true);\n        }\n      }\n      return true;\n    }\n  }\n  return true;\n}\n else if (openPreviewRunnable != null) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n else {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 551,
      "astHeight" : 18
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 6739,
        "startLineNumber" : 372,
        "startColumnNumber" : 69,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 552,
      "astHeight" : 19
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 6789,
        "startLineNumber" : 372,
        "startColumnNumber" : 19,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 560,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8148,
        "startLineNumber" : 350,
        "startColumnNumber" : 12,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n  AndroidUtilities.runOnUIThread(() -> {\n    if (listView instanceof RecyclerListView) {\n      listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n    }\n  }\n,150);\n  if (openPreviewRunnable != null) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n else   if (isVisible()) {\n    close();\n    if (currentPreviewCell != null) {\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=null;\n    }\n  }\n}\n else if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 683,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 8172,
        "startLineNumber" : 349,
        "startColumnNumber" : 56,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 684,
      "astHeight" : 22
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8220,
        "startLineNumber" : 349,
        "startColumnNumber" : 8,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "if (openPreviewRunnable != null || isVisible()) {\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 691,
      "astHeight" : 23
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 8307,
        "startLineNumber" : 347,
        "startColumnNumber" : 179,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 698,
      "astHeight" : 24
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 8482,
        "startLineNumber" : 347,
        "startColumnNumber" : 4,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public boolean onTouch(MotionEvent event,final RecyclerListView listView,final int height,final Object listener,ContentPreviewViewerDelegate contentPreviewViewerDelegate){\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 724,
      "astHeight" : 25
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 27,
        "startLineNumber" : 401,
        "startColumnNumber" : 24,
        "endLineNumber" : 401,
        "endColumnNumber" : 51
      },
      "nodeContext" : "int x=(int)event.getX();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 9,
      "astHeight" : 5
    },
    "tokenLength" : 1,
    "type" : "org.telegram.ui.MotionEvent"
  }, {
    "nodeContext" : "event",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 5,
      "startLineNumber" : 402,
      "startColumnNumber" : 38,
      "endLineNumber" : 402,
      "endColumnNumber" : 43
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.CastExpression,expression]",
      "nodePosition" : {
        "charLength" : 12,
        "startLineNumber" : 402,
        "startColumnNumber" : 38,
        "endLineNumber" : 402,
        "endColumnNumber" : 50
      },
      "nodeContext" : "event.getY()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.VariableDeclarationFragment,initializer]",
      "nodePosition" : {
        "charLength" : 18,
        "startLineNumber" : 402,
        "startColumnNumber" : 32,
        "endLineNumber" : 402,
        "endColumnNumber" : 50
      },
      "nodeContext" : "(int)event.getY()",
      "nodeType" : "CastExpression",
      "astNodeNumber" : 5,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.VariableDeclarationStatement,fragments]",
      "nodePosition" : {
        "charLength" : 22,
        "startLineNumber" : 402,
        "startColumnNumber" : 28,
        "endLineNumber" : 402,
        "endColumnNumber" : 50
      },
      "nodeContext" : "y=(int)event.getY()",
      "nodeType" : "VariableDeclarationFragment",
      "astNodeNumber" : 7,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 27,
        "startLineNumber" : 402,
        "startColumnNumber" : 24,
        "endLineNumber" : 402,
        "endColumnNumber" : 51
      },
      "nodeContext" : "int y=(int)event.getY();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 9,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 5970,
        "startLineNumber" : 374,
        "startColumnNumber" : 70,
        "endLineNumber" : 467,
        "endColumnNumber" : 21
      },
      "nodeContext" : "{\n  if (currentContentType == CONTENT_TYPE_GIF) {\n    if (visibleDialog == null && showProgress == 1.0f) {\n      if (lastTouchY == -10000) {\n        lastTouchY=event.getY();\n        currentMoveY=0;\n        moveY=0;\n      }\n else {\n        float newY=event.getY();\n        currentMoveY+=newY - lastTouchY;\n        lastTouchY=newY;\n        if (currentMoveY > 0) {\n          currentMoveY=0;\n        }\n else         if (currentMoveY < -AndroidUtilities.dp(60)) {\n          currentMoveY=-AndroidUtilities.dp(60);\n        }\n        moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n        containerView.invalidate();\n        if (currentMoveY <= -AndroidUtilities.dp(55)) {\n          AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n          showSheetRunnable.run();\n          return true;\n        }\n      }\n    }\n    return true;\n  }\n  int x=(int)event.getX();\n  int y=(int)event.getY();\n  int count=listView.getChildCount();\n  for (int a=0; a < count; a++) {\n    View view=null;\n    if (listView instanceof RecyclerListView) {\n      view=listView.getChildAt(a);\n    }\n    if (view == null) {\n      return false;\n    }\n    int top=view.getTop();\n    int bottom=view.getBottom();\n    int left=view.getLeft();\n    int right=view.getRight();\n    if (top > y || bottom < y || left > x || right < x) {\n      continue;\n    }\n    int contentType=CONTENT_TYPE_NONE;\n    if (view instanceof StickerEmojiCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof StickerCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof ContextLinkCell) {\n      ContextLinkCell cell=(ContextLinkCell)view;\n      if (cell.isSticker()) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (cell.isGif()) {\n        contentType=CONTENT_TYPE_GIF;\n        centerImage.setRoundRadius(AndroidUtilities.dp(6));\n      }\n    }\n    if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n      break;\n    }\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      ((StickerCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ((ContextLinkCell)currentPreviewCell).setScaled(false);\n    }\n    currentPreviewCell=view;\n    setKeyboardHeight(height);\n    clearsInputField=false;\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n      open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n      stickerEmojiCell.setScaled(true);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      StickerCell stickerCell=(StickerCell)currentPreviewCell;\n      open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n      stickerCell.setScaled(true);\n      clearsInputField=stickerCell.isClearsInputField();\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n      open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n      if (contentType != CONTENT_TYPE_GIF) {\n        contextLinkCell.setScaled(true);\n      }\n    }\n    return true;\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 485,
      "astHeight" : 15
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 6020,
        "startLineNumber" : 374,
        "startColumnNumber" : 20,
        "endLineNumber" : 467,
        "endColumnNumber" : 21
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_MOVE) {\n  if (currentContentType == CONTENT_TYPE_GIF) {\n    if (visibleDialog == null && showProgress == 1.0f) {\n      if (lastTouchY == -10000) {\n        lastTouchY=event.getY();\n        currentMoveY=0;\n        moveY=0;\n      }\n else {\n        float newY=event.getY();\n        currentMoveY+=newY - lastTouchY;\n        lastTouchY=newY;\n        if (currentMoveY > 0) {\n          currentMoveY=0;\n        }\n else         if (currentMoveY < -AndroidUtilities.dp(60)) {\n          currentMoveY=-AndroidUtilities.dp(60);\n        }\n        moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n        containerView.invalidate();\n        if (currentMoveY <= -AndroidUtilities.dp(55)) {\n          AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n          showSheetRunnable.run();\n          return true;\n        }\n      }\n    }\n    return true;\n  }\n  int x=(int)event.getX();\n  int y=(int)event.getY();\n  int count=listView.getChildCount();\n  for (int a=0; a < count; a++) {\n    View view=null;\n    if (listView instanceof RecyclerListView) {\n      view=listView.getChildAt(a);\n    }\n    if (view == null) {\n      return false;\n    }\n    int top=view.getTop();\n    int bottom=view.getBottom();\n    int left=view.getLeft();\n    int right=view.getRight();\n    if (top > y || bottom < y || left > x || right < x) {\n      continue;\n    }\n    int contentType=CONTENT_TYPE_NONE;\n    if (view instanceof StickerEmojiCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof StickerCell) {\n      contentType=CONTENT_TYPE_STICKER;\n      centerImage.setRoundRadius(0);\n    }\n else     if (view instanceof ContextLinkCell) {\n      ContextLinkCell cell=(ContextLinkCell)view;\n      if (cell.isSticker()) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (cell.isGif()) {\n        contentType=CONTENT_TYPE_GIF;\n        centerImage.setRoundRadius(AndroidUtilities.dp(6));\n      }\n    }\n    if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n      break;\n    }\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      ((StickerCell)currentPreviewCell).setScaled(false);\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ((ContextLinkCell)currentPreviewCell).setScaled(false);\n    }\n    currentPreviewCell=view;\n    setKeyboardHeight(height);\n    clearsInputField=false;\n    if (currentPreviewCell instanceof StickerEmojiCell) {\n      StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n      open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n      stickerEmojiCell.setScaled(true);\n    }\n else     if (currentPreviewCell instanceof StickerCell) {\n      StickerCell stickerCell=(StickerCell)currentPreviewCell;\n      open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n      stickerCell.setScaled(true);\n      clearsInputField=stickerCell.isClearsInputField();\n    }\n else     if (currentPreviewCell instanceof ContextLinkCell) {\n      ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n      open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n      if (contentType != CONTENT_TYPE_GIF) {\n        contextLinkCell.setScaled(true);\n      }\n    }\n    return true;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 493,
      "astHeight" : 16
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 6093,
        "startLineNumber" : 373,
        "startColumnNumber" : 31,
        "endLineNumber" : 469,
        "endColumnNumber" : 17
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (currentContentType == CONTENT_TYPE_GIF) {\n      if (visibleDialog == null && showProgress == 1.0f) {\n        if (lastTouchY == -10000) {\n          lastTouchY=event.getY();\n          currentMoveY=0;\n          moveY=0;\n        }\n else {\n          float newY=event.getY();\n          currentMoveY+=newY - lastTouchY;\n          lastTouchY=newY;\n          if (currentMoveY > 0) {\n            currentMoveY=0;\n          }\n else           if (currentMoveY < -AndroidUtilities.dp(60)) {\n            currentMoveY=-AndroidUtilities.dp(60);\n          }\n          moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n          containerView.invalidate();\n          if (currentMoveY <= -AndroidUtilities.dp(55)) {\n            AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n            showSheetRunnable.run();\n            return true;\n          }\n        }\n      }\n      return true;\n    }\n    int x=(int)event.getX();\n    int y=(int)event.getY();\n    int count=listView.getChildCount();\n    for (int a=0; a < count; a++) {\n      View view=null;\n      if (listView instanceof RecyclerListView) {\n        view=listView.getChildAt(a);\n      }\n      if (view == null) {\n        return false;\n      }\n      int top=view.getTop();\n      int bottom=view.getBottom();\n      int left=view.getLeft();\n      int right=view.getRight();\n      if (top > y || bottom < y || left > x || right < x) {\n        continue;\n      }\n      int contentType=CONTENT_TYPE_NONE;\n      if (view instanceof StickerEmojiCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof StickerCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof ContextLinkCell) {\n        ContextLinkCell cell=(ContextLinkCell)view;\n        if (cell.isSticker()) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (cell.isGif()) {\n          contentType=CONTENT_TYPE_GIF;\n          centerImage.setRoundRadius(AndroidUtilities.dp(6));\n        }\n      }\n      if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n        break;\n      }\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=view;\n      setKeyboardHeight(height);\n      clearsInputField=false;\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n        open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n        stickerEmojiCell.setScaled(true);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        StickerCell stickerCell=(StickerCell)currentPreviewCell;\n        open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n        stickerCell.setScaled(true);\n        clearsInputField=stickerCell.isClearsInputField();\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n        open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n        if (contentType != CONTENT_TYPE_GIF) {\n          contextLinkCell.setScaled(true);\n        }\n      }\n      return true;\n    }\n  }\n  return true;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 496,
      "astHeight" : 17
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 6707,
        "startLineNumber" : 373,
        "startColumnNumber" : 16,
        "endLineNumber" : 479,
        "endColumnNumber" : 17
      },
      "nodeContext" : "if (isVisible) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (currentContentType == CONTENT_TYPE_GIF) {\n      if (visibleDialog == null && showProgress == 1.0f) {\n        if (lastTouchY == -10000) {\n          lastTouchY=event.getY();\n          currentMoveY=0;\n          moveY=0;\n        }\n else {\n          float newY=event.getY();\n          currentMoveY+=newY - lastTouchY;\n          lastTouchY=newY;\n          if (currentMoveY > 0) {\n            currentMoveY=0;\n          }\n else           if (currentMoveY < -AndroidUtilities.dp(60)) {\n            currentMoveY=-AndroidUtilities.dp(60);\n          }\n          moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n          containerView.invalidate();\n          if (currentMoveY <= -AndroidUtilities.dp(55)) {\n            AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n            showSheetRunnable.run();\n            return true;\n          }\n        }\n      }\n      return true;\n    }\n    int x=(int)event.getX();\n    int y=(int)event.getY();\n    int count=listView.getChildCount();\n    for (int a=0; a < count; a++) {\n      View view=null;\n      if (listView instanceof RecyclerListView) {\n        view=listView.getChildAt(a);\n      }\n      if (view == null) {\n        return false;\n      }\n      int top=view.getTop();\n      int bottom=view.getBottom();\n      int left=view.getLeft();\n      int right=view.getRight();\n      if (top > y || bottom < y || left > x || right < x) {\n        continue;\n      }\n      int contentType=CONTENT_TYPE_NONE;\n      if (view instanceof StickerEmojiCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof StickerCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof ContextLinkCell) {\n        ContextLinkCell cell=(ContextLinkCell)view;\n        if (cell.isSticker()) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (cell.isGif()) {\n          contentType=CONTENT_TYPE_GIF;\n          centerImage.setRoundRadius(AndroidUtilities.dp(6));\n        }\n      }\n      if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n        break;\n      }\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=view;\n      setKeyboardHeight(height);\n      clearsInputField=false;\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n        open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n        stickerEmojiCell.setScaled(true);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        StickerCell stickerCell=(StickerCell)currentPreviewCell;\n        open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n        stickerCell.setScaled(true);\n        clearsInputField=stickerCell.isClearsInputField();\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n        open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n        if (contentType != CONTENT_TYPE_GIF) {\n          contextLinkCell.setScaled(true);\n        }\n      }\n      return true;\n    }\n  }\n  return true;\n}\n else if (openPreviewRunnable != null) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n else {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 551,
      "astHeight" : 18
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 6739,
        "startLineNumber" : 372,
        "startColumnNumber" : 69,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 552,
      "astHeight" : 19
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 6789,
        "startLineNumber" : 372,
        "startColumnNumber" : 19,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 560,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8148,
        "startLineNumber" : 350,
        "startColumnNumber" : 12,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n  AndroidUtilities.runOnUIThread(() -> {\n    if (listView instanceof RecyclerListView) {\n      listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n    }\n  }\n,150);\n  if (openPreviewRunnable != null) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n else   if (isVisible()) {\n    close();\n    if (currentPreviewCell != null) {\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=null;\n    }\n  }\n}\n else if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 683,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 8172,
        "startLineNumber" : 349,
        "startColumnNumber" : 56,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 684,
      "astHeight" : 22
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8220,
        "startLineNumber" : 349,
        "startColumnNumber" : 8,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "if (openPreviewRunnable != null || isVisible()) {\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 691,
      "astHeight" : 23
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 8307,
        "startLineNumber" : 347,
        "startColumnNumber" : 179,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 698,
      "astHeight" : 24
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 8482,
        "startLineNumber" : 347,
        "startColumnNumber" : 4,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public boolean onTouch(MotionEvent event,final RecyclerListView listView,final int height,final Object listener,ContentPreviewViewerDelegate contentPreviewViewerDelegate){\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 724,
      "astHeight" : 25
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 27,
        "startLineNumber" : 402,
        "startColumnNumber" : 24,
        "endLineNumber" : 402,
        "endColumnNumber" : 51
      },
      "nodeContext" : "int y=(int)event.getY();\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 9,
      "astHeight" : 5
    },
    "tokenLength" : 1,
    "type" : "org.telegram.ui.MotionEvent"
  }, {
    "nodeContext" : "event",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 5,
      "startLineNumber" : 470,
      "startColumnNumber" : 24,
      "endLineNumber" : 470,
      "endColumnNumber" : 29
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,leftOperand]",
      "nodePosition" : {
        "charLength" : 17,
        "startLineNumber" : 470,
        "startColumnNumber" : 24,
        "endLineNumber" : 470,
        "endColumnNumber" : 41
      },
      "nodeContext" : "event.getAction()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 44,
        "startLineNumber" : 470,
        "startColumnNumber" : 24,
        "endLineNumber" : 470,
        "endColumnNumber" : 68
      },
      "nodeContext" : "event.getAction() == MotionEvent.ACTION_MOVE",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 7,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 520,
        "startLineNumber" : 470,
        "startColumnNumber" : 20,
        "endLineNumber" : 478,
        "endColumnNumber" : 21
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_MOVE) {\n  if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n else {\n  AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n  openPreviewRunnable=null;\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 48,
      "astHeight" : 8
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 560,
        "startLineNumber" : 469,
        "startColumnNumber" : 56,
        "endLineNumber" : 479,
        "endColumnNumber" : 17
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n else {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 49,
      "astHeight" : 9
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 593,
        "startLineNumber" : 469,
        "startColumnNumber" : 23,
        "endLineNumber" : 479,
        "endColumnNumber" : 17
      },
      "nodeContext" : "if (openPreviewRunnable != null) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n else {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 53,
      "astHeight" : 10
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 6707,
        "startLineNumber" : 373,
        "startColumnNumber" : 16,
        "endLineNumber" : 479,
        "endColumnNumber" : 17
      },
      "nodeContext" : "if (isVisible) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (currentContentType == CONTENT_TYPE_GIF) {\n      if (visibleDialog == null && showProgress == 1.0f) {\n        if (lastTouchY == -10000) {\n          lastTouchY=event.getY();\n          currentMoveY=0;\n          moveY=0;\n        }\n else {\n          float newY=event.getY();\n          currentMoveY+=newY - lastTouchY;\n          lastTouchY=newY;\n          if (currentMoveY > 0) {\n            currentMoveY=0;\n          }\n else           if (currentMoveY < -AndroidUtilities.dp(60)) {\n            currentMoveY=-AndroidUtilities.dp(60);\n          }\n          moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n          containerView.invalidate();\n          if (currentMoveY <= -AndroidUtilities.dp(55)) {\n            AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n            showSheetRunnable.run();\n            return true;\n          }\n        }\n      }\n      return true;\n    }\n    int x=(int)event.getX();\n    int y=(int)event.getY();\n    int count=listView.getChildCount();\n    for (int a=0; a < count; a++) {\n      View view=null;\n      if (listView instanceof RecyclerListView) {\n        view=listView.getChildAt(a);\n      }\n      if (view == null) {\n        return false;\n      }\n      int top=view.getTop();\n      int bottom=view.getBottom();\n      int left=view.getLeft();\n      int right=view.getRight();\n      if (top > y || bottom < y || left > x || right < x) {\n        continue;\n      }\n      int contentType=CONTENT_TYPE_NONE;\n      if (view instanceof StickerEmojiCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof StickerCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof ContextLinkCell) {\n        ContextLinkCell cell=(ContextLinkCell)view;\n        if (cell.isSticker()) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (cell.isGif()) {\n          contentType=CONTENT_TYPE_GIF;\n          centerImage.setRoundRadius(AndroidUtilities.dp(6));\n        }\n      }\n      if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n        break;\n      }\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=view;\n      setKeyboardHeight(height);\n      clearsInputField=false;\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n        open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n        stickerEmojiCell.setScaled(true);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        StickerCell stickerCell=(StickerCell)currentPreviewCell;\n        open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n        stickerCell.setScaled(true);\n        clearsInputField=stickerCell.isClearsInputField();\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n        open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n        if (contentType != CONTENT_TYPE_GIF) {\n          contextLinkCell.setScaled(true);\n        }\n      }\n      return true;\n    }\n  }\n  return true;\n}\n else if (openPreviewRunnable != null) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n else {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 551,
      "astHeight" : 18
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 6739,
        "startLineNumber" : 372,
        "startColumnNumber" : 69,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 552,
      "astHeight" : 19
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 6789,
        "startLineNumber" : 372,
        "startColumnNumber" : 19,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 560,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8148,
        "startLineNumber" : 350,
        "startColumnNumber" : 12,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n  AndroidUtilities.runOnUIThread(() -> {\n    if (listView instanceof RecyclerListView) {\n      listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n    }\n  }\n,150);\n  if (openPreviewRunnable != null) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n else   if (isVisible()) {\n    close();\n    if (currentPreviewCell != null) {\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=null;\n    }\n  }\n}\n else if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 683,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 8172,
        "startLineNumber" : 349,
        "startColumnNumber" : 56,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 684,
      "astHeight" : 22
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8220,
        "startLineNumber" : 349,
        "startColumnNumber" : 8,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "if (openPreviewRunnable != null || isVisible()) {\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 691,
      "astHeight" : 23
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 8307,
        "startLineNumber" : 347,
        "startColumnNumber" : 179,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 698,
      "astHeight" : 24
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 8482,
        "startLineNumber" : 347,
        "startColumnNumber" : 4,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public boolean onTouch(MotionEvent event,final RecyclerListView listView,final int height,final Object listener,ContentPreviewViewerDelegate contentPreviewViewerDelegate){\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 724,
      "astHeight" : 25
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 44,
        "startLineNumber" : 470,
        "startColumnNumber" : 24,
        "endLineNumber" : 470,
        "endColumnNumber" : 68
      },
      "nodeContext" : "event.getAction() == MotionEvent.ACTION_MOVE",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 7,
      "astHeight" : 3
    },
    "tokenLength" : 1,
    "type" : "org.telegram.ui.MotionEvent"
  }, {
    "nodeContext" : "event",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 5,
      "startLineNumber" : 471,
      "startColumnNumber" : 48,
      "endLineNumber" : 471,
      "endColumnNumber" : 53
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,rightOperand]",
      "nodePosition" : {
        "charLength" : 12,
        "startLineNumber" : 471,
        "startColumnNumber" : 48,
        "endLineNumber" : 471,
        "endColumnNumber" : 60
      },
      "nodeContext" : "event.getX()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 21,
        "startLineNumber" : 471,
        "startColumnNumber" : 39,
        "endLineNumber" : 471,
        "endColumnNumber" : 60
      },
      "nodeContext" : "startX - event.getX()",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 5,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,leftOperand]",
      "nodePosition" : {
        "charLength" : 56,
        "startLineNumber" : 471,
        "startColumnNumber" : 28,
        "endLineNumber" : 471,
        "endColumnNumber" : 84
      },
      "nodeContext" : "Math.hypot(startX - event.getX(),startY - event.getY())",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 13,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 82,
        "startLineNumber" : 471,
        "startColumnNumber" : 28,
        "endLineNumber" : 471,
        "endColumnNumber" : 110
      },
      "nodeContext" : "Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 18,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 258,
        "startLineNumber" : 471,
        "startColumnNumber" : 24,
        "endLineNumber" : 474,
        "endColumnNumber" : 25
      },
      "nodeContext" : "if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n  AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n  openPreviewRunnable=null;\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 29,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 306,
        "startLineNumber" : 470,
        "startColumnNumber" : 70,
        "endLineNumber" : 475,
        "endColumnNumber" : 21
      },
      "nodeContext" : "{\n  if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 30,
      "astHeight" : 7
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 520,
        "startLineNumber" : 470,
        "startColumnNumber" : 20,
        "endLineNumber" : 478,
        "endColumnNumber" : 21
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_MOVE) {\n  if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n else {\n  AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n  openPreviewRunnable=null;\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 48,
      "astHeight" : 8
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 560,
        "startLineNumber" : 469,
        "startColumnNumber" : 56,
        "endLineNumber" : 479,
        "endColumnNumber" : 17
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n else {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 49,
      "astHeight" : 9
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 593,
        "startLineNumber" : 469,
        "startColumnNumber" : 23,
        "endLineNumber" : 479,
        "endColumnNumber" : 17
      },
      "nodeContext" : "if (openPreviewRunnable != null) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n else {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 53,
      "astHeight" : 10
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 6707,
        "startLineNumber" : 373,
        "startColumnNumber" : 16,
        "endLineNumber" : 479,
        "endColumnNumber" : 17
      },
      "nodeContext" : "if (isVisible) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (currentContentType == CONTENT_TYPE_GIF) {\n      if (visibleDialog == null && showProgress == 1.0f) {\n        if (lastTouchY == -10000) {\n          lastTouchY=event.getY();\n          currentMoveY=0;\n          moveY=0;\n        }\n else {\n          float newY=event.getY();\n          currentMoveY+=newY - lastTouchY;\n          lastTouchY=newY;\n          if (currentMoveY > 0) {\n            currentMoveY=0;\n          }\n else           if (currentMoveY < -AndroidUtilities.dp(60)) {\n            currentMoveY=-AndroidUtilities.dp(60);\n          }\n          moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n          containerView.invalidate();\n          if (currentMoveY <= -AndroidUtilities.dp(55)) {\n            AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n            showSheetRunnable.run();\n            return true;\n          }\n        }\n      }\n      return true;\n    }\n    int x=(int)event.getX();\n    int y=(int)event.getY();\n    int count=listView.getChildCount();\n    for (int a=0; a < count; a++) {\n      View view=null;\n      if (listView instanceof RecyclerListView) {\n        view=listView.getChildAt(a);\n      }\n      if (view == null) {\n        return false;\n      }\n      int top=view.getTop();\n      int bottom=view.getBottom();\n      int left=view.getLeft();\n      int right=view.getRight();\n      if (top > y || bottom < y || left > x || right < x) {\n        continue;\n      }\n      int contentType=CONTENT_TYPE_NONE;\n      if (view instanceof StickerEmojiCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof StickerCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof ContextLinkCell) {\n        ContextLinkCell cell=(ContextLinkCell)view;\n        if (cell.isSticker()) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (cell.isGif()) {\n          contentType=CONTENT_TYPE_GIF;\n          centerImage.setRoundRadius(AndroidUtilities.dp(6));\n        }\n      }\n      if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n        break;\n      }\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=view;\n      setKeyboardHeight(height);\n      clearsInputField=false;\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n        open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n        stickerEmojiCell.setScaled(true);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        StickerCell stickerCell=(StickerCell)currentPreviewCell;\n        open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n        stickerCell.setScaled(true);\n        clearsInputField=stickerCell.isClearsInputField();\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n        open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n        if (contentType != CONTENT_TYPE_GIF) {\n          contextLinkCell.setScaled(true);\n        }\n      }\n      return true;\n    }\n  }\n  return true;\n}\n else if (openPreviewRunnable != null) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n else {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 551,
      "astHeight" : 18
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 6739,
        "startLineNumber" : 372,
        "startColumnNumber" : 69,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 552,
      "astHeight" : 19
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 6789,
        "startLineNumber" : 372,
        "startColumnNumber" : 19,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 560,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8148,
        "startLineNumber" : 350,
        "startColumnNumber" : 12,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n  AndroidUtilities.runOnUIThread(() -> {\n    if (listView instanceof RecyclerListView) {\n      listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n    }\n  }\n,150);\n  if (openPreviewRunnable != null) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n else   if (isVisible()) {\n    close();\n    if (currentPreviewCell != null) {\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=null;\n    }\n  }\n}\n else if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 683,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 8172,
        "startLineNumber" : 349,
        "startColumnNumber" : 56,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 684,
      "astHeight" : 22
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8220,
        "startLineNumber" : 349,
        "startColumnNumber" : 8,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "if (openPreviewRunnable != null || isVisible()) {\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 691,
      "astHeight" : 23
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 8307,
        "startLineNumber" : 347,
        "startColumnNumber" : 179,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 698,
      "astHeight" : 24
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 8482,
        "startLineNumber" : 347,
        "startColumnNumber" : 4,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public boolean onTouch(MotionEvent event,final RecyclerListView listView,final int height,final Object listener,ContentPreviewViewerDelegate contentPreviewViewerDelegate){\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 724,
      "astHeight" : 25
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 82,
        "startLineNumber" : 471,
        "startColumnNumber" : 28,
        "endLineNumber" : 471,
        "endColumnNumber" : 110
      },
      "nodeContext" : "Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 18,
      "astHeight" : 5
    },
    "tokenLength" : 1,
    "type" : "org.telegram.ui.MotionEvent"
  }, {
    "nodeContext" : "event",
    "nodeType" : "SimpleName",
    "nodePosition" : {
      "charLength" : 5,
      "startLineNumber" : 471,
      "startColumnNumber" : 71,
      "endLineNumber" : 471,
      "endColumnNumber" : 76
    },
    "astNodeNumber" : 1,
    "astHeight" : 1,
    "parentDataList" : [ {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,rightOperand]",
      "nodePosition" : {
        "charLength" : 12,
        "startLineNumber" : 471,
        "startColumnNumber" : 71,
        "endLineNumber" : 471,
        "endColumnNumber" : 83
      },
      "nodeContext" : "event.getY()",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 3,
      "astHeight" : 2
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.MethodInvocation,arguments]",
      "nodePosition" : {
        "charLength" : 21,
        "startLineNumber" : 471,
        "startColumnNumber" : 62,
        "endLineNumber" : 471,
        "endColumnNumber" : 83
      },
      "nodeContext" : "startY - event.getY()",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 5,
      "astHeight" : 3
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.InfixExpression,leftOperand]",
      "nodePosition" : {
        "charLength" : 56,
        "startLineNumber" : 471,
        "startColumnNumber" : 28,
        "endLineNumber" : 471,
        "endColumnNumber" : 84
      },
      "nodeContext" : "Math.hypot(startX - event.getX(),startY - event.getY())",
      "nodeType" : "MethodInvocation",
      "astNodeNumber" : 13,
      "astHeight" : 4
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 82,
        "startLineNumber" : 471,
        "startColumnNumber" : 28,
        "endLineNumber" : 471,
        "endColumnNumber" : 110
      },
      "nodeContext" : "Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 18,
      "astHeight" : 5
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 258,
        "startLineNumber" : 471,
        "startColumnNumber" : 24,
        "endLineNumber" : 474,
        "endColumnNumber" : 25
      },
      "nodeContext" : "if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n  AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n  openPreviewRunnable=null;\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 29,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 306,
        "startLineNumber" : 470,
        "startColumnNumber" : 70,
        "endLineNumber" : 475,
        "endColumnNumber" : 21
      },
      "nodeContext" : "{\n  if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 30,
      "astHeight" : 7
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 520,
        "startLineNumber" : 470,
        "startColumnNumber" : 20,
        "endLineNumber" : 478,
        "endColumnNumber" : 21
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_MOVE) {\n  if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n else {\n  AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n  openPreviewRunnable=null;\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 48,
      "astHeight" : 8
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 560,
        "startLineNumber" : 469,
        "startColumnNumber" : 56,
        "endLineNumber" : 479,
        "endColumnNumber" : 17
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n else {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 49,
      "astHeight" : 9
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 593,
        "startLineNumber" : 469,
        "startColumnNumber" : 23,
        "endLineNumber" : 479,
        "endColumnNumber" : 17
      },
      "nodeContext" : "if (openPreviewRunnable != null) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n else {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 53,
      "astHeight" : 10
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 6707,
        "startLineNumber" : 373,
        "startColumnNumber" : 16,
        "endLineNumber" : 479,
        "endColumnNumber" : 17
      },
      "nodeContext" : "if (isVisible) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (currentContentType == CONTENT_TYPE_GIF) {\n      if (visibleDialog == null && showProgress == 1.0f) {\n        if (lastTouchY == -10000) {\n          lastTouchY=event.getY();\n          currentMoveY=0;\n          moveY=0;\n        }\n else {\n          float newY=event.getY();\n          currentMoveY+=newY - lastTouchY;\n          lastTouchY=newY;\n          if (currentMoveY > 0) {\n            currentMoveY=0;\n          }\n else           if (currentMoveY < -AndroidUtilities.dp(60)) {\n            currentMoveY=-AndroidUtilities.dp(60);\n          }\n          moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n          containerView.invalidate();\n          if (currentMoveY <= -AndroidUtilities.dp(55)) {\n            AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n            showSheetRunnable.run();\n            return true;\n          }\n        }\n      }\n      return true;\n    }\n    int x=(int)event.getX();\n    int y=(int)event.getY();\n    int count=listView.getChildCount();\n    for (int a=0; a < count; a++) {\n      View view=null;\n      if (listView instanceof RecyclerListView) {\n        view=listView.getChildAt(a);\n      }\n      if (view == null) {\n        return false;\n      }\n      int top=view.getTop();\n      int bottom=view.getBottom();\n      int left=view.getLeft();\n      int right=view.getRight();\n      if (top > y || bottom < y || left > x || right < x) {\n        continue;\n      }\n      int contentType=CONTENT_TYPE_NONE;\n      if (view instanceof StickerEmojiCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof StickerCell) {\n        contentType=CONTENT_TYPE_STICKER;\n        centerImage.setRoundRadius(0);\n      }\n else       if (view instanceof ContextLinkCell) {\n        ContextLinkCell cell=(ContextLinkCell)view;\n        if (cell.isSticker()) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (cell.isGif()) {\n          contentType=CONTENT_TYPE_GIF;\n          centerImage.setRoundRadius(AndroidUtilities.dp(6));\n        }\n      }\n      if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n        break;\n      }\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=view;\n      setKeyboardHeight(height);\n      clearsInputField=false;\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n        open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n        stickerEmojiCell.setScaled(true);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        StickerCell stickerCell=(StickerCell)currentPreviewCell;\n        open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n        stickerCell.setScaled(true);\n        clearsInputField=stickerCell.isClearsInputField();\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n        open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n        if (contentType != CONTENT_TYPE_GIF) {\n          contextLinkCell.setScaled(true);\n        }\n      }\n      return true;\n    }\n  }\n  return true;\n}\n else if (openPreviewRunnable != null) {\n  if (event.getAction() == MotionEvent.ACTION_MOVE) {\n    if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n else {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 551,
      "astHeight" : 18
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 6739,
        "startLineNumber" : 372,
        "startColumnNumber" : 69,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "{\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 552,
      "astHeight" : 19
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,elseStatement]",
      "nodePosition" : {
        "charLength" : 6789,
        "startLineNumber" : 372,
        "startColumnNumber" : 19,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 560,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8148,
        "startLineNumber" : 350,
        "startColumnNumber" : 12,
        "endLineNumber" : 480,
        "endColumnNumber" : 13
      },
      "nodeContext" : "if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n  AndroidUtilities.runOnUIThread(() -> {\n    if (listView instanceof RecyclerListView) {\n      listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n    }\n  }\n,150);\n  if (openPreviewRunnable != null) {\n    AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n    openPreviewRunnable=null;\n  }\n else   if (isVisible()) {\n    close();\n    if (currentPreviewCell != null) {\n      if (currentPreviewCell instanceof StickerEmojiCell) {\n        ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof StickerCell) {\n        ((StickerCell)currentPreviewCell).setScaled(false);\n      }\n else       if (currentPreviewCell instanceof ContextLinkCell) {\n        ((ContextLinkCell)currentPreviewCell).setScaled(false);\n      }\n      currentPreviewCell=null;\n    }\n  }\n}\n else if (event.getAction() != MotionEvent.ACTION_DOWN) {\n  if (isVisible) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (currentContentType == CONTENT_TYPE_GIF) {\n        if (visibleDialog == null && showProgress == 1.0f) {\n          if (lastTouchY == -10000) {\n            lastTouchY=event.getY();\n            currentMoveY=0;\n            moveY=0;\n          }\n else {\n            float newY=event.getY();\n            currentMoveY+=newY - lastTouchY;\n            lastTouchY=newY;\n            if (currentMoveY > 0) {\n              currentMoveY=0;\n            }\n else             if (currentMoveY < -AndroidUtilities.dp(60)) {\n              currentMoveY=-AndroidUtilities.dp(60);\n            }\n            moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n            containerView.invalidate();\n            if (currentMoveY <= -AndroidUtilities.dp(55)) {\n              AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n              showSheetRunnable.run();\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n      int x=(int)event.getX();\n      int y=(int)event.getY();\n      int count=listView.getChildCount();\n      for (int a=0; a < count; a++) {\n        View view=null;\n        if (listView instanceof RecyclerListView) {\n          view=listView.getChildAt(a);\n        }\n        if (view == null) {\n          return false;\n        }\n        int top=view.getTop();\n        int bottom=view.getBottom();\n        int left=view.getLeft();\n        int right=view.getRight();\n        if (top > y || bottom < y || left > x || right < x) {\n          continue;\n        }\n        int contentType=CONTENT_TYPE_NONE;\n        if (view instanceof StickerEmojiCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof StickerCell) {\n          contentType=CONTENT_TYPE_STICKER;\n          centerImage.setRoundRadius(0);\n        }\n else         if (view instanceof ContextLinkCell) {\n          ContextLinkCell cell=(ContextLinkCell)view;\n          if (cell.isSticker()) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (cell.isGif()) {\n            contentType=CONTENT_TYPE_GIF;\n            centerImage.setRoundRadius(AndroidUtilities.dp(6));\n          }\n        }\n        if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n          break;\n        }\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=view;\n        setKeyboardHeight(height);\n        clearsInputField=false;\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n          open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n          stickerEmojiCell.setScaled(true);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          StickerCell stickerCell=(StickerCell)currentPreviewCell;\n          open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n          stickerCell.setScaled(true);\n          clearsInputField=stickerCell.isClearsInputField();\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n          open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n          if (contentType != CONTENT_TYPE_GIF) {\n            contextLinkCell.setScaled(true);\n          }\n        }\n        return true;\n      }\n    }\n    return true;\n  }\n else   if (openPreviewRunnable != null) {\n    if (event.getAction() == MotionEvent.ACTION_MOVE) {\n      if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n else {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 683,
      "astHeight" : 21
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,thenStatement]",
      "nodePosition" : {
        "charLength" : 8172,
        "startLineNumber" : 349,
        "startColumnNumber" : 56,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "{\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 684,
      "astHeight" : 22
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 8220,
        "startLineNumber" : 349,
        "startColumnNumber" : 8,
        "endLineNumber" : 481,
        "endColumnNumber" : 9
      },
      "nodeContext" : "if (openPreviewRunnable != null || isVisible()) {\n  if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n    AndroidUtilities.runOnUIThread(() -> {\n      if (listView instanceof RecyclerListView) {\n        listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n      }\n    }\n,150);\n    if (openPreviewRunnable != null) {\n      AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n      openPreviewRunnable=null;\n    }\n else     if (isVisible()) {\n      close();\n      if (currentPreviewCell != null) {\n        if (currentPreviewCell instanceof StickerEmojiCell) {\n          ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof StickerCell) {\n          ((StickerCell)currentPreviewCell).setScaled(false);\n        }\n else         if (currentPreviewCell instanceof ContextLinkCell) {\n          ((ContextLinkCell)currentPreviewCell).setScaled(false);\n        }\n        currentPreviewCell=null;\n      }\n    }\n  }\n else   if (event.getAction() != MotionEvent.ACTION_DOWN) {\n    if (isVisible) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (currentContentType == CONTENT_TYPE_GIF) {\n          if (visibleDialog == null && showProgress == 1.0f) {\n            if (lastTouchY == -10000) {\n              lastTouchY=event.getY();\n              currentMoveY=0;\n              moveY=0;\n            }\n else {\n              float newY=event.getY();\n              currentMoveY+=newY - lastTouchY;\n              lastTouchY=newY;\n              if (currentMoveY > 0) {\n                currentMoveY=0;\n              }\n else               if (currentMoveY < -AndroidUtilities.dp(60)) {\n                currentMoveY=-AndroidUtilities.dp(60);\n              }\n              moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n              containerView.invalidate();\n              if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                showSheetRunnable.run();\n                return true;\n              }\n            }\n          }\n          return true;\n        }\n        int x=(int)event.getX();\n        int y=(int)event.getY();\n        int count=listView.getChildCount();\n        for (int a=0; a < count; a++) {\n          View view=null;\n          if (listView instanceof RecyclerListView) {\n            view=listView.getChildAt(a);\n          }\n          if (view == null) {\n            return false;\n          }\n          int top=view.getTop();\n          int bottom=view.getBottom();\n          int left=view.getLeft();\n          int right=view.getRight();\n          if (top > y || bottom < y || left > x || right < x) {\n            continue;\n          }\n          int contentType=CONTENT_TYPE_NONE;\n          if (view instanceof StickerEmojiCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof StickerCell) {\n            contentType=CONTENT_TYPE_STICKER;\n            centerImage.setRoundRadius(0);\n          }\n else           if (view instanceof ContextLinkCell) {\n            ContextLinkCell cell=(ContextLinkCell)view;\n            if (cell.isSticker()) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (cell.isGif()) {\n              contentType=CONTENT_TYPE_GIF;\n              centerImage.setRoundRadius(AndroidUtilities.dp(6));\n            }\n          }\n          if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n            break;\n          }\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=view;\n          setKeyboardHeight(height);\n          clearsInputField=false;\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n            open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n            stickerEmojiCell.setScaled(true);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            StickerCell stickerCell=(StickerCell)currentPreviewCell;\n            open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n            stickerCell.setScaled(true);\n            clearsInputField=stickerCell.isClearsInputField();\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n            open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n            if (contentType != CONTENT_TYPE_GIF) {\n              contextLinkCell.setScaled(true);\n            }\n          }\n          return true;\n        }\n      }\n      return true;\n    }\n else     if (openPreviewRunnable != null) {\n      if (event.getAction() == MotionEvent.ACTION_MOVE) {\n        if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n else {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n    }\n  }\n}\n",
      "nodeType" : "IfStatement",
      "astNodeNumber" : 691,
      "astHeight" : 23
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 8307,
        "startLineNumber" : 347,
        "startColumnNumber" : 179,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 698,
      "astHeight" : 24
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 8482,
        "startLineNumber" : 347,
        "startColumnNumber" : 4,
        "endLineNumber" : 483,
        "endColumnNumber" : 5
      },
      "nodeContext" : "public boolean onTouch(MotionEvent event,final RecyclerListView listView,final int height,final Object listener,ContentPreviewViewerDelegate contentPreviewViewerDelegate){\n  delegate=contentPreviewViewerDelegate;\n  if (openPreviewRunnable != null || isVisible()) {\n    if (event.getAction() == MotionEvent.ACTION_UP || event.getAction() == MotionEvent.ACTION_CANCEL || event.getAction() == MotionEvent.ACTION_POINTER_UP) {\n      AndroidUtilities.runOnUIThread(() -> {\n        if (listView instanceof RecyclerListView) {\n          listView.setOnItemClickListener((RecyclerListView.OnItemClickListener)listener);\n        }\n      }\n,150);\n      if (openPreviewRunnable != null) {\n        AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n        openPreviewRunnable=null;\n      }\n else       if (isVisible()) {\n        close();\n        if (currentPreviewCell != null) {\n          if (currentPreviewCell instanceof StickerEmojiCell) {\n            ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof StickerCell) {\n            ((StickerCell)currentPreviewCell).setScaled(false);\n          }\n else           if (currentPreviewCell instanceof ContextLinkCell) {\n            ((ContextLinkCell)currentPreviewCell).setScaled(false);\n          }\n          currentPreviewCell=null;\n        }\n      }\n    }\n else     if (event.getAction() != MotionEvent.ACTION_DOWN) {\n      if (isVisible) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (currentContentType == CONTENT_TYPE_GIF) {\n            if (visibleDialog == null && showProgress == 1.0f) {\n              if (lastTouchY == -10000) {\n                lastTouchY=event.getY();\n                currentMoveY=0;\n                moveY=0;\n              }\n else {\n                float newY=event.getY();\n                currentMoveY+=newY - lastTouchY;\n                lastTouchY=newY;\n                if (currentMoveY > 0) {\n                  currentMoveY=0;\n                }\n else                 if (currentMoveY < -AndroidUtilities.dp(60)) {\n                  currentMoveY=-AndroidUtilities.dp(60);\n                }\n                moveY=rubberYPoisition(currentMoveY,AndroidUtilities.dp(200));\n                containerView.invalidate();\n                if (currentMoveY <= -AndroidUtilities.dp(55)) {\n                  AndroidUtilities.cancelRunOnUIThread(showSheetRunnable);\n                  showSheetRunnable.run();\n                  return true;\n                }\n              }\n            }\n            return true;\n          }\n          int x=(int)event.getX();\n          int y=(int)event.getY();\n          int count=listView.getChildCount();\n          for (int a=0; a < count; a++) {\n            View view=null;\n            if (listView instanceof RecyclerListView) {\n              view=listView.getChildAt(a);\n            }\n            if (view == null) {\n              return false;\n            }\n            int top=view.getTop();\n            int bottom=view.getBottom();\n            int left=view.getLeft();\n            int right=view.getRight();\n            if (top > y || bottom < y || left > x || right < x) {\n              continue;\n            }\n            int contentType=CONTENT_TYPE_NONE;\n            if (view instanceof StickerEmojiCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof StickerCell) {\n              contentType=CONTENT_TYPE_STICKER;\n              centerImage.setRoundRadius(0);\n            }\n else             if (view instanceof ContextLinkCell) {\n              ContextLinkCell cell=(ContextLinkCell)view;\n              if (cell.isSticker()) {\n                contentType=CONTENT_TYPE_STICKER;\n                centerImage.setRoundRadius(0);\n              }\n else               if (cell.isGif()) {\n                contentType=CONTENT_TYPE_GIF;\n                centerImage.setRoundRadius(AndroidUtilities.dp(6));\n              }\n            }\n            if (contentType == CONTENT_TYPE_NONE || view == currentPreviewCell) {\n              break;\n            }\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              ((StickerEmojiCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              ((StickerCell)currentPreviewCell).setScaled(false);\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ((ContextLinkCell)currentPreviewCell).setScaled(false);\n            }\n            currentPreviewCell=view;\n            setKeyboardHeight(height);\n            clearsInputField=false;\n            if (currentPreviewCell instanceof StickerEmojiCell) {\n              StickerEmojiCell stickerEmojiCell=(StickerEmojiCell)currentPreviewCell;\n              open(stickerEmojiCell.getSticker(),null,contentType,stickerEmojiCell.isRecent(),stickerEmojiCell.getParentObject());\n              stickerEmojiCell.setScaled(true);\n            }\n else             if (currentPreviewCell instanceof StickerCell) {\n              StickerCell stickerCell=(StickerCell)currentPreviewCell;\n              open(stickerCell.getSticker(),null,contentType,false,stickerCell.getParentObject());\n              stickerCell.setScaled(true);\n              clearsInputField=stickerCell.isClearsInputField();\n            }\n else             if (currentPreviewCell instanceof ContextLinkCell) {\n              ContextLinkCell contextLinkCell=(ContextLinkCell)currentPreviewCell;\n              open(contextLinkCell.getDocument(),contextLinkCell.getBotInlineResult(),contentType,false,contextLinkCell.getInlineBot());\n              if (contentType != CONTENT_TYPE_GIF) {\n                contextLinkCell.setScaled(true);\n              }\n            }\n            return true;\n          }\n        }\n        return true;\n      }\n else       if (openPreviewRunnable != null) {\n        if (event.getAction() == MotionEvent.ACTION_MOVE) {\n          if (Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)) {\n            AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n            openPreviewRunnable=null;\n          }\n        }\n else {\n          AndroidUtilities.cancelRunOnUIThread(openPreviewRunnable);\n          openPreviewRunnable=null;\n        }\n      }\n    }\n  }\n  return false;\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 724,
      "astHeight" : 25
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.IfStatement,expression]",
      "nodePosition" : {
        "charLength" : 82,
        "startLineNumber" : 471,
        "startColumnNumber" : 28,
        "endLineNumber" : 471,
        "endColumnNumber" : 110
      },
      "nodeContext" : "Math.hypot(startX - event.getX(),startY - event.getY()) > AndroidUtilities.dp(10)",
      "nodeType" : "InfixExpression",
      "astNodeNumber" : 18,
      "astHeight" : 5
    },
    "tokenLength" : 1,
    "type" : "org.telegram.ui.MotionEvent"
  } ],
  "positionList" : [ {
    "charLength" : 5,
    "startLineNumber" : 350,
    "startColumnNumber" : 16,
    "endLineNumber" : 350,
    "endColumnNumber" : 21
  }, {
    "charLength" : 5,
    "startLineNumber" : 350,
    "startColumnNumber" : 62,
    "endLineNumber" : 350,
    "endColumnNumber" : 67
  }, {
    "charLength" : 5,
    "startLineNumber" : 350,
    "startColumnNumber" : 112,
    "endLineNumber" : 350,
    "endColumnNumber" : 117
  }, {
    "charLength" : 5,
    "startLineNumber" : 372,
    "startColumnNumber" : 23,
    "endLineNumber" : 372,
    "endColumnNumber" : 28
  }, {
    "charLength" : 5,
    "startLineNumber" : 374,
    "startColumnNumber" : 24,
    "endLineNumber" : 374,
    "endColumnNumber" : 29
  }, {
    "charLength" : 5,
    "startLineNumber" : 378,
    "startColumnNumber" : 49,
    "endLineNumber" : 378,
    "endColumnNumber" : 54
  }, {
    "charLength" : 5,
    "startLineNumber" : 382,
    "startColumnNumber" : 49,
    "endLineNumber" : 382,
    "endColumnNumber" : 54
  }, {
    "charLength" : 5,
    "startLineNumber" : 401,
    "startColumnNumber" : 38,
    "endLineNumber" : 401,
    "endColumnNumber" : 43
  }, {
    "charLength" : 5,
    "startLineNumber" : 402,
    "startColumnNumber" : 38,
    "endLineNumber" : 402,
    "endColumnNumber" : 43
  }, {
    "charLength" : 5,
    "startLineNumber" : 470,
    "startColumnNumber" : 24,
    "endLineNumber" : 470,
    "endColumnNumber" : 29
  }, {
    "charLength" : 5,
    "startLineNumber" : 471,
    "startColumnNumber" : 48,
    "endLineNumber" : 471,
    "endColumnNumber" : 53
  }, {
    "charLength" : 5,
    "startLineNumber" : 471,
    "startColumnNumber" : 71,
    "endLineNumber" : 471,
    "endColumnNumber" : 76
  } ],
  "layoutRelationDataList" : [ {
    "firstKey" : 0,
    "secondKey" : 1,
    "layout" : 2
  }, {
    "firstKey" : 0,
    "secondKey" : 2,
    "layout" : 3
  }, {
    "firstKey" : 0,
    "secondKey" : 3,
    "layout" : 4
  }, {
    "firstKey" : 0,
    "secondKey" : 4,
    "layout" : 4
  }, {
    "firstKey" : 0,
    "secondKey" : 5,
    "layout" : 4
  }, {
    "firstKey" : 0,
    "secondKey" : 6,
    "layout" : 4
  }, {
    "firstKey" : 0,
    "secondKey" : 7,
    "layout" : 4
  }, {
    "firstKey" : 0,
    "secondKey" : 8,
    "layout" : 4
  }, {
    "firstKey" : 0,
    "secondKey" : 9,
    "layout" : 4
  }, {
    "firstKey" : 0,
    "secondKey" : 10,
    "layout" : 4
  }, {
    "firstKey" : 0,
    "secondKey" : 11,
    "layout" : 4
  }, {
    "firstKey" : 1,
    "secondKey" : 0,
    "layout" : 2
  }, {
    "firstKey" : 1,
    "secondKey" : 2,
    "layout" : 3
  }, {
    "firstKey" : 1,
    "secondKey" : 3,
    "layout" : 4
  }, {
    "firstKey" : 1,
    "secondKey" : 4,
    "layout" : 4
  }, {
    "firstKey" : 1,
    "secondKey" : 5,
    "layout" : 4
  }, {
    "firstKey" : 1,
    "secondKey" : 6,
    "layout" : 4
  }, {
    "firstKey" : 1,
    "secondKey" : 7,
    "layout" : 4
  }, {
    "firstKey" : 1,
    "secondKey" : 8,
    "layout" : 4
  }, {
    "firstKey" : 1,
    "secondKey" : 9,
    "layout" : 4
  }, {
    "firstKey" : 1,
    "secondKey" : 10,
    "layout" : 4
  }, {
    "firstKey" : 1,
    "secondKey" : 11,
    "layout" : 4
  }, {
    "firstKey" : 2,
    "secondKey" : 0,
    "layout" : 2
  }, {
    "firstKey" : 2,
    "secondKey" : 1,
    "layout" : 2
  }, {
    "firstKey" : 2,
    "secondKey" : 3,
    "layout" : 3
  }, {
    "firstKey" : 2,
    "secondKey" : 4,
    "layout" : 3
  }, {
    "firstKey" : 2,
    "secondKey" : 5,
    "layout" : 3
  }, {
    "firstKey" : 2,
    "secondKey" : 6,
    "layout" : 3
  }, {
    "firstKey" : 2,
    "secondKey" : 7,
    "layout" : 3
  }, {
    "firstKey" : 2,
    "secondKey" : 8,
    "layout" : 3
  }, {
    "firstKey" : 2,
    "secondKey" : 9,
    "layout" : 3
  }, {
    "firstKey" : 2,
    "secondKey" : 10,
    "layout" : 3
  }, {
    "firstKey" : 2,
    "secondKey" : 11,
    "layout" : 3
  }, {
    "firstKey" : 3,
    "secondKey" : 0,
    "layout" : 3
  }, {
    "firstKey" : 3,
    "secondKey" : 1,
    "layout" : 3
  }, {
    "firstKey" : 3,
    "secondKey" : 2,
    "layout" : 3
  }, {
    "firstKey" : 3,
    "secondKey" : 4,
    "layout" : 2
  }, {
    "firstKey" : 3,
    "secondKey" : 5,
    "layout" : 2
  }, {
    "firstKey" : 3,
    "secondKey" : 6,
    "layout" : 2
  }, {
    "firstKey" : 3,
    "secondKey" : 7,
    "layout" : 2
  }, {
    "firstKey" : 3,
    "secondKey" : 8,
    "layout" : 2
  }, {
    "firstKey" : 3,
    "secondKey" : 9,
    "layout" : 2
  }, {
    "firstKey" : 3,
    "secondKey" : 10,
    "layout" : 2
  }, {
    "firstKey" : 3,
    "secondKey" : 11,
    "layout" : 2
  }, {
    "firstKey" : 4,
    "secondKey" : 0,
    "layout" : 7
  }, {
    "firstKey" : 4,
    "secondKey" : 1,
    "layout" : 7
  }, {
    "firstKey" : 4,
    "secondKey" : 2,
    "layout" : 7
  }, {
    "firstKey" : 4,
    "secondKey" : 3,
    "layout" : 6
  }, {
    "firstKey" : 4,
    "secondKey" : 5,
    "layout" : 2
  }, {
    "firstKey" : 4,
    "secondKey" : 6,
    "layout" : 2
  }, {
    "firstKey" : 4,
    "secondKey" : 7,
    "layout" : 2
  }, {
    "firstKey" : 4,
    "secondKey" : 8,
    "layout" : 2
  }, {
    "firstKey" : 4,
    "secondKey" : 9,
    "layout" : 4
  }, {
    "firstKey" : 4,
    "secondKey" : 10,
    "layout" : 4
  }, {
    "firstKey" : 4,
    "secondKey" : 11,
    "layout" : 4
  }, {
    "firstKey" : 5,
    "secondKey" : 0,
    "layout" : 15
  }, {
    "firstKey" : 5,
    "secondKey" : 1,
    "layout" : 15
  }, {
    "firstKey" : 5,
    "secondKey" : 2,
    "layout" : 15
  }, {
    "firstKey" : 5,
    "secondKey" : 3,
    "layout" : 14
  }, {
    "firstKey" : 5,
    "secondKey" : 4,
    "layout" : 10
  }, {
    "firstKey" : 5,
    "secondKey" : 6,
    "layout" : 4
  }, {
    "firstKey" : 5,
    "secondKey" : 7,
    "layout" : 9
  }, {
    "firstKey" : 5,
    "secondKey" : 8,
    "layout" : 9
  }, {
    "firstKey" : 5,
    "secondKey" : 9,
    "layout" : 12
  }, {
    "firstKey" : 5,
    "secondKey" : 10,
    "layout" : 12
  }, {
    "firstKey" : 5,
    "secondKey" : 11,
    "layout" : 12
  }, {
    "firstKey" : 6,
    "secondKey" : 0,
    "layout" : 15
  }, {
    "firstKey" : 6,
    "secondKey" : 1,
    "layout" : 15
  }, {
    "firstKey" : 6,
    "secondKey" : 2,
    "layout" : 15
  }, {
    "firstKey" : 6,
    "secondKey" : 3,
    "layout" : 14
  }, {
    "firstKey" : 6,
    "secondKey" : 4,
    "layout" : 10
  }, {
    "firstKey" : 6,
    "secondKey" : 5,
    "layout" : 4
  }, {
    "firstKey" : 6,
    "secondKey" : 7,
    "layout" : 9
  }, {
    "firstKey" : 6,
    "secondKey" : 8,
    "layout" : 9
  }, {
    "firstKey" : 6,
    "secondKey" : 9,
    "layout" : 12
  }, {
    "firstKey" : 6,
    "secondKey" : 10,
    "layout" : 12
  }, {
    "firstKey" : 6,
    "secondKey" : 11,
    "layout" : 12
  }, {
    "firstKey" : 7,
    "secondKey" : 0,
    "layout" : 10
  }, {
    "firstKey" : 7,
    "secondKey" : 1,
    "layout" : 10
  }, {
    "firstKey" : 7,
    "secondKey" : 2,
    "layout" : 10
  }, {
    "firstKey" : 7,
    "secondKey" : 3,
    "layout" : 9
  }, {
    "firstKey" : 7,
    "secondKey" : 4,
    "layout" : 5
  }, {
    "firstKey" : 7,
    "secondKey" : 5,
    "layout" : 4
  }, {
    "firstKey" : 7,
    "secondKey" : 6,
    "layout" : 4
  }, {
    "firstKey" : 7,
    "secondKey" : 8,
    "layout" : 4
  }, {
    "firstKey" : 7,
    "secondKey" : 9,
    "layout" : 7
  }, {
    "firstKey" : 7,
    "secondKey" : 10,
    "layout" : 7
  }, {
    "firstKey" : 7,
    "secondKey" : 11,
    "layout" : 7
  }, {
    "firstKey" : 8,
    "secondKey" : 0,
    "layout" : 10
  }, {
    "firstKey" : 8,
    "secondKey" : 1,
    "layout" : 10
  }, {
    "firstKey" : 8,
    "secondKey" : 2,
    "layout" : 10
  }, {
    "firstKey" : 8,
    "secondKey" : 3,
    "layout" : 9
  }, {
    "firstKey" : 8,
    "secondKey" : 4,
    "layout" : 5
  }, {
    "firstKey" : 8,
    "secondKey" : 5,
    "layout" : 4
  }, {
    "firstKey" : 8,
    "secondKey" : 6,
    "layout" : 4
  }, {
    "firstKey" : 8,
    "secondKey" : 7,
    "layout" : 4
  }, {
    "firstKey" : 8,
    "secondKey" : 9,
    "layout" : 7
  }, {
    "firstKey" : 8,
    "secondKey" : 10,
    "layout" : 7
  }, {
    "firstKey" : 8,
    "secondKey" : 11,
    "layout" : 7
  }, {
    "firstKey" : 9,
    "secondKey" : 0,
    "layout" : 8
  }, {
    "firstKey" : 9,
    "secondKey" : 1,
    "layout" : 8
  }, {
    "firstKey" : 9,
    "secondKey" : 2,
    "layout" : 8
  }, {
    "firstKey" : 9,
    "secondKey" : 3,
    "layout" : 7
  }, {
    "firstKey" : 9,
    "secondKey" : 4,
    "layout" : 5
  }, {
    "firstKey" : 9,
    "secondKey" : 5,
    "layout" : 5
  }, {
    "firstKey" : 9,
    "secondKey" : 6,
    "layout" : 5
  }, {
    "firstKey" : 9,
    "secondKey" : 7,
    "layout" : 5
  }, {
    "firstKey" : 9,
    "secondKey" : 8,
    "layout" : 5
  }, {
    "firstKey" : 9,
    "secondKey" : 10,
    "layout" : 2
  }, {
    "firstKey" : 9,
    "secondKey" : 11,
    "layout" : 2
  }, {
    "firstKey" : 10,
    "secondKey" : 0,
    "layout" : 12
  }, {
    "firstKey" : 10,
    "secondKey" : 1,
    "layout" : 12
  }, {
    "firstKey" : 10,
    "secondKey" : 2,
    "layout" : 12
  }, {
    "firstKey" : 10,
    "secondKey" : 3,
    "layout" : 11
  }, {
    "firstKey" : 10,
    "secondKey" : 4,
    "layout" : 9
  }, {
    "firstKey" : 10,
    "secondKey" : 5,
    "layout" : 9
  }, {
    "firstKey" : 10,
    "secondKey" : 6,
    "layout" : 9
  }, {
    "firstKey" : 10,
    "secondKey" : 7,
    "layout" : 9
  }, {
    "firstKey" : 10,
    "secondKey" : 8,
    "layout" : 9
  }, {
    "firstKey" : 10,
    "secondKey" : 9,
    "layout" : 6
  }, {
    "firstKey" : 10,
    "secondKey" : 11,
    "layout" : 2
  }, {
    "firstKey" : 11,
    "secondKey" : 0,
    "layout" : 12
  }, {
    "firstKey" : 11,
    "secondKey" : 1,
    "layout" : 12
  }, {
    "firstKey" : 11,
    "secondKey" : 2,
    "layout" : 12
  }, {
    "firstKey" : 11,
    "secondKey" : 3,
    "layout" : 11
  }, {
    "firstKey" : 11,
    "secondKey" : 4,
    "layout" : 9
  }, {
    "firstKey" : 11,
    "secondKey" : 5,
    "layout" : 9
  }, {
    "firstKey" : 11,
    "secondKey" : 6,
    "layout" : 9
  }, {
    "firstKey" : 11,
    "secondKey" : 7,
    "layout" : 9
  }, {
    "firstKey" : 11,
    "secondKey" : 8,
    "layout" : 9
  }, {
    "firstKey" : 11,
    "secondKey" : 9,
    "layout" : 6
  }, {
    "firstKey" : 11,
    "secondKey" : 10,
    "layout" : 2
  } ]
}
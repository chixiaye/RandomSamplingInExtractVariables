{
  "id" : 9,
  "expression" : "(ImageButton)view.findViewById(R.id.btn_add_item)",
  "projectName" : "Tencent@VasSonic",
  "commitID" : "a3e09c156adb93b4ebe6139def465c519069aa9e",
  "filePath" : "/sonic-android/sample/src/main/java/com/tencent/sonic/demo/UrlSelector.java",
  "occurrences" : 1,
  "isArithmeticExpression" : 0,
  "isGetTypeMethod" : 0,
  "expressionList" : [ {
    "nodeContext" : "(ImageButton)view.findViewById(R.id.btn_add_item)",
    "nodeType" : "CastExpression",
    "nodePosition" : {
      "charLength" : 50,
      "startLineNumber" : 49,
      "startColumnNumber" : 39,
      "endLineNumber" : 49,
      "endColumnNumber" : 89
    },
    "astNodeNumber" : 11,
    "astHeight" : 5,
    "parentDataList" : [ {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.VariableDeclarationStatement,fragments]",
      "nodePosition" : {
        "charLength" : 63,
        "startLineNumber" : 49,
        "startColumnNumber" : 26,
        "endLineNumber" : 49,
        "endColumnNumber" : 89
      },
      "nodeContext" : "btnAddItem=(ImageButton)view.findViewById(R.id.btn_add_item)",
      "nodeType" : "VariableDeclarationFragment",
      "astNodeNumber" : 13,
      "astHeight" : 6
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 82,
        "startLineNumber" : 49,
        "startColumnNumber" : 8,
        "endLineNumber" : 49,
        "endColumnNumber" : 90
      },
      "nodeContext" : "final ImageButton btnAddItem=(ImageButton)view.findViewById(R.id.btn_add_item);\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 17,
      "astHeight" : 7
    }, {
      "locationInParent" : "ChildProperty[org.eclipse.jdt.core.dom.MethodDeclaration,body]",
      "nodePosition" : {
        "charLength" : 4126,
        "startLineNumber" : 36,
        "startColumnNumber" : 120,
        "endLineNumber" : 128,
        "endColumnNumber" : 5
      },
      "nodeContext" : "{\n  urlListAdapter.init();\n  final View view=LayoutInflater.from(context).inflate(R.layout.dialog_url,null);\n  ListView listView=(ListView)view.findViewById(R.id.listView);\n  listView.setAdapter(urlListAdapter);\n  listView.setOnItemClickListener(new AdapterView.OnItemClickListener(){\n    @Override public void onItemClick(    AdapterView<?> parent,    View view,    int position,    long id){\n      urlListAdapter.setChecked(position);\n    }\n  }\n);\n  final ImageButton btnAddItem=(ImageButton)view.findViewById(R.id.btn_add_item);\n  btnAddItem.setActivated(false);\n  final EditText textNewUrl=(EditText)view.findViewById(R.id.text_new_url);\n  textNewUrl.addTextChangedListener(new TextWatcher(){\n    @Override public void beforeTextChanged(    CharSequence s,    int start,    int count,    int after){\n    }\n    @Override public void onTextChanged(    CharSequence s,    int start,    int before,    int count){\n    }\n    @Override public void afterTextChanged(    Editable s){\n      btnAddItem.setActivated(Patterns.WEB_URL.matcher(s.toString()).matches());\n    }\n  }\n);\n  btnAddItem.setOnClickListener(new View.OnClickListener(){\n    @Override public void onClick(    View v){\n      if (btnAddItem.isActivated()) {\n        urlListAdapter.addNewItem(textNewUrl.getText().toString());\n        textNewUrl.setText(R.string.http_prefix);\n        textNewUrl.setSelection(textNewUrl.getText().length());\n      }\n else {\n        Toast.makeText(context,R.string.illegal_url,Toast.LENGTH_SHORT).show();\n      }\n    }\n  }\n);\n  AlertDialog.Builder builder=new AlertDialog.Builder(context);\n  builder.setTitle(R.string.set_custom_url);\n  builder.setCancelable(false);\n  builder.setView(view);\n  builder.setPositiveButton(R.string.close,null);\n  final AlertDialog alertDialog=builder.create();\n  final View viewAddItem=view.findViewById(R.id.add_item);\n  final Button btnEdit=(Button)view.findViewById(R.id.btn_edit);\n  btnEdit.setOnClickListener(new View.OnClickListener(){\n    @Override public void onClick(    View v){\n      btnEdit.setVisibility(View.INVISIBLE);\n      urlListAdapter.toggleEditMode();\n      viewAddItem.setVisibility(View.VISIBLE);\n      alertDialog.getButton(AlertDialog.BUTTON_POSITIVE).setText(R.string.finish);\n    }\n  }\n);\n  alertDialog.setOnShowListener(new DialogInterface.OnShowListener(){\n    @Override public void onShow(    final DialogInterface dialog){\n      final Button okButton=alertDialog.getButton(AlertDialog.BUTTON_POSITIVE);\n      okButton.setOnClickListener(new View.OnClickListener(){\n        @Override public void onClick(        View v){\n          if (okButton.getText().equals(context.getString(R.string.finish))) {\n            urlListAdapter.toggleNormalMode();\n            viewAddItem.setVisibility(View.GONE);\n            btnEdit.setVisibility(View.VISIBLE);\n            okButton.setText(R.string.close);\n          }\n else           if (okButton.getText().equals(context.getString(R.string.close))) {\n            urlListAdapter.persist();\n            listener.urlChanged(urlListAdapter.getCheckedUrl());\n            dialog.dismiss();\n          }\n        }\n      }\n);\n    }\n  }\n);\n  alertDialog.show();\n  alertDialog.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE | WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\n  alertDialog.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_VISIBLE);\n}\n",
      "nodeType" : "Block",
      "astNodeNumber" : 557,
      "astHeight" : 20
    }, {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.TypeDeclaration,bodyDeclarations]",
      "nodePosition" : {
        "charLength" : 4242,
        "startLineNumber" : 36,
        "startColumnNumber" : 4,
        "endLineNumber" : 128,
        "endColumnNumber" : 5
      },
      "nodeContext" : "static void launch(final Context context,final UrlListAdapter urlListAdapter,final OnUrlChangedListener listener){\n  urlListAdapter.init();\n  final View view=LayoutInflater.from(context).inflate(R.layout.dialog_url,null);\n  ListView listView=(ListView)view.findViewById(R.id.listView);\n  listView.setAdapter(urlListAdapter);\n  listView.setOnItemClickListener(new AdapterView.OnItemClickListener(){\n    @Override public void onItemClick(    AdapterView<?> parent,    View view,    int position,    long id){\n      urlListAdapter.setChecked(position);\n    }\n  }\n);\n  final ImageButton btnAddItem=(ImageButton)view.findViewById(R.id.btn_add_item);\n  btnAddItem.setActivated(false);\n  final EditText textNewUrl=(EditText)view.findViewById(R.id.text_new_url);\n  textNewUrl.addTextChangedListener(new TextWatcher(){\n    @Override public void beforeTextChanged(    CharSequence s,    int start,    int count,    int after){\n    }\n    @Override public void onTextChanged(    CharSequence s,    int start,    int before,    int count){\n    }\n    @Override public void afterTextChanged(    Editable s){\n      btnAddItem.setActivated(Patterns.WEB_URL.matcher(s.toString()).matches());\n    }\n  }\n);\n  btnAddItem.setOnClickListener(new View.OnClickListener(){\n    @Override public void onClick(    View v){\n      if (btnAddItem.isActivated()) {\n        urlListAdapter.addNewItem(textNewUrl.getText().toString());\n        textNewUrl.setText(R.string.http_prefix);\n        textNewUrl.setSelection(textNewUrl.getText().length());\n      }\n else {\n        Toast.makeText(context,R.string.illegal_url,Toast.LENGTH_SHORT).show();\n      }\n    }\n  }\n);\n  AlertDialog.Builder builder=new AlertDialog.Builder(context);\n  builder.setTitle(R.string.set_custom_url);\n  builder.setCancelable(false);\n  builder.setView(view);\n  builder.setPositiveButton(R.string.close,null);\n  final AlertDialog alertDialog=builder.create();\n  final View viewAddItem=view.findViewById(R.id.add_item);\n  final Button btnEdit=(Button)view.findViewById(R.id.btn_edit);\n  btnEdit.setOnClickListener(new View.OnClickListener(){\n    @Override public void onClick(    View v){\n      btnEdit.setVisibility(View.INVISIBLE);\n      urlListAdapter.toggleEditMode();\n      viewAddItem.setVisibility(View.VISIBLE);\n      alertDialog.getButton(AlertDialog.BUTTON_POSITIVE).setText(R.string.finish);\n    }\n  }\n);\n  alertDialog.setOnShowListener(new DialogInterface.OnShowListener(){\n    @Override public void onShow(    final DialogInterface dialog){\n      final Button okButton=alertDialog.getButton(AlertDialog.BUTTON_POSITIVE);\n      okButton.setOnClickListener(new View.OnClickListener(){\n        @Override public void onClick(        View v){\n          if (okButton.getText().equals(context.getString(R.string.finish))) {\n            urlListAdapter.toggleNormalMode();\n            viewAddItem.setVisibility(View.GONE);\n            btnEdit.setVisibility(View.VISIBLE);\n            okButton.setText(R.string.close);\n          }\n else           if (okButton.getText().equals(context.getString(R.string.close))) {\n            urlListAdapter.persist();\n            listener.urlChanged(urlListAdapter.getCheckedUrl());\n            dialog.dismiss();\n          }\n        }\n      }\n);\n    }\n  }\n);\n  alertDialog.show();\n  alertDialog.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE | WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\n  alertDialog.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_VISIBLE);\n}\n",
      "nodeType" : "MethodDeclaration",
      "astNodeNumber" : 576,
      "astHeight" : 21
    } ],
    "currentLineData" : {
      "locationInParent" : "ChildListProperty[org.eclipse.jdt.core.dom.Block,statements]",
      "nodePosition" : {
        "charLength" : 82,
        "startLineNumber" : 49,
        "startColumnNumber" : 8,
        "endLineNumber" : 49,
        "endColumnNumber" : 90
      },
      "nodeContext" : "final ImageButton btnAddItem=(ImageButton)view.findViewById(R.id.btn_add_item);\n",
      "nodeType" : "VariableDeclarationStatement",
      "astNodeNumber" : 17,
      "astHeight" : 7
    },
    "tokenLength" : 8,
    "type" : "com.tencent.sonic.demo.ImageButton"
  } ],
  "positionList" : [ {
    "charLength" : 50,
    "startLineNumber" : 49,
    "startColumnNumber" : 39,
    "endLineNumber" : 49,
    "endColumnNumber" : 89
  } ],
  "layoutRelationDataList" : [ ]
}